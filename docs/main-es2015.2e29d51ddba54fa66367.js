(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},crnd:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function o(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(s.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function c(e){return null!==e&&"object"==typeof e}const u=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let h=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(r(i))try{i.call(this)}catch(o){t=o instanceof u?d(o.errors):[o]}if(l(s)){let e=-1,n=s.length;for(;++e<n;){const n=s[e];if(c(n))try{n.unsubscribe()}catch(o){t=t||[],o instanceof u?t=t.concat(d(o.errors)):t.push(o)}}}if(t)throw new u(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;(n=new e)._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function d(e){return e.reduce((e,t)=>e.concat(t instanceof u?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,e,t,n)}}[p](){return this}static create(e,t,n){const r=new f(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class g extends f{constructor(e,t,n,i){let s;super(),this._parentSubscriber=e;let o=this;r(t)?s=t:t&&(s=t.next,n=t.error,i=t.complete,t!==a&&(r((o=Object.create(t)).unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(e,t,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(){}function v(...e){return b(e)}function b(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:y}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:r}=this,i=function(e,t,n){if(e){if(e instanceof f)return e;if(e[p])return e[p]()}return e||t||n?new f(e,t,n):new f(a)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){s.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof f?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=_(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[m](){return this}pipe(...e){return 0===e.length?this:b(e)(this)}toPromise(e){return new(e=_(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function _(e){if(e||(e=s.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const x=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class C extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class E extends f{constructor(e){super(e),this.destination=e}}let k=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new E(this)}lift(e){const t=new S(this,this);return t.operator=e,t}next(e){if(this.closed)throw new x;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new x;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new x;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new x;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new C(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new S(e,t),e})();class S extends k{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function T(e){return e&&"function"==typeof e.schedule}class O extends f{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const I=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()};function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=A(),R=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function N(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const M=e=>{if(e&&"function"==typeof e[m])return(e=>t=>{const n=e[m]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)})(e);if(R(e))return I(e);if(N(e))return(e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t))(e);if(e&&"function"==typeof e[P])return(e=>t=>{const n=e[P]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t})(e);{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function D(e,t,n,r,i=new O(e,n,r)){if(!i.closed)return t instanceof w?t.subscribe(i):M(t)(i)}class V extends f{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function j(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new F(e,t))}}class F{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new U(e,this.project,this.thisArg))}}class U extends f{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function L(e,t){return new w(n=>{const r=new h;let i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function B(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[m]}(e))return function(e,t){return new w(n=>{const r=new h;return r.add(t.schedule(()=>{const i=e[m]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if(N(e))return function(e,t){return new w(n=>{const r=new h;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if(R(e))return L(e,t);if(function(e){return e&&"function"==typeof e[P]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[P](),r.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())})))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof w?e:new w(M(e))}function H(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(H((n,r)=>B(e(n,r)).pipe(j((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new $(e,n)))}class ${constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new q(e,this.project,this.concurrent))}}class q extends V{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new O(this,void 0,void 0);this.destination.add(r),D(this,e,t,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function z(e){return e}function W(e=Number.POSITIVE_INFINITY){return H(z,e)}function K(e,t){return t?L(e,t):new w(I(e))}function Q(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return T(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof w?e[0]:W(t)(K(e,n))}function G(){return function(e){return e.lift(new Z(e))}}class Z{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new J(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class J extends f{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class Y extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new h).add(this.source.subscribe(new ee(this.getSubject(),this))),e.closed&&(this._connection=null,e=h.EMPTY)),e}refCount(){return G()(this)}}const X=(()=>{const e=Y.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class ee extends E{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function te(e,t){return function(n){let r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new ne(r,t));const i=Object.create(n,X);return i.source=n,i.subjectFactory=r,i}}class ne{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i}}function re(){return new k}const ie="__annotations__",se="__parameters__",oe="__prop__metadata__";function ae(e,t,n,r,i){const s=le(t);function o(...e){if(this instanceof o)return s.call(this,...e),this;const t=new o(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(ie)?n[ie]:Object.defineProperty(n,ie,{value:[]})[ie]).push(t),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}function le(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function ce(e,t,n){const r=le(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(se)?e[se]:Object.defineProperty(e,se,{value:[]})[se];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}const ue=ce("Inject",e=>({token:e})),he=ce("Optional"),de=ce("Self"),pe=ce("SkipSelf");var fe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ge(e){for(let t in e)if(e[t]===ge)return t;throw Error("Could not find renamed property on target object.")}function me(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ye(e){const t=e[ve];return t&&t.token===e?t:null}const ve=ge({ngInjectableDef:ge});function be(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(be).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const we=ge({__forward_ref__:ge});function _e(e){return e.__forward_ref__=_e,e.toString=function(){return be(this())},e}function xe(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(we)&&t.__forward_ref__===_e?t():e}const Ce="undefined"!=typeof globalThis&&globalThis,Ee="undefined"!=typeof window&&window,ke="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Se="undefined"!=typeof global&&global,Te=Ce||Se||Ee||ke;class Oe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=me({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ie=new Oe("INJECTOR",-1),Ae=new Object,Pe="ngTempTokenPath",Re="ngTokenPath",Ne=/\n/gm,Me="\u0275",De="__source",Ve=ge({provide:String,useValue:ge});let je,Fe=void 0;function Ue(e){const t=Fe;return Fe=e,t}function Le(e,t=fe.Default){if(void 0===Fe)throw new Error("inject() must be called from an injection context");return null===Fe?function(e,t,n){const r=ye(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&fe.Optional)return null;throw new Error(`Injector: NOT_FOUND [${be(e)}]`)}(e,0,t):Fe.get(e,t&fe.Optional?null:void 0,t)}function Be(e,t=fe.Default){return(je||Le)(e,t)}const He=Be;function $e(e){const t=[];for(let n=0;n<e.length;n++){const r=xe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=fe.Default;for(let t=0;t<r.length;t++){const i=r[t];i instanceof he||"Optional"===i.ngMetadataName||i===he?n|=fe.Optional:i instanceof pe||"SkipSelf"===i.ngMetadataName||i===pe?n|=fe.SkipSelf:i instanceof de||"Self"===i.ngMetadataName||i===de?n|=fe.Self:e=i instanceof ue||i===ue?i.token:i}t.push(Be(e,n))}else t.push(Be(r))}return t}class qe{get(e,t=Ae){if(t===Ae){const t=new Error(`NullInjectorError: No provider for ${be(e)}!`);throw t.name="NullInjectorError",t}return t}}function ze(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Me?e.substr(2):e;let i=be(t);if(t instanceof Array)i=t.map(be).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):be(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Ne,"\n  ")}`}class We{}class Ke{}function Qe(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ge(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Ze=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Je=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Te))(),Ye="ngDebugContext",Xe="ngOriginalError",et="ngErrorLogger";function tt(e){return e[Ye]}function nt(e){return e[Xe]}function rt(e,...t){e.error(...t)}class it{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[et]||rt}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?tt(e)?tt(e):this._findContext(nt(e)):null}_findOriginalError(e){let t=nt(e);for(;t&&nt(t);)t=nt(t);return t}}let st=!0,ot=!1;function at(){return ot=!0,st}class lt{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ct=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ut=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ht(e){return(e=String(e)).match(ct)||e.match(ut)?e:(at()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function dt(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function pt(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const ft=dt("area,br,col,hr,img,wbr"),gt=dt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mt=dt("rp,rt"),yt=pt(mt,gt),vt=pt(ft,pt(gt,dt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pt(mt,dt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yt),bt=dt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wt=dt("srcset"),_t=pt(bt,wt,dt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xt=dt("script,style,template");class Ct{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!vt.hasOwnProperty(t))return this.sanitizedSomething=!0,!xt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,s=t.toLowerCase();if(!_t.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;bt[s]&&(o=ht(o)),wt[s]&&(r=o,o=(r=String(r)).split(",").map(e=>ht(e.trim())).join(", ")),this.buf.push(" ",t,'="',St(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();vt.hasOwnProperty(t)&&!ft.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(St(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Et=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kt=/([^\#-~ |!])/g;function St(e){return e.replace(/&/g,"&amp;").replace(Et,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(kt,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tt;function Ot(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const It=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class At{}const Pt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Rt=/^url\(([^)]+)\)$/,Nt=/([A-Z])/g;function Mt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let Dt=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Vt(),e})();const Vt=(...e)=>{},jt=Function;function Ft(e){return"function"==typeof e}const Ut=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Lt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Bt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ht=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class $t{constructor(e){this._reflect=e||Te.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=void 0===e?new Array(t.length):new Array(e.length);for(let r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),Ut.test(n)||Ht.test(n)||Lt.test(n)&&!Bt.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map(e=>e&&e.type),n=e.map(e=>e&&qt(e.decorators));return this._zipTypesAndAnnotations(t,n)}const i=e.hasOwnProperty(se)&&e[se],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||i?this._zipTypesAndAnnotations(s,i):new Array(e.length).fill(void 0)}parameters(e){if(!Ft(e))return[];const t=zt(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?qt(e.decorators):e.hasOwnProperty(ie)?e[ie]:null}annotations(e){if(!Ft(e))return[];const t=zt(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=qt(t[e])}),n}return e.hasOwnProperty(oe)?e[oe]:null}propMetadata(e){if(!Ft(e))return{};const t=zt(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return Ft(e)&&this._ownPropMetadata(e,zt(e))||{}}hasLifecycleHook(e,t){return e instanceof jt&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${be(e)}`}resourceUri(e){return`./${be(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function qt(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function zt(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const Wt=ge({provide:String,useValue:ge}),Kt=[];function Qt(e,t){if(!t){const t=(new $t).parameters(e);return()=>new e(...$e(t))}if(Wt in t){const e=t;return()=>e.useValue}if(t.useExisting){const e=t;return()=>Be(e.useExisting)}if(t.useFactory){const e=t;return()=>e.useFactory(...$e(e.deps||Kt))}if(t.useClass){const n=t;let r=t.deps;if(!r){const t=new $t;r=t.parameters(e)}return()=>new n.useClass(...$e(r))}{let n=t.deps;if(!n){const t=new $t;n=t.parameters(e)}return()=>new e(...$e(n))}}const Gt=ae("Injectable",void 0,void 0,void 0,(e,t)=>Zt(e,t)),Zt=function(e,t){t&&void 0!==t.providedIn&&!ye(e)&&(e.ngInjectableDef=me({token:e,providedIn:t.providedIn,factory:Qt(e,t)}))},Jt=new Oe("The presence of this token marks an injector as being the root injector."),Yt=function(e,t,n){return new on(e,t,n)};let Xt=(()=>{class e{static create(e,t){return Array.isArray(e)?Yt(e,t,""):Yt(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Ae,e.NULL=new qe,e.ngInjectableDef=me({token:e,providedIn:"any",factory:()=>Be(Ie)}),e.__NG_ELEMENT_ID__=-1,e})();const en=function(e){return e},tn=[],nn=en,rn=function(){return Array.prototype.slice.call(arguments)},sn="\u0275";class on{constructor(e,t=Xt.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(Xt,{token:Xt,fn:en,deps:tn,value:this,useNew:!1}),r.set(Ie,{token:Ie,fn:en,deps:tn,value:this,useNew:!1}),function e(t,n){if(n)if((n=xe(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw ln("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ln("Unexpected provider",n);{let e=xe(n.provide);const r=function(e){const t=function(e){let t=tn;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,i=xe(n[e]);if(i instanceof Array)for(let e=0,t=i;e<t.length;e++){const n=t[e];n instanceof he||n==he?r|=1:n instanceof pe||n==pe?r&=-3:n instanceof de||n==de?r&=-5:i=n instanceof ue?n.token:xe(n)}t.push({token:i,options:r})}}else if(e.useExisting)t=[{token:xe(e.useExisting),options:6}];else if(!(n||Ve in e))throw ln("'deps' required",e);return t}(e);let n=en,r=tn,i=!1,s=xe(e.provide);if(Ve in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=xe(e.useClass);else{if("function"!=typeof s)throw ln("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=s}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==rn)throw an(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:rn,value:tn});r.deps.push({token:e=n,options:6})}const i=t.get(e);if(i&&i.fn==rn)throw an(e);t.set(e,r)}}}(r,e)}get(e,t,n=fe.Default){const r=this._records.get(e);try{return function e(t,n,r,i,s,o){try{return function(t,n,r,i,s,o){let a;if(!n||o&fe.SkipSelf)o&fe.Self||(a=i.get(t,s,fe.Default));else{if((a=n.value)==nn)throw Error(sn+"Circular dependency");if(a===tn){n.value=nn;let t=void 0,s=n.useNew,o=n.fn,l=n.deps,c=tn;if(l.length){c=[];for(let t=0;t<l.length;t++){const n=l[t],s=n.options,o=2&s?r.get(n.token):void 0;c.push(e(n.token,o,r,o||4&s?i:Xt.NULL,1&s?null:Xt.THROW_IF_NOT_FOUND,fe.Default))}}n.value=a=s?new o(...c):o.apply(t,c)}}return a}(t,n,r,i,s,o)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[Pe]=a[Pe]||[]).unshift(t),n&&n.value==nn&&(n.value=tn),a}}(e,r,this._records,this.parent,t,n)}catch(i){return function(e,t,n,r){const i=e[Pe];throw t[De]&&i.unshift(t[De]),e.message=ze("\n"+e.message,i,"StaticInjectorError",r),e[Re]=i,e[Pe]=null,e}(i,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(be(n))),`StaticInjector[${e.join(", ")}]`}}function an(e){return ln("Cannot mix multi providers and regular providers",e)}function ln(e,t){return new Error(ze(e,t,"StaticInjectorError"))}const cn=new Oe("AnalyzeForEntryComponents");let un=null;function hn(){if(!un){const e=Te.Symbol;if(e&&e.iterator)un=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(un=n)}}}return un}function dn(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function pn(e,t){const n=gn(e),r=gn(t);if(n&&r)return function(e,t,n){const r=e[hn()](),i=t[hn()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,pn);{const i=e&&("object"==typeof e||"function"==typeof e),s=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!s)||dn(e,t)}}class fn{constructor(e){this.wrapped=e}static wrap(e){return new fn(e)}static unwrap(e){return fn.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof fn}}function gn(e){return!!mn(e)&&(Array.isArray(e)||!(e instanceof Map)&&hn()in e)}function mn(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function yn(e){return!!e&&"function"==typeof e.then}function vn(e){return!!e&&"function"==typeof e.subscribe}class bn{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class wn{}class _n{}function xn(e){const t=Error(`No component factory found for ${be(e)}. Did you add it to @NgModule.entryComponents?`);return t[Cn]=e,t}const Cn="ngComponent";class En{resolveComponentFactory(e){throw xn(e)}}let kn=(()=>{class e{}return e.NULL=new En,e})();class Sn{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw xn(e);return new Tn(t,this._ngModule)}}class Tn extends _n{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}function On(...e){}let In=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>An(e),e})();const An=On;class Pn{}class Rn{}const Nn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let Mn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Dn(),e})();const Dn=On;class Vn{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const jn=new Vn("8.2.14");class Fn{constructor(){}supports(e){return gn(e)}create(e){return new Ln(e)}}const Un=(e,t)=>t;class Ln{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Un}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<qn(n,r,i)?t:n,o=qn(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!gn(e))throw new Error(`Error trying to diff '${be(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)r=this._trackByFn(t,n=e[t]),null!==i&&dn(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),dn(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[hn()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&dn(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),dn(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(dn(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(dn(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Bn(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new $n),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $n),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Bn{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hn{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&dn(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class $n{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Hn,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qn(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class zn{constructor(){}supports(e){return e instanceof Map||mn(e)}create(){return new Wn}}class Wn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||mn(e)))throw new Error(`Error trying to diff '${be(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Kn(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){dn(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Kn{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Qn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new pe,new he]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=me({token:e,providedIn:"root",factory:()=>new e([new Fn])}),e})(),Gn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new pe,new he]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=me({token:e,providedIn:"root",factory:()=>new e([new zn])}),e})();const Zn=[new zn],Jn=new Qn([new Fn]),Yn=new Gn(Zn);let Xn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>er(e,In),e})();const er=On;let tr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>nr(e,In),e})();const nr=On;function rr(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return ir(n,t),n}(i,e)}function ir(e,t){e[Ye]=t,e[et]=t.logError.bind(t)}function sr(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function or(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function ar(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function lr(e,t){return e.nodes[t]}function cr(e,t){return e.nodes[t]}function ur(e,t){return e.nodes[t]}function hr(e,t){return e.nodes[t]}function dr(e,t){return e.nodes[t]}const pr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},fr=()=>{},gr=new Map;function mr(e){let t=gr.get(e);return t||(t=be(e)+"_"+gr.size,gr.set(e,t)),t}const yr="$$undefined",vr="$$empty";function br(e){return{id:yr,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let wr=0;function _r(e,t,n,r){return!(!(2&e.state)&&dn(e.oldValues[t.bindingIndex+n],r))}function xr(e,t,n,r){return!!_r(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function Cr(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!pn(i,r)){const s=t.bindings[n].name;throw rr(pr.createDebugContext(e,t.nodeIndex),`${s}: ${i}`,`${s}: ${r}`,0!=(1&e.state))}}function Er(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function kr(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Sr(e,t,n,r){try{return Er(33554432&e.def.nodes[t].flags?cr(e,t).componentView:e),pr.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function Tr(e){return e.parent?cr(e.parent,e.parentNodeDef.nodeIndex):null}function Or(e){return e.parent?e.parentNodeDef.parent:null}function Ir(e,t){switch(201347067&t.flags){case 1:return cr(e,t.nodeIndex).renderElement;case 2:return lr(e,t.nodeIndex).renderText}}function Ar(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Pr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Rr(e){return 1<<e%32}function Nr(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=Rr(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function Mr(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,De,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:mr(n)}})}function Dr(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Ze.Native?cr(e,n.renderParent.nodeIndex).renderElement:void 0:t}const Vr=new WeakMap;function jr(e){let t=Vr.get(e);return t||((t=e(()=>fr)).factory=e,Vr.set(e,t)),t}function Fr(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(Ir(e,e.def.lastRenderRootNode))),Ur(e,t,0,e.def.nodes.length-1,n,r,i)}function Ur(e,t,n,r,i,s,o){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&Br(e,n,t,i,s,o),a+=n.childCount}}function Lr(e,t,n,r,i,s){let o=e;for(;o&&!Ar(o);)o=o.parent;const a=o.parent,l=Or(o),c=l.nodeIndex+l.childCount;for(let u=l.nodeIndex+1;u<=c;u++){const e=a.def.nodes[u];e.ngContentIndex===t&&Br(a,e,n,r,i,s),u+=e.childCount}if(!a.parent){const o=e.root.projectableNodes[t];if(o)for(let t=0;t<o.length;t++)Hr(e,o[t],n,r,i,s)}}function Br(e,t,n,r,i,s){if(8&t.flags)Lr(e,t.ngContent.index,n,r,i,s);else{const o=Ir(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Hr(e,o,n,r,i,s),32&t.bindingFlags&&Hr(cr(e,t.nodeIndex).componentView,o,n,r,i,s)):Hr(e,o,n,r,i,s),16777216&t.flags){const o=cr(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<o.length;e++)Fr(o[e],n,r,i,s)}1&t.flags&&!t.element.name&&Ur(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,s)}}function Hr(e,t,n,r,i,s){const o=e.renderer;switch(n){case 1:o.appendChild(r,t);break;case 2:o.insertBefore(r,t,i);break;case 3:o.removeChild(r,t);break;case 0:s.push(t)}}const $r=/^:([^:]+):(.+)$/;function qr(e){if(":"===e[0]){const t=e.match($r);return[t[1],t[2]]}return["",e]}function zr(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Wr(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,g,m,y,v,b){switch(e){case 1:return t+Kr(n)+r;case 2:return t+Kr(n)+r+Kr(i)+s;case 3:return t+Kr(n)+r+Kr(i)+s+Kr(o)+a;case 4:return t+Kr(n)+r+Kr(i)+s+Kr(o)+a+Kr(l)+c;case 5:return t+Kr(n)+r+Kr(i)+s+Kr(o)+a+Kr(l)+c+Kr(u)+h;case 6:return t+Kr(n)+r+Kr(i)+s+Kr(o)+a+Kr(l)+c+Kr(u)+h+Kr(d)+p;case 7:return t+Kr(n)+r+Kr(i)+s+Kr(o)+a+Kr(l)+c+Kr(u)+h+Kr(d)+p+Kr(f)+g;case 8:return t+Kr(n)+r+Kr(i)+s+Kr(o)+a+Kr(l)+c+Kr(u)+h+Kr(d)+p+Kr(f)+g+Kr(m)+y;case 9:return t+Kr(n)+r+Kr(i)+s+Kr(o)+a+Kr(l)+c+Kr(u)+h+Kr(d)+p+Kr(f)+g+Kr(m)+y+Kr(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function Kr(e){return null!=e?e.toString():""}const Qr=new Object,Gr=mr(Xt),Zr=mr(Ie),Jr=mr(We);function Yr(e,t,n,r){return n=xe(n),{index:-1,deps:Mr(r,be(t)),flags:e,token:t,value:n}}function Xr(e,t,n=Xt.THROW_IF_NOT_FOUND){const r=Ue(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const o=t.tokenKey;switch(o){case Gr:case Zr:case Jr:return e}const a=e._def.providersByKey[o];let l;if(a){let t=e._providers[a.index];return void 0===t&&(t=e._providers[a.index]=ei(e,a)),t===Qr?void 0:t}if((l=ye(t.token))&&(i=e,null!=(s=l).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(i,s.providedIn)||"root"===s.providedIn&&i._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:t.token},e._providers[n]=Qr,e._providers[n]=ei(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Ue(r)}var i,s}function ei(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(Xr(e,n[0]));case 2:return new t(Xr(e,n[0]),Xr(e,n[1]));case 3:return new t(Xr(e,n[0]),Xr(e,n[1]),Xr(e,n[2]));default:const i=new Array(r);for(let t=0;t<r;t++)i[t]=Xr(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(Xr(e,n[0]));case 2:return t(Xr(e,n[0]),Xr(e,n[1]));case 3:return t(Xr(e,n[0]),Xr(e,n[1]),Xr(e,n[2]));default:const i=Array(r);for(let t=0;t<r;t++)i[t]=Xr(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=Xr(e,t.deps[0]);break;case 256:n=t.value}return n===Qr||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Qr:n}function ti(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,Ge(n,t),pr.dirtyParentQueries(r),ri(r),r}function ni(e,t,n){const r=t?Ir(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);Fr(n,2,i,s,void 0)}function ri(e){Fr(e,3,null,null,void 0)}const ii=new Object;function si(e,t,n,r,i,s){return new oi(e,t,n,r,i,s)}class oi extends _n{constructor(e,t,n,r,i,s){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=jr(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,o=pr.createRootView(e,t||[],n,i,r,ii),a=ur(o,s).instance;return n&&o.renderer.setAttribute(cr(o,0).renderElement,"ng-version",jn.full),new ai(o,new hi(o),a)}}class ai extends wn{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new In(cr(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new gi(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function li(e,t,n){return new ci(e,t,n)}class ci{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new In(this._data.renderElement)}get injector(){return new gi(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=Or(e),e=e.parent;return e?new gi(e,t):new gi(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=ti(this._data,e);pr.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new hi(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;i||e instanceof Tn||(i=s.get(We));const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,Qe(i,n,r),function(e,t){const n=Tr(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),pr.dirtyParentQueries(r),ni(t,n>0?i[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,i=r[t];Ge(r,t),null==n&&(n=r.length),Qe(r,n,i),pr.dirtyParentQueries(i),ri(i),ni(e,n>0?r[n-1]:null,i)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=ti(this._data,e);t&&pr.destroyView(t)}detach(e){const t=ti(this._data,e);return t?new hi(t):null}}function ui(e){return new hi(e)}class hi{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return Fr(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Er(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{pr.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){pr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),pr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,ri(this._view),pr.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function di(e,t){return new pi(e,t)}class pi extends Xn{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new hi(pr.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new In(cr(this._parentView,this._def.nodeIndex).renderElement)}}function fi(e,t){return new gi(e,t)}class gi{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Xt.THROW_IF_NOT_FOUND){return pr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:mr(e)},t)}}function mi(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=cr(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return lr(e,n.nodeIndex).renderText;if(20240&n.flags)return ur(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function yi(e){return new vi(e.renderer)}class vi{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=qr(t),i=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,i),i}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,i]=qr(t);null!=n?this.delegate.setAttribute(e,i,n,r):this.delegate.removeAttribute(e,i,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function bi(e,t,n,r){return new wi(e,t,n,r)}class wi{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=ei(e,i))}}(this)}get(e,t=Xt.THROW_IF_NOT_FOUND,n=fe.Default){let r=0;return n&fe.SkipSelf?r|=1:n&fe.Self&&(r|=4),Xr(this,{token:e,tokenKey:mr(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(kn)}destroy(){if(this._destroyed)throw new Error(`The ng module ${be(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==Qr){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const _i=mr(Pn),xi=mr(Mn),Ci=mr(In),Ei=mr(tr),ki=mr(Xn),Si=mr(Dt),Ti=mr(Xt),Oi=mr(Ie);function Ii(e,t,n,r,i,s,o,a){const l=[];if(o)for(let u in o){const[e,t]=o[u];l[e]={flags:8,name:u,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let u in a)c.push({type:1,propName:u,target:null,eventName:a[u]});return Pi(e,t|=16384,n,r,i,i,s,l,c)}function Ai(e,t,n,r,i){return Pi(-1,e,t,0,n,r,i)}function Pi(e,t,n,r,i,s,o,a,l){const{matchedQueries:c,references:u,matchedQueryIds:h}=Nr(n);l||(l=[]),a||(a=[]),s=xe(s);const d=Mr(o,be(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:u,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:zr(a),outputs:l,element:null,provider:{token:i,value:s,deps:d},text:null,query:null,ngContent:null}}function Ri(e,t){return Vi(e,t)}function Ni(e,t){let n=e;for(;n.parent&&!Ar(n);)n=n.parent;return ji(n.parent,Or(n),!0,t.provider.value,t.provider.deps)}function Mi(e,t){const n=ji(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const i=t.outputs[r],s=n[i.propName];if(!vn(s))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe(Di(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function Di(e,t,n){return r=>Sr(e,t,n,r)}function Vi(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return ji(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const s=i.length;switch(s){case 0:return r();case 1:return r(Ui(e,t,n,i[0]));case 2:return r(Ui(e,t,n,i[0]),Ui(e,t,n,i[1]));case 3:return r(Ui(e,t,n,i[0]),Ui(e,t,n,i[1]),Ui(e,t,n,i[2]));default:const o=Array(s);for(let r=0;r<s;r++)o[r]=Ui(e,t,n,i[r]);return r(...o)}}(e,t.parent,n,r.value,r.deps);case 2048:return Ui(e,t.parent,n,r.deps[0]);case 256:return r.value}}function ji(e,t,n,r,i){const s=i.length;switch(s){case 0:return new r;case 1:return new r(Ui(e,t,n,i[0]));case 2:return new r(Ui(e,t,n,i[0]),Ui(e,t,n,i[1]));case 3:return new r(Ui(e,t,n,i[0]),Ui(e,t,n,i[1]),Ui(e,t,n,i[2]));default:const o=new Array(s);for(let r=0;r<s;r++)o[r]=Ui(e,t,n,i[r]);return new r(...o)}}const Fi={};function Ui(e,t,n,r,i=Xt.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const s=e;2&r.flags&&(i=null);const o=r.tokenKey;o===Si&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(o){case _i:return yi(Li(a,t,n));case xi:return Li(a,t,n).renderer;case Ci:return new In(cr(a,t.nodeIndex).renderElement);case Ei:return cr(a,t.nodeIndex).viewContainer;case ki:if(t.element.template)return cr(a,t.nodeIndex).template;break;case Si:return ui(Li(a,t,n));case Ti:case Oi:return fi(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[o];if(e){let t=ur(a,e.nodeIndex);return t||(t={instance:Vi(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=Ar(a),t=Or(a),a=a.parent,4&r.flags&&(a=null)}const l=s.root.injector.get(r.token,Fi);return l!==Fi||i===Fi?l:s.root.ngModule.injector.get(r.token,i)}function Li(e,t,n){let r;if(n)r=cr(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Ar(r);)r=r.parent;return r}function Bi(e,t,n,r,i,s){if(32768&n.flags){const t=cr(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){s=s||{};const t=fn.unwrap(e.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new bn(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,s}function Hi(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const s=n[i];let o=s.parent;for(!o&&s.flags&t&&qi(e,i,s.flags&t,r++),0==(s.childFlags&t)&&(i+=s.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&t&&(r=$i(e,o,t,r)),o=o.parent}}function $i(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&qi(e,i,t.flags&n,r++),i+=t.childCount}return r}function qi(e,t,n,r){const i=ur(e,t);if(!i)return;const s=i.instance;s&&(pr.setCurrentNode(e,t),1048576&n&&ar(e,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&ar(e,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}const zi=new Oe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Je}),Wi={},Ki=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Qi=void 0;var Gi=["en",[["a","p"],["AM","PM"],Qi],[["AM","PM"],Qi,Qi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qi,"{1} 'at' {0}",Qi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];const Zi="en-US";let Ji=Zi;function Yi(e){var t;t="Expected localeId to be defined",null==e&&function(e){throw new Error(`ASSERTION ERROR: ${e}`)}(t),"string"==typeof e&&(Ji=e.toLowerCase().replace(/_/g,"-"))}class Xi extends k{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,i=e=>null,s=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(i=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return e instanceof h&&e.add(o),o}}function es(){return this._results[hn()]()}class ts{constructor(){this.dirty=!0,this._results=[],this.changes=new Xi,this.length=0;const e=hn(),t=ts.prototype;t[e]||(t[e]=es)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const ns=ae("NgModule",e=>e,void 0,void 0,(e,t)=>rs(e,t)),rs=function(e,t){let n=t&&t.imports||[];var r;t&&t.exports&&(n=[...n,t.exports]),e.ngInjectorDef={factory:(r={factory:Qt(e,{useClass:e}),providers:t&&t.providers,imports:n}).factory,providers:r.providers||[],imports:r.imports||[]}},is=new Oe("Application Initializer");class ss{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();yn(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const os=new Oe("AppId");function as(){return`${ls()}${ls()}${ls()}`}function ls(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cs=new Oe("Platform Initializer"),us=new Oe("Platform ID"),hs=new Oe("appBootstrapListener");class ds{log(e){console.log(e)}warn(e){console.warn(e)}}const ps=new Oe("LocaleId"),fs=!1;function gs(){throw new Error("Runtime compiler is not loaded")}const ms=gs,ys=gs,vs=gs,bs=gs;class ws{constructor(){this.compileModuleSync=ms,this.compileModuleAsync=ys,this.compileModuleAndAllComponentsSync=vs,this.compileModuleAndAllComponentsAsync=bs}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class _s{}let xs,Cs;function Es(){const e=Te.wtf;return!(!e||!(xs=e.trace)||(Cs=xs.events,0))}const ks=Es();function Ss(e,t){return null}const Ts=ks?function(e,t=null){return Cs.createScope(e,t)}:(e,t)=>Ss,Os=ks?function(e,t){return xs.leaveScope(e,t),t}:(e,t)=>t,Is=(()=>Promise.resolve(0))();function As(e){"undefined"==typeof Zone?Is.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ps{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xi(!1),this.onMicrotaskEmpty=new Xi(!1),this.onStable=new Xi(!1),this.onError=new Xi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,i,s,o)=>{try{return Ds(t),e.invokeTask(r,i,s,o)}finally{Vs(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Ds(t),e.invoke(r,i,s,o,a)}finally{Vs(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,Ms(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ps.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ps.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,Ns,Rs,Rs);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function Rs(){}const Ns={};function Ms(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ds(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Vs(e){e._nesting--,Ms(e)}class js{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xi,this.onMicrotaskEmpty=new Xi,this.onStable=new Xi,this.onError=new Xi}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class Fs{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ps.assertNotInAngularZone(),As(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())As(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}class Us{constructor(){this._applications=new Map,Hs.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Hs.findTestabilityInTree(this,e,t)}}class Ls{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let Bs,Hs=new Ls,$s=function(e,t,n){return e.get(_s).createCompiler([t]).compileModuleAsync(n)},qs=function(e){return e instanceof Tn};const zs=new Oe("AllowMultipleToken");class Ws{constructor(e,t){this.name=e,this.token=t}}function Ks(e,t,n=[]){const r=`Platform: ${t}`,i=new Oe(r);return(t=[])=>{let s=Qs();if(!s||s.injector.get(zs,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(Bs&&!Bs.destroyed&&!Bs.injector.get(zs,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Bs=e.get(Gs);const t=e.get(cs,null);t&&t.forEach(e=>e())}(Xt.create({providers:e,name:r}))}return function(e){const t=Qs();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Qs(){return Bs&&!Bs.destroyed?Bs:null}class Gs{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n="noop"===(i=t?t.ngZone:void 0)?new js:("zone.js"===i?void 0:i)||new Ps({enableLongStackTrace:at()}),r=[{provide:Ps,useValue:n}];var i;return n.run(()=>{const t=Xt.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(it,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return fs&&Yi(i.injector.get(ps,Zi)||Zi),i.onDestroy(()=>Ys(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{s.handleError(e)}})),function(e,t,n){try{const r=n();return yn(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(ss);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Zs({},t);return $s(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Js);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${be(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Zs(e,t){return Array.isArray(t)?t.reduce(Zs,e):Object.assign({},e,t)}let Js=(()=>{class e{constructor(e,t,n,r,i,s){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=at(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new w(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Ps.assertNotInAngularZone(),As(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ps.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=Q(o,a.pipe(e=>G()(te(re)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof _n?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=qs(n)?null:this._injector.get(We),i=n.create(Xt.NULL,[],t||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Fs,null);return s&&i.injector.get(Us).registerApplication(i.location.nativeElement,s),this._loadComponent(i),at()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Os(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Ys(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(hs,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Ys(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=Ts("ApplicationRef#tick()"),e})();function Ys(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Xs{}const eo="#",to="NgFactory";class no{}const ro={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class io{constructor(e,t){this._compiler=e,this._config=t||ro}load(e){return!fs&&this._compiler instanceof ws?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split(eo);return void 0===r&&(r="default"),n("crnd")(t).then(e=>e[r]).then(e=>so(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split(eo),i=to;return void 0===r&&(r="default",i=""),n("crnd")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>so(e,t,r))}}function so(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class oo{constructor(e,t){this.name=e,this.callback=t}}class ao{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof lo&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class lo extends ao{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof lo&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof lo&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof lo&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof lo)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const co=new Map,uo=function(e){return co.get(e)||null};function ho(e){co.set(e.nativeNode,e)}const po=Ks(null,"core",[{provide:us,useValue:"unknown"},{provide:Gs,deps:[Xt]},{provide:Us,deps:[]},{provide:ds,deps:[]}]);function fo(){return Jn}function go(){return Yn}function mo(e){return e?(fs&&Yi(e),e):Zi}function yo(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class vo{constructor(e){}}function bo(e,t,n,r,i,s){e|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=Nr(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?jr(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||fr},provider:null,text:null,query:null,ngContent:null}}function wo(e,t,n,r,i,s,o=[],a,l,c,u,h){c||(c=fr);const{matchedQueries:d,references:p,matchedQueryIds:f}=Nr(n);let g=null,m=null;s&&([g,m]=qr(s)),a=a||[];const y=new Array(a.length);for(let w=0;w<a.length;w++){const[e,t,n]=a[w],[r,i]=qr(t);let s=void 0,o=void 0;switch(15&e){case 4:o=n;break;case 1:case 8:s=n}y[w]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:s,suffix:o}}l=l||[];const v=new Array(l.length);for(let w=0;w<l.length;w++){const[e,t]=l[w];v[w]={type:0,target:e,eventName:t,propName:null}}const b=(o=o||[]).map(([e,t])=>{const[n,r]=qr(e);return[n,r,t]});return h=function(e){if(e&&e.id===yr){const t=null!=e.encapsulation&&e.encapsulation!==Ze.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${wr++}`:vr}return e&&e.id===vr&&(e=null),e||null}(h),u&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:zr(y),outputs:v,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:u||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||fr},provider:null,text:null,query:null,ngContent:null}}function _o(e,t,n){const r=n.element,i=e.root.selectorOrNode,s=e.renderer;let o;if(e.parent||!i){o=r.name?s.createElement(r.name,r.ns):s.createComment("");const i=Dr(e,t,n);i&&s.appendChild(i,o)}else o=s.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Ze.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];s.setAttribute(o,t,n,e)}return o}function xo(e,t,n,r){for(let o=0;o<n.outputs.length;o++){const a=n.outputs[o],l=Co(e,n.nodeIndex,(s=a.eventName,(i=a.target)?`${i}:${s}`:s));let c=a.target,u=e;"component"===a.target&&(c=null,u=t);const h=u.renderer.listen(c||r,a.eventName,l);e.disposables[n.outputIndex+o]=h}var i,s}function Co(e,t,n){return r=>Sr(e,t,n,r)}function Eo(e,t,n,r){if(!xr(e,t,n,r))return!1;const i=t.bindings[n],s=cr(e,t.nodeIndex),o=s.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,s){const o=t.securityContext;let a=o?e.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const l=e.renderer;null!=s?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(e,i,o,i.ns,a,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,o,a,r);break;case 4:!function(e,t,n,r,i){let s=e.root.sanitizer.sanitize(It.STYLE,i);if(null!=s){s=s.toString();const e=t.suffix;null!=e&&(s+=e)}else s=null;const o=e.renderer;null!=s?o.setStyle(n,r,s):o.removeStyle(n,r)}(e,i,o,a,r);break;case 8:!function(e,t,n,r,i){const s=t.securityContext;let o=s?e.root.sanitizer.sanitize(s,i):i;e.renderer.setProperty(n,r,o)}(33554432&t.flags&&32&i.flags?s.componentView:e,i,o,a,r)}return!0}function ko(e,t,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Rr(t),bindings:r},ngContent:null}}function So(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Pr(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&dr(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&dr(e,n).setDirty(),n+=t.childCount}}function To(e,t){const n=dr(e,t.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&t.flags){const n=t.parent.parent;i=Oo(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=ur(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=Oo(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);const s=t.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const e=s[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,o=!0}r[e.propName]=t}o&&n.notifyOnChanges()}function Oo(e,t,n,r,i){for(let s=t;s<=n;s++){const t=e.def.nodes[s],n=t.matchedQueries[r.id];if(null!=n&&i.push(Io(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=cr(e,s);if((t.childMatchedQueries&r.filterId)===r.filterId&&(Oo(e,s+1,s+t.childCount,r,i),s+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const s=e[t],o=Tr(s);o&&o===n&&Oo(s,0,s.def.nodes.length-1,r,i)}}const o=n.template._projectedViews;if(o)for(let e=0;e<o.length;e++){const t=o[e];Oo(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(s+=t.childCount)}return i}function Io(e,t,n){if(null!=n)switch(n){case 1:return cr(e,t.nodeIndex).renderElement;case 0:return new In(cr(e,t.nodeIndex).renderElement);case 2:return cr(e,t.nodeIndex).template;case 3:return cr(e,t.nodeIndex).viewContainer;case 4:return ur(e,t.nodeIndex).instance}}function Ao(e,t,n){const r=Dr(e,t,n);r&&Lr(e,n.ngContent.index,1,r,null,void 0)}function Po(e,t){const n=Object.keys(t),r=n.length,i=new Array(r);for(let s=0;s<r;s++){const e=n[s];i[t[e]]=e}return function(e,t,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const e=n[i];r[i]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:zr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,e,i)}function Ro(e,t,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function No(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const s=Dr(e,t,n);return s&&i.appendChild(s,r),{renderText:r}}function Mo(e,t){return(null!=e?e.toString():"")+t.suffix}function Do(e,t,n,r){let i=0,s=0,o=0,a=0,l=0,c=null,u=null,h=!1,d=!1,p=null;for(let f=0;f<t.length;f++){const e=t[f];if(e.nodeIndex=f,e.parent=c,e.bindingIndex=i,e.outputIndex=s,e.renderParent=u,o|=e.flags,l|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=c?c.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(l|=e.element.template.nodeMatchedQueries)}if(jo(c,e,t.length),i+=e.bindings.length,s+=e.outputs.length,!u&&3&e.flags&&(p=e),20224&e.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?c.element.publicProviders[mr(e.provider.token)]=e:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[mr(e.provider.token)]=e),t&&(c.element.componentProvider=e)}if(c?(c.childFlags|=e.flags,c.directChildFlags|=e.flags,c.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(c.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)c=e,Vo(e)||(u=e);else for(;c&&f===c.nodeIndex+c.childCount;){const e=c.parent;e&&(e.childFlags|=c.childFlags,e.childMatchedQueries|=c.childMatchedQueries),u=(c=e)&&Vo(c)?c.renderParent:c}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||fr,updateRenderer:r||fr,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:s,lastRenderRootNode:p}}function Vo(e){return 0!=(1&e.flags)&&null===e.element.name}function jo(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function Fo(e,t,n,r){const i=Bo(e.root,e.renderer,e,t,n);return Ho(i,e.component,r),$o(i),i}function Uo(e,t,n){const r=Bo(e,e.renderer,null,null,t);return Ho(r,n,n),$o(r),r}function Lo(e,t,n,r){const i=t.element.componentRendererType;let s;return s=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,Bo(e.root,s,e,t.element.componentProvider,n)}function Bo(e,t,n,r,i){const s=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function Ho(e,t,n){e.component=t,e.context=n}function $o(e){let t;Ar(e)&&(t=cr(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];let o;switch(pr.setCurrentNode(e,i),201347067&s.flags){case 1:const n=_o(e,t,s);let a=void 0;if(33554432&s.flags){const t=jr(s.element.componentView);a=pr.createComponentView(e,s,t,n)}xo(e,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?di(e,s):void 0},16777216&s.flags&&(o.viewContainer=li(e,s,o));break;case 2:o=No(e,t,s);break;case 512:case 1024:case 2048:case 256:(o=r[i])||4096&s.flags||(o={instance:Ri(e,s)});break;case 16:o={instance:Ni(e,s)};break;case 16384:(o=r[i])||(o={instance:Mi(e,s)}),32768&s.flags&&Ho(cr(e,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new ts;break;case 8:Ao(e,t,s),o=void 0}r[i]=o}Yo(e,Jo.CreateViewNodes),na(e,201326592,268435456,0)}function qo(e){Ko(e),pr.updateDirectives(e,1),Xo(e,Jo.CheckNoChanges),pr.updateRenderer(e,1),Yo(e,Jo.CheckNoChanges),e.state&=-97}function zo(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,or(e,0,256),Ko(e),pr.updateDirectives(e,0),Xo(e,Jo.CheckAndUpdate),na(e,67108864,536870912,0);let t=or(e,256,512);Hi(e,2097152|(t?1048576:0)),pr.updateRenderer(e,0),Yo(e,Jo.CheckAndUpdate),na(e,134217728,536870912,0),Hi(e,8388608|((t=or(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,or(e,768,1024)}function Wo(e,t,n,r,i,s,o,a,l,c,u,h,d){return 0===n?function(e,t,n,r,i,s,o,a,l,c,u,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,s,o,a,l,c,u,h){const d=t.bindings.length;let p=!1;return d>0&&Eo(e,t,0,n)&&(p=!0),d>1&&Eo(e,t,1,r)&&(p=!0),d>2&&Eo(e,t,2,i)&&(p=!0),d>3&&Eo(e,t,3,s)&&(p=!0),d>4&&Eo(e,t,4,o)&&(p=!0),d>5&&Eo(e,t,5,a)&&(p=!0),d>6&&Eo(e,t,6,l)&&(p=!0),d>7&&Eo(e,t,7,c)&&(p=!0),d>8&&Eo(e,t,8,u)&&(p=!0),d>9&&Eo(e,t,9,h)&&(p=!0),p}(e,t,n,r,i,s,o,a,l,c,u,h);case 2:return function(e,t,n,r,i,s,o,a,l,c,u,h){let d=!1;const p=t.bindings,f=p.length;if(f>0&&xr(e,t,0,n)&&(d=!0),f>1&&xr(e,t,1,r)&&(d=!0),f>2&&xr(e,t,2,i)&&(d=!0),f>3&&xr(e,t,3,s)&&(d=!0),f>4&&xr(e,t,4,o)&&(d=!0),f>5&&xr(e,t,5,a)&&(d=!0),f>6&&xr(e,t,6,l)&&(d=!0),f>7&&xr(e,t,7,c)&&(d=!0),f>8&&xr(e,t,8,u)&&(d=!0),f>9&&xr(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;f>0&&(d+=Mo(n,p[0])),f>1&&(d+=Mo(r,p[1])),f>2&&(d+=Mo(i,p[2])),f>3&&(d+=Mo(s,p[3])),f>4&&(d+=Mo(o,p[4])),f>5&&(d+=Mo(a,p[5])),f>6&&(d+=Mo(l,p[6])),f>7&&(d+=Mo(c,p[7])),f>8&&(d+=Mo(u,p[8])),f>9&&(d+=Mo(h,p[9]));const g=lr(e,t.nodeIndex).renderText;e.renderer.setValue(g,d)}return d}(e,t,n,r,i,s,o,a,l,c,u,h);case 16384:return function(e,t,n,r,i,s,o,a,l,c,u,h){const d=ur(e,t.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=t.bindings.length;return m>0&&_r(e,t,0,n)&&(f=!0,g=Bi(e,d,t,0,n,g)),m>1&&_r(e,t,1,r)&&(f=!0,g=Bi(e,d,t,1,r,g)),m>2&&_r(e,t,2,i)&&(f=!0,g=Bi(e,d,t,2,i,g)),m>3&&_r(e,t,3,s)&&(f=!0,g=Bi(e,d,t,3,s,g)),m>4&&_r(e,t,4,o)&&(f=!0,g=Bi(e,d,t,4,o,g)),m>5&&_r(e,t,5,a)&&(f=!0,g=Bi(e,d,t,5,a,g)),m>6&&_r(e,t,6,l)&&(f=!0,g=Bi(e,d,t,6,l,g)),m>7&&_r(e,t,7,c)&&(f=!0,g=Bi(e,d,t,7,c,g)),m>8&&_r(e,t,8,u)&&(f=!0,g=Bi(e,d,t,8,u,g)),m>9&&_r(e,t,9,h)&&(f=!0,g=Bi(e,d,t,9,h,g)),g&&p.ngOnChanges(g),65536&t.flags&&ar(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),f}(e,t,n,r,i,s,o,a,l,c,u,h);case 32:case 64:case 128:return function(e,t,n,r,i,s,o,a,l,c,u,h){const d=t.bindings;let p=!1;const f=d.length;if(f>0&&xr(e,t,0,n)&&(p=!0),f>1&&xr(e,t,1,r)&&(p=!0),f>2&&xr(e,t,2,i)&&(p=!0),f>3&&xr(e,t,3,s)&&(p=!0),f>4&&xr(e,t,4,o)&&(p=!0),f>5&&xr(e,t,5,a)&&(p=!0),f>6&&xr(e,t,6,l)&&(p=!0),f>7&&xr(e,t,7,c)&&(p=!0),f>8&&xr(e,t,8,u)&&(p=!0),f>9&&xr(e,t,9,h)&&(p=!0),p){const p=hr(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=i),f>3&&(g[3]=s),f>4&&(g[4]=o),f>5&&(g[5]=a),f>6&&(g[6]=l),f>7&&(g[7]=c),f>8&&(g[8]=u),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=r),f>2&&(g[d[2].name]=i),f>3&&(g[d[3].name]=s),f>4&&(g[d[4].name]=o),f>5&&(g[d[5].name]=a),f>6&&(g[d[6].name]=l),f>7&&(g[d[7].name]=c),f>8&&(g[d[8].name]=u),f>9&&(g[d[9].name]=h);break;case 128:const e=n;switch(f){case 1:g=e.transform(n);break;case 2:g=e.transform(r);break;case 3:g=e.transform(r,i);break;case 4:g=e.transform(r,i,s);break;case 5:g=e.transform(r,i,s,o);break;case 6:g=e.transform(r,i,s,o,a);break;case 7:g=e.transform(r,i,s,o,a,l);break;case 8:g=e.transform(r,i,s,o,a,l,c);break;case 9:g=e.transform(r,i,s,o,a,l,c,u);break;case 10:g=e.transform(r,i,s,o,a,l,c,u,h)}}p.value=g}return p}(e,t,n,r,i,s,o,a,l,c,u,h);default:throw"unreachable"}}(e,t,r,i,s,o,a,l,c,u,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)Eo(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let s=0;s<n.length;s++)xr(e,t,s,n[s])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=Mo(n[e],r[e]);i=t.text.prefix+i;const s=lr(e,t.nodeIndex).renderText;e.renderer.setValue(s,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=ur(e,t.nodeIndex),i=r.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)_r(e,t,a,n[a])&&(s=!0,o=Bi(e,r,t,a,n[a],o));return o&&i.ngOnChanges(o),65536&t.flags&&ar(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),s}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let s=0;s<n.length;s++)xr(e,t,s,n[s])&&(i=!0);if(i){const i=hr(e,t.nodeIndex);let s;switch(201347067&t.flags){case 32:s=n;break;case 64:s={};for(let i=0;i<n.length;i++)s[r[i].name]=n[i];break;case 128:const e=n[0],t=n.slice(1);s=e.transform(...t)}i.value=s}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function Ko(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=cr(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,kr(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Qo(e,t,n,r,i,s,o,a,l,c,u,h,d){return 0===n?function(e,t,n,r,i,s,o,a,l,c,u,h){const d=t.bindings.length;d>0&&Cr(e,t,0,n),d>1&&Cr(e,t,1,r),d>2&&Cr(e,t,2,i),d>3&&Cr(e,t,3,s),d>4&&Cr(e,t,4,o),d>5&&Cr(e,t,5,a),d>6&&Cr(e,t,6,l),d>7&&Cr(e,t,7,c),d>8&&Cr(e,t,8,u),d>9&&Cr(e,t,9,h)}(e,t,r,i,s,o,a,l,c,u,h,d):function(e,t,n){for(let r=0;r<n.length;r++)Cr(e,t,r,n[r])}(e,t,r),!1}function Go(e,t){if(dr(e,t.nodeIndex).dirty)throw rr(pr.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function Zo(e){if(!(128&e.state)){if(Xo(e,Jo.Destroy),Yo(e,Jo.Destroy),Hi(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Tr(e);if(t){const n=t.template._projectedViews;n&&(Ge(n,n.indexOf(e)),pr.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(cr(e,n).renderElement):2&t.flags?e.renderer.destroyNode(lr(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&dr(e,n).destroy()}}(e),Ar(e)&&e.renderer.destroy(),e.state|=128}}const Jo=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Yo(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?ea(cr(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Xo(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=cr(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)ea(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function ea(e,t){const n=e.state;switch(t){case Jo.CheckNoChanges:0==(128&n)&&(12==(12&n)?qo(e):64&n&&ta(e,Jo.CheckNoChangesProjectedViews));break;case Jo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?qo(e):64&n&&ta(e,t));break;case Jo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?zo(e):64&n&&ta(e,Jo.CheckAndUpdateProjectedViews));break;case Jo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?zo(e):64&n&&ta(e,t));break;case Jo.Destroy:Zo(e);break;case Jo.CreateViewNodes:$o(e)}}function ta(e,t){Xo(e,t),Yo(e,t)}function na(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let s=0;s<i;s++){const i=e.def.nodes[s];if(i.flags&t&&i.flags&n)switch(pr.setCurrentNode(e,i.nodeIndex),r){case 0:To(e,i);break;case 1:Go(e,i)}i.childFlags&t&&i.childFlags&n||(s+=i.childCount)}}let ra=!1;function ia(e,t,n,r,i,s){const o=i.injector.get(Rn);return Uo(oa(e,i,o,t,n),r,s)}function sa(e,t,n,r,i,s){const o=i.injector.get(Rn),a=oa(e,i,new Fa(o),t,n),l=ma(r);return Va(xa.create,Uo,null,[a,l,s])}function oa(e,t,n,r,i){const s=t.injector.get(At),o=t.injector.get(it),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function aa(e,t,n,r){const i=ma(n);return Va(xa.create,Fo,null,[e,t,i,r])}function la(e,t,n,r){return n=da.get(t.element.componentProvider.provider.token)||ma(n),Va(xa.create,Lo,null,[e,t,n,r])}function ca(e,t,n,r){return bi(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===ua.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const r=ua.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{ha.forEach((r,i)=>{ye(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=ua.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Mr(i.deps),r.value=i.value)}if(ha.size>0){let t=new Set(e.modules);ha.forEach((r,i)=>{if(t.has(ye(i).providedIn)){let t={token:i,flags:r.flags|(n?4096:0),deps:Mr(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[mr(i)]=t}})}}(e=e.factory(()=>fr)),e):e}(r))}const ua=new Map,ha=new Map,da=new Map;function pa(e){let t;ua.set(e.token,e),"function"==typeof e.token&&(t=ye(e.token))&&"function"==typeof t.providedIn&&ha.set(e.token,e)}function fa(e,t){const n=jr(t.viewDefFactory),r=jr(n.nodes[0].element.componentView);da.set(e,r)}function ga(){ua.clear(),ha.clear(),da.clear()}function ma(e){if(0===ua.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&ua.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>fr);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=ua.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=Mr(n.deps),e.value=n.value)}}}}function ya(e,t,n,r,i,s,o,a,l,c,u,h,d){const p=e.def.nodes[t];return Wo(e,p,n,r,i,s,o,a,l,c,u,h,d),224&p.flags?hr(e,t).value:void 0}function va(e,t,n,r,i,s,o,a,l,c,u,h,d){const p=e.def.nodes[t];return Qo(e,p,n,r,i,s,o,a,l,c,u,h,d),224&p.flags?hr(e,t).value:void 0}function ba(e){return Va(xa.detectChanges,zo,null,[e])}function wa(e){return Va(xa.checkNoChanges,qo,null,[e])}function _a(e){return Va(xa.destroy,Zo,null,[e])}const xa=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let Ca,Ea,ka;function Sa(e,t){Ea=e,ka=t}function Ta(e,t,n,r){return Sa(e,t),Va(xa.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function Oa(e,t){if(128&e.state)throw sr(xa[Ca]);return Sa(e,Ra(e,0)),e.def.updateDirectives((function(e,n,r,...i){const s=e.def.nodes[n];return 0===t?Aa(e,s,r,i):Pa(e,s,r,i),16384&s.flags&&Sa(e,Ra(e,n)),224&s.flags?hr(e,s.nodeIndex).value:void 0}),e)}function Ia(e,t){if(128&e.state)throw sr(xa[Ca]);return Sa(e,Na(e,0)),e.def.updateRenderer((function(e,n,r,...i){const s=e.def.nodes[n];return 0===t?Aa(e,s,r,i):Pa(e,s,r,i),3&s.flags&&Sa(e,Na(e,n)),224&s.flags?hr(e,s.nodeIndex).value:void 0}),e)}function Aa(e,t,n,r){if(Wo(e,t,n,...r)){const o=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],a=o[e];8&r.flags&&(n[(i=r.nonMinifiedName,s=void 0,s=i.replace(/[$@]/g,"_"),`ng-reflect-${i=s.replace(Nt,(...e)=>"-"+e[1].toLowerCase())}`)]=Mt(a))}const r=t.parent,a=cr(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(a,t,r):e.renderer.removeAttribute(a,t)}else e.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var i,s}function Pa(e,t,n,r){Qo(e,t,n,...r)}function Ra(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function Na(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class Ma{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Or(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return cr(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return fi(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){Da(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&Da(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Ar(e);)e=e.parent;return e.parent?cr(e.parent,Or(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Ir(this.view,this.nodeDef):Ir(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let s=-1;n.factory(()=>++s===i?e.error.bind(e,...t):fr),s<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function Da(e,t,n){for(let r in t.references)n[r]=Io(e,t,t.references[r])}function Va(e,t,n,r){const i=Ca,s=Ea,o=ka;try{Ca=e;const a=t.apply(n,r);return Ea=s,ka=o,Ca=i,a}catch(c){if(tt(c)||!Ea)throw c;throw a=c,l=ja(),a instanceof Error||(a=new Error(a.toString())),ir(a,l),a}var a,l}function ja(){return Ea?new Ma(Ea,ka):null}class Fa{constructor(e){this.delegate=e}createRenderer(e,t){return new Ua(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Ua{constructor(e){this.delegate=e,this.debugContextFactory=ja,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=uo(e);!function(e){co.delete(e.nativeNode)}(t),t instanceof ao&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new lo(n,null,r);t.name=e,ho(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&ho(new ao(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&ho(new ao(t,null,n)),t}appendChild(e,t){const n=uo(e),r=uo(t);n&&r&&n instanceof lo&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=uo(e),i=uo(t),s=uo(n);r&&i&&r instanceof lo&&r.insertBefore(s,i),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=uo(e),r=uo(t);n&&r&&n instanceof lo&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=ja();return r&&ho(new lo(n,null,r)),n}setAttribute(e,t,n,r){const i=uo(e);i&&i instanceof lo&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=uo(e);r&&r instanceof lo&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=uo(e);n&&n instanceof lo&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=uo(e);n&&n instanceof lo&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=uo(e);i&&i instanceof lo&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=uo(e);r&&r instanceof lo&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=uo(e);r&&r instanceof lo&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=uo(e);r&&r.listeners.push(new oo(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function La(e,t,n){return new Ba(e,t,n)}class Ba extends Ke{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(ra)return;ra=!0;const e=at()?{setCurrentNode:Sa,createRootView:sa,createEmbeddedView:aa,createComponentView:la,createNgModuleRef:ca,overrideProvider:pa,overrideComponentView:fa,clearOverrides:ga,checkAndUpdateView:ba,checkNoChangesView:wa,destroyView:_a,createDebugContext:(e,t)=>new Ma(e,t),handleEvent:Ta,updateDirectives:Oa,updateRenderer:Ia}:{setCurrentNode:()=>{},createRootView:ia,createEmbeddedView:Fo,createComponentView:Lo,createNgModuleRef:bi,overrideProvider:fr,overrideComponentView:fr,clearOverrides:fr,checkAndUpdateView:zo,checkNoChangesView:qo,destroyView:Zo,createDebugContext:(e,t)=>new Ma(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?ya:va,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?ya:va,e)};pr.setCurrentNode=e.setCurrentNode,pr.createRootView=e.createRootView,pr.createEmbeddedView=e.createEmbeddedView,pr.createComponentView=e.createComponentView,pr.createNgModuleRef=e.createNgModuleRef,pr.overrideProvider=e.overrideProvider,pr.overrideComponentView=e.overrideComponentView,pr.clearOverrides=e.clearOverrides,pr.checkAndUpdateView=e.checkAndUpdateView,pr.checkNoChangesView=e.checkNoChangesView,pr.destroyView=e.destroyView,pr.resolveDep=Ui,pr.createDebugContext=e.createDebugContext,pr.handleEvent=e.handleEvent,pr.updateDirectives=e.updateDirectives,pr.updateRenderer=e.updateRenderer,pr.dirtyParentQueries=So}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(jr(this._ngModuleDefFactory));return pr.createNgModuleRef(this.moduleType,e||Xt.NULL,this._bootstrapComponents,t)}}class Ha{}class $a{constructor(){this.title="Organizer"}}class qa{}const za=new Oe("Location Initialized");class Wa{}const Ka=new Oe("appBaseHref");class Qa{constructor(e,t){this._subject=new Xi,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=Qa.stripTrailingSlash(Ga(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+Qa.normalizeQueryParams(t))}normalize(e){return Qa.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Ga(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qa.normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qa.normalizeQueryParams(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}function Ga(e){return e.replace(/\/index.html$/,"")}class Za extends Wa{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Qa.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+Qa.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+Qa.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class Ja extends Wa{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Qa.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+Qa.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+Qa.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+Qa.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const Ya=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),Xa=function(e){return function(e){const t=e.toLowerCase().replace(/_/g,"-");let n=Wi[t];if(n)return n;const r=t.split("-")[0];if(n=Wi[r])return n;if("en"===r)return Gi;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Ki.PluralCase]},el=new Oe("UseV4Plurals");class tl{}class nl extends tl{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):Xa(t||this.locale)(e)){case Ya.Zero:return"zero";case Ya.One:return"one";case Ya.Two:return"two";case Ya.Few:return"few";case Ya.Many:return"many";default:return"other"}}}function rl(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}class il{}class sl{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(gn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${be(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}let ol=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})();class al extends ol{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}class ll{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class cl{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){at()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ll(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ul(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new ul(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}class ul{constructor(e,t){this.record=e,this.view=t}}class hl{constructor(e,t){this._viewContainer=e,this._context=new dl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class dl{constructor(){this.$implicit=null,this.ngIf=null}}function pl(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${be(t)}'.`)}class fl{}const gl=new Oe("DocumentToken"),ml="browser",yl="server";function vl(e){return e===ml}function bl(e){return e===yl}let wl=(()=>{class e{}return e.ngInjectableDef=me({token:e,providedIn:"root",factory:()=>new _l(Be(gl),window,Be(it))}),e})();class _l{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector(`#${e}`);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}function xl(...e){let t=e[e.length-1];return T(t)?(e.pop(),L(e,t)):K(e)}class Cl extends k{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(e){super.next(this._value=e)}}const El=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),kl={};class Sl{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Tl(e,this.resultSelector))}}class Tl extends V{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(kl),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(D(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,i){const s=this.values,o=this.toRespond?s[n]===kl?--this.toRespond:this.toRespond:0;s[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const Ol=new w(e=>e.complete());function Il(e){return e?function(e){return new w(t=>e.schedule(()=>t.complete()))}(e):Ol}function Al(e){return new w(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?B(n):Il()).subscribe(t)})}function Pl(){return W(1)}function Rl(e,t){return function(n){return n.lift(new Nl(e,t))}}class Nl{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Ml(e,this.predicate,this.thisArg))}}class Ml extends f{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}const Dl=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function Vl(e){return function(t){return 0===e?Il():t.lift(new jl(e))}}class jl{constructor(e){if(this.total=e,this.total<0)throw new Dl}call(e,t){return t.subscribe(new Fl(e,this.total))}}class Fl extends f{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function Ul(e=Hl){return t=>t.lift(new Ll(e))}class Ll{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Bl(e,this.errorFactory))}}class Bl extends f{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Hl(){return new El}function $l(e=null){return t=>t.lift(new ql(e))}class ql{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new zl(e,this.defaultValue))}}class zl extends f{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Wl(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Rl((t,n)=>e(t,n,r)):z,Vl(1),n?$l(t):Ul(()=>new El))}function Kl(e){return function(t){const n=new Ql(e),r=t.lift(n);return n.caught=r}}class Ql{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Gl(e,this.selector,this.caught))}}class Gl extends V{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new O(this,void 0,void 0);this.add(r),D(this,n,void 0,void 0,r)}}}function Zl(e){return t=>0===e?Il():t.lift(new Jl(e))}class Jl{constructor(e){if(this.total=e,this.total<0)throw new Dl}call(e,t){return t.subscribe(new Yl(e,this.total))}}class Yl extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Xl(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Rl((t,n)=>e(t,n,r)):z,Zl(1),n?$l(t):Ul(()=>new El))}class ec{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new tc(e,this.predicate,this.thisArg,this.source))}}class tc extends f{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function nc(e,t){return"function"==typeof t?n=>n.pipe(nc((n,r)=>B(e(n,r)).pipe(j((e,i)=>t(n,e,r,i))))):t=>t.lift(new rc(e))}class rc{constructor(e){this.project=e}call(e,t){return t.subscribe(new ic(e,this.project))}}class ic extends V{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new O(this,void 0,void 0);this.destination.add(i),this.innerSubscription=D(this,e,t,n,i)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,i){this.destination.next(t)}}function sc(...e){return Pl()(xl(...e))}function oc(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ac(e,t,n))}}class ac{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new lc(e,this.accumulator,this.seed,this.hasSeed))}}class lc extends f{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function cc(e,t){return H(e,t,1)}function uc(e,t,n){return function(r){return r.lift(new hc(e,t,n))}}class hc{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new dc(e,this.nextOrObserver,this.error,this.complete))}}class dc extends f{constructor(e,t,n,i){super(e),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=i||y,r(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||y,this._tapError=t.error||y,this._tapComplete=t.complete||y)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class pc{constructor(e){this.callback=e}call(e,t){return t.subscribe(new fc(e,this.callback))}}class fc extends f{constructor(e,t){super(e),this.add(new h(t))}}let gc=null;function mc(){return gc}class yc{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class vc extends yc{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const bc={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},wc=3,_c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Cc=(()=>{if(Te.Node)return Te.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class Ec extends vc{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new Ec,gc||(gc=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return bc}contains(e,t){return Cc.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===wc&&xc.hasOwnProperty(t)&&(t=xc[t]))}return _c[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Sc||(Sc=document.querySelector("base"))?Sc.getAttribute("href"):null;return null==t?null:(n=t,kc||(kc=document.createElement("a")),kc.setAttribute("href",n),"/"===kc.pathname.charAt(0)?kc.pathname:"/"+kc.pathname);var n}resetBaseElement(){Sc=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return rl(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let kc,Sc=null;function Tc(){return!!window.history.pushState}const Oc=new Oe("TRANSITION_ID"),Ic=[{provide:is,useFactory:function(e,t,n){return()=>{n.get(ss).donePromise.then(()=>{const n=mc();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Oc,gl,Xt],multi:!0}];class Ac{static init(){var e;e=new Ac,Hs=e}addToWindow(e){Te.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Te.getAllAngularTestabilities=()=>e.getAllTestabilities(),Te.getAllAngularRootElements=()=>e.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(e=>{const t=Te.getAllAngularTestabilities();let n=t.length,r=!1;const i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?mc().isShadowRoot(t)?this.findTestabilityInTree(e,mc().getHost(t),!0):this.findTestabilityInTree(e,mc().parentElement(t),!0):null}}function Pc(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Te.ng=Te.ng||{})[e]=t)}const Rc=(()=>({ApplicationRef:Js,NgZone:Ps}))();function Nc(e){return uo(e)}const Mc=new Oe("EventManagerPlugins");class Dc{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}class Vc{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=mc().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}class jc{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class Fc extends jc{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>mc().remove(e))}}const Uc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Lc=/%COMP%/g,Bc="_nghost-%COMP%",Hc="_ngcontent-%COMP%";function $c(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?$c(e,i,n):(i=i.replace(Lc,e),n.push(i))}return n}function qc(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class zc{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Wc(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Ze.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Gc(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case Ze.Native:case Ze.ShadowDom:return new Zc(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=$c(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Wc{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Uc[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=Uc[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=Uc[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&Nn.DashCase?e.style.setProperty(t,n,r&Nn.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Nn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){Qc(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return Qc(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,qc(n)):this.eventManager.addEventListener(e,t,qc(n))}}const Kc=(()=>"@".charCodeAt(0))();function Qc(e,t){if(e.charCodeAt(0)===Kc)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Gc extends Wc{constructor(e,t,n,r){super(e),this.component=n;const i=$c(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr=Hc.replace(Lc,r+"-"+n.id),this.hostAttr=Bc.replace(Lc,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Zc extends Wc{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Ze.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=$c(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const Jc=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),Yc=Jc("addEventListener"),Xc=Jc("removeEventListener"),eu={},tu="FALSE",nu="ANGULAR",ru="addEventListener",iu="removeEventListener",su="__zone_symbol__propagationStopped",ou="__zone_symbol__stopImmediatePropagation",au=(()=>{const e="undefined"!=typeof Zone&&Zone[Jc("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),lu=function(e){return!!au&&au.hasOwnProperty(e)},cu=function(e){const t=eu[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[su];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};class uu extends Vc{constructor(e,t,n){super(e),this.ngZone=t,n&&bl(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[ou])return;const e=Event.prototype[ou]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[su]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let r=n;if(!e[Yc]||Ps.isInAngularZone()&&!lu(t))e[ru](t,r,!1);else{let n=eu[t];n||(n=eu[t]=Jc(nu+t+tu));let i=e[n];const s=i&&i.length>0;i||(i=e[n]=[]);const o=lu(t)?Zone.root:Zone.current;if(0===i.length)i.push({zone:o,handler:r});else{let e=!1;for(let t=0;t<i.length;t++)if(i[t].handler===r){e=!0;break}e||i.push({zone:o,handler:r})}s||e[Yc](t,cu,!1)}return()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,n){let r=e[Xc];if(!r)return e[iu].apply(e,[t,n,!1]);let i=eu[t],s=i&&e[i];if(!s)return e[iu].apply(e,[t,n,!1]);let o=!1;for(let a=0;a<s.length;a++)if(s[a].handler===n){o=!0,s.splice(a,1);break}o?0===s.length&&r.apply(e,[t,cu,!1]):e[iu].apply(e,[t,n,!1])}}const hu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},du=new Oe("HammerGestureConfig"),pu=new Oe("HammerLoader");class fu{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}class gu extends Vc{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!hu.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(e),s=function(e){r.runGuarded((function(){n(e)}))};return i.on(t,s),()=>{i.off(t,s),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const mu=["alt","control","meta","shift"],yu={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class vu extends Vc{constructor(e){super(e)}supports(e){return null!=vu.parseEventName(e)}addEventListener(e,t,n){const r=vu.parseEventName(t),i=vu.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mc().onAndCancel(e,r.domEventName,i))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const r=vu._normalizeKey(t.pop());let i="";if(mu.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+".")}),i+=r,0!=t.length||0===r.length)return null;const s={};return s.domEventName=n,s.fullKey=i,s}static getEventFullKey(e){let t="",n=mc().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),mu.forEach(r=>{r!=n&&(0,yu[r])(e)&&(t+=r+".")}),t+=n}static eventCallback(e,t,n){return r=>{vu.getEventFullKey(r)===e&&n.runGuarded(()=>t(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class bu{}class wu extends bu{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case It.NONE:return t;case It.HTML:return t instanceof xu?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){let n=null;try{Tt=Tt||new lt(e);let r=t?String(t):"";n=Tt.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Tt.getInertBodyElement(r)}while(r!==s);const o=new Ct,a=o.sanitizeChildren(Ot(n)||n);return at()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=Ot(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)));case It.STYLE:return t instanceof Cu?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(Rt);return t&&ht(t[1])===t[1]||e.match(Pt)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(at()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case It.SCRIPT:if(t instanceof Eu)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case It.URL:return t instanceof Su||t instanceof ku?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),ht(String(t)));case It.RESOURCE_URL:if(t instanceof Su)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof _u)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new xu(e)}bypassSecurityTrustStyle(e){return new Cu(e)}bypassSecurityTrustScript(e){return new Eu(e)}bypassSecurityTrustUrl(e){return new ku(e)}bypassSecurityTrustResourceUrl(e){return new Su(e)}}class _u{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class xu extends _u{getTypeName(){return"HTML"}}class Cu extends _u{getTypeName(){return"Style"}}class Eu extends _u{getTypeName(){return"Script"}}class ku extends _u{getTypeName(){return"URL"}}class Su extends _u{getTypeName(){return"ResourceURL"}}const Tu=Ks(po,"browser",[{provide:us,useValue:ml},{provide:cs,useValue:function(){Ec.makeCurrent(),Ac.init()},multi:!0},{provide:qa,useClass:class extends qa{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=mc().getLocation(),this._history=mc().getHistory()}getBaseHrefFromDOM(){return mc().getBaseHref(this._doc)}onPopState(e){mc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){mc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){Tc()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){Tc()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[gl]},{provide:gl,useFactory:function(){return document},deps:[]}]);function Ou(){return new it}class Iu{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:Iu,providers:[{provide:os,useValue:e.appId},{provide:Oc,useExisting:os},Ic]}}}"undefined"!=typeof window&&window;class Au{constructor(e,t){this.id=e,this.url=t}}class Pu extends Au{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ru extends Au{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nu extends Au{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mu extends Au{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Du extends Au{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vu extends Au{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ju extends Au{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fu extends Au{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uu extends Au{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lu{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bu{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hu{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $u{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wu{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ku{}const Qu="primary";class Gu{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Zu(e){return new Gu(e)}const Ju="ngNavigationCancelingError";function Yu(e){const t=Error("NavigationCancelingError: "+e);return t[Ju]=!0,t}function Xu(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}class eh{constructor(e,t){this.routes=e,this.module=t}}function th(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];nh(r,rh(t,r))}}function nh(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Qu)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&th(e.children,t)}function rh(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function ih(e){const t=e.children&&e.children.map(ih),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Qu&&(n.component=Ku),n}function sh(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(e[i=n[s]]!==t[i])return!1;return!0}function oh(e){return Array.prototype.concat.apply([],e)}function ah(e){return e.length>0?e[e.length-1]:null}function lh(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ch(e){return vn(e)?e:yn(e)?B(Promise.resolve(e)):xl(e)}function uh(e,t,n){return n?function(e,t){return sh(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!fh(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!fh(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!fh(n.segments,i))return!1;for(const t in r.children){if(!n.children[t])return!1;if(!e(n.children[t],r.children[t]))return!1}return!0}{const e=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!fh(n.segments,e)&&!!n.children[Qu]&&t(n.children[Qu],r,s)}}(t,n,n.segments)}(e.root,t.root)}class hh{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zu(this.queryParams)),this._queryParamMap}toString(){return vh.serialize(this)}}class dh{constructor(e,t){this.segments=e,this.children=t,this.parent=null,lh(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bh(this)}}class ph{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Zu(this.parameters)),this._parameterMap}toString(){return kh(this)}}function fh(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function gh(e,t){let n=[];return lh(e.children,(e,r)=>{r===Qu&&(n=n.concat(t(e,r)))}),lh(e.children,(e,r)=>{r!==Qu&&(n=n.concat(t(e,r)))}),n}class mh{}class yh{parse(e){const t=new Ah(e);return new hh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return bh(t);if(n){const n=t.children[Qu]?e(t.children[Qu],!1):"",r=[];return lh(t.children,(t,n)=>{n!==Qu&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=gh(t,(n,r)=>r===Qu?[e(t.children[Qu],!1)]:[`${r}:${e(n,!1)}`]);return`${bh(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${_h(t)}=${_h(e)}`).join("&"):`${_h(t)}=${_h(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const vh=new yh;function bh(e){return e.segments.map(e=>kh(e)).join("/")}function wh(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _h(e){return wh(e).replace(/%3B/gi,";")}function xh(e){return wh(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ch(e){return decodeURIComponent(e)}function Eh(e){return Ch(e.replace(/\+/g,"%20"))}function kh(e){return`${xh(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${xh(e)}=${xh(t[e])}`).join("")}`;var t}const Sh=/^[^\/()?;=#]+/;function Th(e){const t=e.match(Sh);return t?t[0]:""}const Oh=/^[^=?&#]+/,Ih=/^[^?&#]+/;class Ah{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dh([],{}):new dh([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Qu]=new dh(e,t)),n}parseSegment(){const e=Th(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ph(Ch(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Th(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Th(this.remaining);e&&this.capture(n=e)}e[Ch(t)]=Ch(n)}parseQueryParam(e){const t=function(e){const t=e.match(Oh);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Ih);return t?t[0]:""}(this.remaining);e&&this.capture(n=e)}const r=Eh(t),i=Eh(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(e[r]=t=[t]),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Th(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Qu);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[Qu]:new dh([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ph{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Rh(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Rh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Nh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Nh(e,this._root).map(e=>e.value)}}function Rh(e,t){if(e===t.value)return t;for(const n of t.children){const t=Rh(e,n);if(t)return t}return null}function Nh(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Nh(e,n);if(r.length)return r.unshift(t),r}return[]}class Mh{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Dh(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Vh extends Ph{constructor(e,t){super(e),this.snapshot=t,Hh(this,e)}toString(){return this.snapshot.toString()}}function jh(e,t){const n=function(e,t){const n=new Lh([],{},{},"",{},Qu,t,null,e.root,-1,{});return new Bh("",new Mh(n,[]))}(e,t),r=new Cl([new ph("",{})]),i=new Cl({}),s=new Cl({}),o=new Cl({}),a=new Cl(""),l=new Fh(r,i,o,a,s,Qu,t,n.root);return l.snapshot=n.root,new Vh(new Mh(l,[]),n)}class Fh{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(j(e=>Zu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j(e=>Zu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Uh(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Lh{constructor(e,t,n,r,i,s,o,a,l,c,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bh extends Ph{constructor(e,t){super(t),this.url=e,Hh(this,t)}toString(){return $h(this._root)}}function Hh(e,t){t.value._routerState=e,t.children.forEach(t=>Hh(e,t))}function $h(e){const t=e.children.length>0?` { ${e.children.map($h).join(", ")} } `:"";return`${e.value}${t}`}function qh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,sh(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),sh(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!sh(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),sh(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function zh(e,t){var n,r;return sh(e.params,t.params)&&fh(n=e.url,r=t.url)&&n.every((e,t)=>sh(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||zh(e.parent,t.parent))}function Wh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Kh(e,t,n,r,i){let s={};return r&&lh(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new hh(n.root===e?t:function e(t,n,r){const i={};return lh(t.children,(t,s)=>{i[s]=t===n?r:e(t,n,r)}),new dh(t.segments,i)}(n.root,e,t),s,i)}class Qh{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Wh(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==ah(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gh{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Zh(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Qu]:`${e}`}function Jh(e,t,n){if(e||(e=new dh([],{})),0===e.segments.length&&e.hasChildren())return Yh(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=Zh(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!nd(o,a,t))return s;r+=2}else{if(!nd(o,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new dh(e.segments.slice(0,r.pathIndex),{});return t.children[Qu]=new dh(e.segments.slice(r.pathIndex),e.children),Yh(t,0,i)}return r.match&&0===i.length?new dh(e.segments,{}):r.match&&!e.hasChildren()?Xh(e,t,n):r.match?Yh(e,0,i):Xh(e,t,n)}function Yh(e,t,n){if(0===n.length)return new dh(e.segments,{});{const r=function(e){return"object"!=typeof e[0]?{[Qu]:e}:void 0===e[0].outlets?{[Qu]:e}:e[0].outlets}(n),i={};return lh(r,(n,r)=>{null!==n&&(i[r]=Jh(e.children[r],t,n))}),lh(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new dh(e.segments,i)}}function Xh(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const e=ed(n[i].outlets);return new dh(r,e)}if(0===i&&Wh(n[0])){r.push(new ph(e.segments[t].path,n[0])),i++;continue}const s=Zh(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&Wh(o)?(r.push(new ph(s,td(o))),i+=2):(r.push(new ph(s,{})),i++)}return new dh(r,{})}function ed(e){const t={};return lh(e,(e,n)=>{null!==e&&(t[n]=Xh(new dh([],{}),0,e))}),t}function td(e){const t={};return lh(e,(e,n)=>t[n]=`${e}`),t}function nd(e,t,n){return e==n.path&&sh(t,n.parameters)}const rd=(e,t,n)=>j(r=>(new id(t,r.targetRouterState,r.currentRouterState,n).activate(e),r));class id{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),qh(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Dh(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),lh(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=Dh(e),i=e.value.component?n.children:t;lh(r,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=Dh(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new zu(e.value.snapshot))}),e.children.length&&this.forwardEvent(new $u(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(qh(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),sd(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function sd(e){qh(e.value),e.children.forEach(sd)}function od(e){return"function"==typeof e}function ad(e){return e instanceof hh}class ld{constructor(e){this.segmentGroup=e||null}}class cd{constructor(e){this.urlTree=e}}function ud(e){return new w(t=>t.error(new ld(e)))}function hd(e){return new w(t=>t.error(new cd(e)))}function dd(e){return new w(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class pd{constructor(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(We)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Qu).pipe(j(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Kl(e=>{if(e instanceof cd)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof ld)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Qu).pipe(j(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Kl(e=>{if(e instanceof ld)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new dh([],{[Qu]:e}):e;return new hh(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(j(e=>new dh([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return xl({});const n=[],r=[],i={};return lh(e,(e,s)=>{const o=t(s,e).pipe(j(e=>i[s]=e));s===Qu?n.push(o):r.push(o)}),xl.apply(null,n.concat(r)).pipe(Pl(),Wl(),j(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,i,s){return xl(...n).pipe(j(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(Kl(e=>{if(e instanceof ld)return xl(null);throw e}))),Pl(),Xl(e=>!!e),Kl((e,n)=>{if(e instanceof El||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,i))return xl(new dh([],{}));throw new ld(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return yd(r)!==s?ud(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):ud(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?hd(i):this.lineralizeSegments(n,i).pipe(H(n=>{const i=new dh(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=fd(t,r,i);if(!o)return ud(t);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?hd(u):this.lineralizeSegments(r,u).pipe(H(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(j(e=>(n._loadedConfig=e,new dh(r,{})))):xl(new dh(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=fd(t,n,r);if(!i)return ud(t);const a=r.slice(o);return this.getChildConfig(e,n,r).pipe(H(e=>{const n=e.module,r=e.routes,{segmentGroup:i,slicedSegments:o}=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some(n=>md(e,t,n)&&yd(n)!==Qu)}(e,n,r)?{segmentGroup:gd(new dh(t,function(e,t){const n={};n[Qu]=t;for(const r of e)""===r.path&&yd(r)!==Qu&&(n[yd(r)]=new dh([],{}));return n}(r,new dh(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>md(e,t,n))}(e,n,r)?{segmentGroup:gd(new dh(e.segments,function(e,t,n,r){const i={};for(const s of n)md(e,t,s)&&!r[yd(s)]&&(i[yd(s)]=new dh([],{}));return Object.assign({},r,i)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(j(e=>new dh(s,e))):0===r.length&&0===o.length?xl(new dh(s,{})):this.expandSegment(n,i,r,o,Qu,!0).pipe(j(e=>new dh(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?xl(new eh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?xl(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?B(r).pipe(j(r=>{const i=e.get(r);let s;if(function(e){return e&&od(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!od(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return ch(s)})).pipe(Pl(),(i=e=>!0===e,e=>e.lift(new ec(i,void 0,e)))):xl(!0);var i}(e.injector,t,n).pipe(H(n=>n?this.configLoader.load(e.injector,t).pipe(j(e=>(t._loadedConfig=e,e))):function(e){return new w(t=>t.error(Yu(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):xl(new eh([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return xl(n);if(r.numberOfChildren>1||!r.children[Qu])return dd(e.redirectTo);r=r.children[Qu]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new hh(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return lh(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return lh(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new dh(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function fd(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||Xu)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function gd(e){if(1===e.numberOfChildren&&e.children[Qu]){const t=e.children[Qu];return new dh(e.segments.concat(t.segments),t.children)}return e}function md(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function yd(e){return e.outlet||Qu}class vd{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bd{constructor(e,t){this.component=e,this.route=t}}function wd(e,t,n){const r=e._root;return function e(t,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Dh(n);return t.children.forEach(t=>{!function(t,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=n?n.value:null,l=r?r.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!fh(e.url,t.url);case"pathParamsOrQueryParamsChange":return!fh(e.url,t.url)||!sh(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zh(e,t)||!sh(e.queryParams,t.queryParams);case"paramsChange":default:return!zh(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new vd(i)):(o.data=a.data,o._resolvedData=a._resolvedData),e(t,n,o.component?l?l.children:null:r,i,s),c&&s.canDeactivateChecks.push(new bd(l&&l.outlet&&l.outlet.component||null,a))}else a&&xd(n,l,s),s.canActivateChecks.push(new vd(i)),e(t,null,o.component?l?l.children:null:r,i,s)}(t,o[t.value.outlet],r,i.concat([t.value]),s),delete o[t.value.outlet]}),lh(o,(e,t)=>xd(e,r.getContext(t),s)),s}(r,t?t._root:null,n,[r.value])}function _d(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function xd(e,t,n){const r=Dh(e),i=e.value;lh(r,(e,r)=>{xd(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new bd(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}const Cd=Symbol("INITIAL_VALUE");function Ed(){return nc(e=>(function(...e){let t=null,n=null;return T(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),K(e,n).lift(new Sl(t))})(...e.map(e=>e.pipe(Zl(1),function(...e){const t=e[e.length-1];return T(t)?(e.pop(),n=>sc(e,n,t)):t=>sc(e,t)}(Cd)))).pipe(oc((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==Cd)return e;if(r===Cd&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||ad(r))return r}return e},e)},Cd),Rl(e=>e!==Cd),j(e=>ad(e)?e:!0===e),Zl(1)))}function kd(e,t){return null!==e&&t&&t(new qu(e)),xl(!0)}function Sd(e,t){return null!==e&&t&&t(new Hu(e)),xl(!0)}function Td(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?xl(r.map(r=>Al(()=>{const i=_d(r,t,n);let s;if(function(e){return e&&od(e.canActivate)}(i))s=ch(i.canActivate(t,e));else{if(!od(i))throw new Error("Invalid CanActivate guard");s=ch(i(t,e))}return s.pipe(Xl())}))).pipe(Ed()):xl(!0)}function Od(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>Al(()=>xl(t.guards.map(i=>{const s=_d(i,t.node,n);let o;if(function(e){return e&&od(e.canActivateChild)}(s))o=ch(s.canActivateChild(r,e));else{if(!od(s))throw new Error("Invalid CanActivateChild guard");o=ch(s(r,e))}return o.pipe(Xl())})).pipe(Ed())));return xl(i).pipe(Ed())}class Id{}class Ad{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const e=Nd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Qu),n=new Lh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qu,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Mh(n,t),i=new Bh(this.url,r);return this.inheritParamsAndData(i._root),xl(i)}catch(e){return new w(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=Uh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=gh(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===Qu?-1:t.value.outlet===Qu?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const s of e)try{return this.processSegmentAgainstRoute(s,t,n,r)}catch(i){if(!(i instanceof Id))throw i}if(this.noLeftoversInUrl(t,n,r))return[];throw new Id}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new Id;if((e.outlet||Qu)!==r)throw new Id;let i,s=[],o=[];if("**"===e.path){const s=n.length>0?ah(n).parameters:{};i=new Lh(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vd(e),r,e.component,e,Pd(t),Rd(t)+n.length,jd(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Id;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||Xu)(n,e,t);if(!r)throw new Id;const i={};lh(r.posParams,(e,t)=>{i[t]=e.path});const s=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(t,e,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Lh(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vd(e),r,e.component,e,Pd(t),Rd(t)+s.length,jd(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Nd(t,s,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new Mh(i,e)]}if(0===a.length&&0===c.length)return[new Mh(i,[])];const u=this.processSegment(a,l,c,Qu);return[new Mh(i,u)]}}function Pd(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Rd(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Nd(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some(n=>Md(e,t,n)&&Dd(n)!==Qu)}(e,n,r)){const i=new dh(t,function(e,t,n,r){const i={};i[Qu]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Dd(s)!==Qu){const n=new dh([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Dd(s)]=n}return i}(e,t,r,new dh(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Md(e,t,n))}(e,n,r)){const s=new dh(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(Md(e,n,a)&&!i[Dd(a)]){const n=new dh([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Dd(a)]=n}return Object.assign({},i,o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new dh(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Md(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Dd(e){return e.outlet||Qu}function Vd(e){return e.data||{}}function jd(e){return e.resolve||{}}function Fd(e,t,n,r){const i=_d(e,t,r);return ch(i.resolve?i.resolve(t,n):i(t,n))}function Ud(e){return function(t){return t.pipe(nc(t=>{const n=e(t);return n?B(n).pipe(j(()=>t)):B([t])}))}}class Ld{}class Bd{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const Hd=new Oe("ROUTES");class $d{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(j(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new eh(oh(r.injector.get(Hd)).map(ih),r)}))}loadModuleFactory(e){return"string"==typeof e?B(this.loader.load(e)):ch(e()).pipe(H(e=>e instanceof Ke?xl(e):B(this.compiler.compileModuleAsync(e))))}}class qd{}class zd{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Wd(e){throw e}function Kd(e,t,n){return t.parse("/")}function Qd(e,t){return xl(null)}class Gd{constructor(e,t,n,r,i,s,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=Wd,this.malformedUriErrorHandler=Kd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qd,afterPreactivation:Qd},this.urlHandlingStrategy=new zd,this.routeReuseStrategy=new Bd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(We),this.console=i.get(ds);const l=i.get(Ps);this.isNgZoneEnabled=l instanceof Ps,this.resetConfig(a),this.currentUrlTree=new hh(new dh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $d(s,o,e=>this.triggerEvent(new Lu(e)),e=>this.triggerEvent(new Bu(e))),this.routerState=jh(this.currentUrlTree,this.rootComponentType),this.transitions=new Cl({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Rl(e=>0!==e.id),j(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),nc(e=>{let n=!1,r=!1;return xl(e).pipe(uc(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),nc(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return xl(e).pipe(nc(e=>{const n=this.transitions.getValue();return t.next(new Pu(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Ol:[e]}),nc(e=>Promise.resolve(e)),function(e,t,n,r){return function(i){return i.pipe(nc(i=>(function(e,t,n,r,i){return new pd(e,t,n,r,i).apply()})(e,t,n,i.extractedUrl,r).pipe(j(e=>Object.assign({},i,{urlAfterRedirects:e})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),uc(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return function(s){return s.pipe(H(s=>(function(e,t,n,r,i="emptyOnly",s="legacy"){return new Ad(e,t,n,r,i,s).recognize()})(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(j(e=>Object.assign({},s,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),uc(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),uc(e=>{const n=new Du(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new Pu(n,this.serializeUrl(r),i,s);t.next(a);const l=jh(r,this.rootComponentType).snapshot;return xl(Object.assign({},e,{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Ol}),Ud(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),uc(e=>{const t=new Vu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),j(e=>Object.assign({},e,{guards:wd(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(H(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?xl(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return B(e).pipe(H(e=>(function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?xl(s.map(s=>{const o=_d(s,t,i);let a;if(function(e){return e&&od(e.canDeactivate)}(o))a=ch(o.canDeactivate(e,t,n,r));else{if(!od(o))throw new Error("Invalid CanDeactivate guard");a=ch(o(e,t,n,r))}return a.pipe(Xl())})).pipe(Ed()):xl(!0)})(e.component,e.route,n,t,r)),Xl(e=>!0!==e,!0))}(o,r,i,e).pipe(H(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return B(t).pipe(cc(t=>B([Sd(t.route.parent,r),kd(t.route,r),Od(e,t.path,n),Td(e,t.route,n)]).pipe(Pl(),Xl(e=>!0!==e,!0))),Xl(e=>!0!==e,!0))}(r,s,e,t):xl(n)),j(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),uc(e=>{if(ad(e.guardsResult)){const t=Yu(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),uc(e=>{const t=new ju(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Rl(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Nu(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Ud(e=>{if(e.guards.canActivateChecks.length)return xl(e).pipe(uc(e=>{const t=new Fu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),function(e,t){return function(n){return n.pipe(H(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?B(i).pipe(cc(n=>(function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return xl({});if(1===i.length){const s=i[0];return Fd(e[s],t,n,r).pipe(j(e=>({[s]:e})))}const s={};return B(i).pipe(H(i=>Fd(e[i],t,n,r).pipe(j(e=>(s[i]=e,e))))).pipe(Wl(),j(()=>s))}(e._resolve,e,t,r).pipe(j(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,Uh(e,n).resolve),null)))})(n.route,r,e,t)),function(e,t){return arguments.length>=2?function(n){return v(oc(e,t),Vl(1),$l(t))(n)}:function(t){return v(oc((t,n,r)=>e(t,n,r+1)),Vl(1))(t)}}((e,t)=>e),j(e=>n)):xl(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),uc(e=>{const t=new Uu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Ud(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),j(e=>{const t=function(e,t,n){const r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(t,n,r){return n.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(i.value.snapshot,n.value))return e(t,n,i);return e(t,n)})}(t,n,r);return new Mh(i,s)}{const r=t.retrieve(n.value);if(r){const e=r.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,e),e}{const r=new Fh(new Cl((i=n.value).url),new Cl(i.params),new Cl(i.queryParams),new Cl(i.fragment),new Cl(i.data),i.outlet,i.component,i),s=n.children.map(n=>e(t,n));return new Mh(r,s)}}var i}(e,t._root,n?n._root:void 0);return new Vh(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),uc(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),rd(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),uc({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new pc(e))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Nu(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),Kl(n=>{if(r=!0,function(e){return e&&e[Ju]}(n)){const r=ad(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new Nu(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new Mu(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}return Ol}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){th(e),this.config=e.map(ih),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=t;at()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let u=null;if(o)switch(o){case"merge":u=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}else u=s?this.currentUrlTree.queryParams:r||null;return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,n,r,i){if(0===n.length)return Kh(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Qh(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return lh(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Qh(n,t,r)}(n);if(s.toRoot())return Kh(t.root,new dh([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new Gh(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Gh(n.snapshot._urlSegment,!0,0);const r=Wh(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Gh(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Yh(o.segmentGroup,o.index,s.commands):Jh(o.segmentGroup,o.index,s.commands);return Kh(o.segmentGroup,a,t,r,i)}(l,this.currentUrlTree,e,u,c)}navigateByUrl(e,t={skipLocationChange:!1}){at()&&this.isNgZoneEnabled&&!Ps.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ad(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(ad(e))return uh(this.currentUrlTree,e,t);const n=this.parseUrl(e);return uh(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Ru(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);let s=null,o=null;const a=new Promise((e,t)=>{s=e,o=t}),l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:s,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Zd{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){at()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:Yd(this.skipLocationChange),replaceUrl:Yd(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Yd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Yd(this.preserveFragment)})}}class Jd{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Ru&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){at()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Yd(this.skipLocationChange),replaceUrl:Yd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Yd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Yd(this.preserveFragment)})}}function Yd(e){return""===e||!!e}class Xd{constructor(e,t,n,r,i){this.router=e,this.element=t,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(e=>{e instanceof Ru&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(e=>this.update()),this.linksWithHrefs.changes.subscribe(e=>this.update()),this.update()}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}class ep{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new tp,this.attachRef=null}}class tp{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ep,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class np{constructor(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Xi,this.deactivateEvents=new Xi,this.name=r||Qu,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new rp(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class rp{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Fh?this.route:e===tp?this.childContexts:this.parent.get(e,t)}}class ip{}class sp{preload(e,t){return t().pipe(Kl(()=>xl(null)))}}class op{preload(e,t){return xl(null)}}class ap{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new $d(t,n,t=>e.triggerEvent(new Lu(t)),t=>e.triggerEvent(new Bu(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Rl(e=>e instanceof Ru),cc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(We);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return B(n).pipe(W(),j(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(H(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class lp{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Pu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ru&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Wu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Wu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const cp=new Oe("ROUTER_CONFIGURATION"),up=new Oe("ROUTER_FORROOT_GUARD"),hp=[Qa,{provide:mh,useClass:yh},{provide:Gd,useFactory:vp,deps:[Js,mh,tp,Qa,Xt,Xs,ws,Hd,cp,[qd,new he],[Ld,new he]]},tp,{provide:Fh,useFactory:bp,deps:[Gd]},{provide:Xs,useClass:io},ap,op,sp,{provide:cp,useValue:{enableTracing:!1}}];function dp(){return new Ws("Router",Gd)}class pp{constructor(e,t){}static forRoot(e,t){return{ngModule:pp,providers:[hp,yp(e),{provide:up,useFactory:mp,deps:[[Gd,new he,new pe]]},{provide:cp,useValue:t||{}},{provide:Wa,useFactory:gp,deps:[qa,[new ue(Ka),new he],cp]},{provide:lp,useFactory:fp,deps:[Gd,wl,cp]},{provide:ip,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:op},{provide:Ws,multi:!0,useFactory:dp},[wp,{provide:is,multi:!0,useFactory:_p,deps:[wp]},{provide:Cp,useFactory:xp,deps:[wp]},{provide:hs,multi:!0,useExisting:Cp}]]}}static forChild(e){return{ngModule:pp,providers:[yp(e)]}}}function fp(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new lp(e,t,n)}function gp(e,t,n={}){return n.useHash?new Za(e,t):new Ja(e,t)}function mp(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function yp(e){return[{provide:cn,multi:!0,useValue:e},{provide:Hd,multi:!0,useValue:e}]}function vp(e,t,n,r,i,s,o,a,l={},c,u){const h=new Gd(null,t,n,r,i,s,o,oh(a));if(c&&(h.urlHandlingStrategy=c),u&&(h.routeReuseStrategy=u),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const e=mc();h.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function bp(e){return e.routerState.root}class wp{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(za,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Gd),r=this.injector.get(cp);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?xl(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(cp),n=this.injector.get(ap),r=this.injector.get(lp),i=this.injector.get(Gd),s=this.injector.get(Js);e===s.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function _p(e){return e.appInitializer.bind(e)}function xp(e){return e.bootstrapListener.bind(e)}const Cp=new Oe("Router Initializer");var Ep=br({encapsulation:2,styles:[],data:{}});function kp(e){return Do(0,[(e()(),wo(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Ii(1,212992,null,0,np,[tp,tr,kn,[8,null],Dt],null,null)],(function(e,t){e(t,1,0)}),null)}function Sp(e){return Do(0,[(e()(),wo(0,0,null,null,1,"ng-component",[],null,null,null,kp,Ep)),Ii(1,49152,null,0,Ku,[],null,null)],null,null)}var Tp=si("ng-component",Ku,Sp,{},{},[]);class Op extends h{constructor(e,t){super()}schedule(e,t=0){return this}}class Ip extends Op{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let Ap=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class Pp extends Ap{constructor(e,t=Ap.now){super(e,()=>Pp.delegate&&Pp.delegate!==this?Pp.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Pp.delegate&&Pp.delegate!==this?Pp.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}function Rp(e,t,n,i){return r(n)&&(i=n,n=void 0),i?Rp(e,t,n).pipe(j(e=>l(e)?i(...e):i(e))):new w(r=>{!function e(t,n,r,i,s){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,r,s),o=()=>e.removeEventListener(n,r,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,r),o=()=>e.off(n,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,r),o=()=>e.removeListener(n,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,a=t.length;o<a;o++)e(t[o],n,r,i,s)}i.add(o)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)})}const Np=new Pp(Ip);function Mp(e){return t=>t.lift(new Dp(e))}class Dp{constructor(e){this.notifier=e}call(e,t){const n=new Vp(e),r=D(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class Vp extends V{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}class jp{}class Fp{constructor(e=!1,t="all",n="",r="",i=0){this.matches=e,this.mediaQuery=t,this.mqAlias=n,this.suffix=r,this.priority=i,this.property=""}clone(){return new Fp(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Up=(()=>{class e{constructor(){this.stylesheet=new Map}addStyleToElement(e,t,n){const r=this.stylesheet.get(e);r?r.set(t,n):this.stylesheet.set(e,new Map([[t,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,t){const n=this.stylesheet.get(e);let r="";if(n){const e=n.get(t);"number"!=typeof e&&"string"!=typeof e||(r=e+"")}return r}}return e.ngInjectableDef=me({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Lp={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},Bp=new Oe("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Lp}),Hp=new Oe("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),$p=new Oe("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function qp(e,t){return e=e?e.clone():new Fp,t&&(e.mqAlias=t.alias,e.mediaQuery=t.mediaQuery,e.suffix=t.suffix,e.priority=t.priority),e}const zp="inline",Wp=["row","column","row-reverse","column-reverse"];function Kp(e){if(e)switch(e.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":e="wrap-reverse";break;case"no":case"none":case"nowrap":e="nowrap";break;default:e="wrap"}return e}class Qp{constructor(e,t,n,r){this.elementRef=e,this.styleBuilder=t,this.styler=n,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new k,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(t=>{if(-1!==this.inputs.indexOf(t)){const n=t.split(".").slice(1).join(".");this.setValue(e[t].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,t){const n=this.styleBuilder,r=n.shouldCache;let i=this.styleCache.get(e);i&&r||(i=n.buildStyles(e,t),r&&this.styleCache.set(e,i)),this.mru=Object.assign({},i),this.applyStyleToElement(i),n.sideEffect(e,i,t)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,t=!1){if(e){const[n,r]=this.styler.getFlowDirection(e);if(!r&&t){const t=function(e){let[t,n,r]=function(e){e=e?e.toLowerCase():"";let[t,n,r]=e.split(" ");return Wp.find(e=>e===t)||(t=Wp[0]),n===zp&&(n=r!==zp?r:"",r=zp),[t,Kp(n),!!r]}(e);return function(e,t=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":e,"flex-wrap":t||null}}(t,n,r)}(n);this.styler.applyStyleToElements(t,[e])}return n.trim()}return"row"}applyStyleToElement(e,t,n=this.nativeElement){this.styler.applyStyleToElement(n,e,t)}setValue(e,t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,t)}updateWithValue(e){this.addStyles(e)}}const Gp=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.9px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.9px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.9px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.9px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.9px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.9px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.9px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.9px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.9px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Zp="(orientation: portrait) and (min-width: 600px) and (max-width: 839.9px)",Jp="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.9px)",Yp="(orientation: portrait) and (min-width: 840px)",Xp="(orientation: landscape) and (min-width: 1280px)",ef={HANDSET:"(orientation: portrait) and (max-width: 599.9px), (orientation: landscape) and (max-width: 959.9px)",TABLET:`${Zp} , ${Jp}`,WEB:`${Yp}, ${Xp} `,HANDSET_PORTRAIT:"(orientation: portrait) and (max-width: 599.9px)",TABLET_PORTRAIT:`${Zp} `,WEB_PORTRAIT:`${Yp}`,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.9px)]",TABLET_LANDSCAPE:`${Jp}`,WEB_LANDSCAPE:`${Xp}`},tf=[{alias:"handset",priority:2e3,mediaQuery:ef.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:ef.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:ef.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:ef.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:ef.TABLET},{alias:"tablet.portrait",priority:2100,mediaQuery:ef.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:ef.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:ef.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:ef.WEB_PORTRAIT,overlapping:!0}],nf=/(\.|-|_)/g;function rf(e){let t=e.length>0?e.charAt(0):"",n=e.length>1?e.slice(1):"";return t.toUpperCase()+n}const sf=new Oe("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const e=He($p),t=He(Bp),n=[].concat.apply([],(e||[]).map(e=>Array.isArray(e)?e:[e]));return function(e,t=[]){const n={};return e.forEach(e=>{n[e.alias]=e}),t.forEach(e=>{n[e.alias]?function(e,...t){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(let n of t)if(null!=n)for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}(n[e.alias],e):n[e.alias]=e}),(r=Object.keys(n).map(e=>n[e])).forEach(e=>{e.suffix||(e.suffix=function(e){return e.replace(nf,"|").split("|").map(rf).join("")}(e.alias),e.overlapping=!!e.overlapping)}),r;var r}((t.disableDefaultBps?[]:Gp).concat(t.addOrientationBps?tf:[]),n)}});function of(e,t){return(t&&t.priority||0)-(e&&e.priority||0)}function af(e,t){return(e.priority||0)-(t.priority||0)}let lf=(()=>{class e{constructor(e){this.findByMap=new Map,this.items=[...e].sort(af)}findByAlias(e){return e?this.findWithPredicate(e,t=>t.alias==e):null}findByQuery(e){return this.findWithPredicate(e,t=>t.mediaQuery==e)}get overlappings(){return this.items.filter(e=>1==e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e.suffix?e.suffix:"")}findWithPredicate(e,t){let n=this.findByMap.get(e);return n||(n=this.items.find(t)||null,this.findByMap.set(e,n)),n||null}}return e.ngInjectableDef=me({factory:function(){return new e(Be(sf))},token:e,providedIn:"root"}),e})(),cf=(()=>{class e{constructor(e,t,n){this._zone=e,this._platformId=t,this._document=n,this.source=new Cl(new Fp(!0)),this.registry=new Map,this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((t,n)=>{t.matches&&e.push(n)}),e}isActive(e){const t=this.registry.get(e);return!!t&&t.matches}observe(e,t=!1){if(e&&e.length){const n=this._observable$.pipe(Rl(n=>!t||e.indexOf(n.mediaQuery)>-1));return Q(new w(t=>{const n=this.registerQuery(e);if(n.length){const e=n.pop();n.forEach(e=>{t.next(e)}),this.source.next(e)}t.complete()}),n)}return this._observable$}registerQuery(e){const t=Array.isArray(e)?e:[e],n=[];return function(e,t){const n=e.filter(e=>!uf[e]);if(n.length>0){const e=n.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${e} {.fx-query-test{ }}\n`)),t.head.appendChild(r),n.forEach(e=>uf[e]=r)}catch(r){console.error(r)}}}(t,this._document),t.forEach(e=>{let t=this.registry.get(e);t||((t=this.buildMQL(e)).addListener(t=>{this._zone.run(()=>this.source.next(new Fp(t.matches,e)))}),this.registry.set(e,t)),t.matches&&n.push(new Fp(!0,e))}),n}buildMQL(e){return function(e,t){return t&&window.matchMedia("all").addListener?window.matchMedia(e):{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}(e,vl(this._platformId))}}return e.ngInjectableDef=me({factory:function(){return new e(Be(Ps),Be(us),Be(gl))},token:e,providedIn:"root"}),e})();const uf={},hf="print",df={alias:hf,mediaQuery:hf,priority:1e3};let pf=(()=>{class e{constructor(e,t){this.breakpoints=e,this.layoutConfig=t,this.isPrinting=!1,this.queue=new ff,this.deactivations=[]}withPrintQuery(e){return[...e,hf]}isPrintEvent(e){return e.mediaQuery.startsWith(hf)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const t=this.breakpoints.findByQuery(e);return(t?[...this.printBreakPoints,t]:this.printBreakPoints).sort(of)}updateEvent(e){let t=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(t=this.getEventBreakpoints(e)[0],e.mediaQuery=t?t.mediaQuery:""),qp(e,t)}interceptEvents(e){return t=>{this.isPrintEvent(t)?t.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(t)),e.updateStyles()):!t.matches&&this.isPrinting&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(t)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,t){this.isPrinting=!0,e.activatedBreakpoints=this.queue.addPrintBreakpoints(t)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(e){if(!this.isPrinting)if(e.matches)this.deactivations=[];else{const t=this.breakpoints.findByQuery(e.mediaQuery);t&&(this.deactivations.push(t),this.deactivations.sort(of))}}}return e.ngInjectableDef=me({factory:function(){return new e(Be(lf),Be(Bp))},token:e,providedIn:"root"}),e})();class ff{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(df),e.sort(of),e.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(e){e&&void 0===this.printBreakpoints.find(t=>t.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=function(e){return!!e&&e.mediaQuery.startsWith(hf)}(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}function gf(e){for(let t in e){let n=e[t]||"";switch(t){case"display":e.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":e["-webkit-"+t]=n;break;case"flex-direction":e["-webkit-flex-direction"]=n=n||"row",e["flex-direction"]=n;break;case"order":e.order=e["-webkit-"+t]=isNaN(+n)?"0":n}}return e}let mf=(()=>{class e{constructor(e,t,n,r){this._serverStylesheet=e,this._serverModuleLoaded=t,this._platformId=n,this.layoutConfig=r}applyStyleToElement(e,t,n=null){let r={};"string"==typeof t&&(r[t]=n,t=r),r=this.layoutConfig.disableVendorPrefixes?t:gf(t),this._applyMultiValueStyleToElement(r,e)}applyStyleToElements(e,t=[]){const n=this.layoutConfig.disableVendorPrefixes?e:gf(e);t.forEach(e=>{this._applyMultiValueStyleToElement(n,e)})}getFlowDirection(e){let t=this.lookupStyle(e,"flex-direction");return[t||"row",this.lookupInlineStyle(e,"flex-direction")||bl(this._platformId)&&this._serverModuleLoaded?t:""]}lookupAttributeValue(e,t){return e.getAttribute(t)||""}lookupInlineStyle(e,t){return vl(this._platformId)?e.style.getPropertyValue(t):this._getServerStyle(e,t)}lookupStyle(e,t,n=!1){let r="";return e&&((r=this.lookupInlineStyle(e,t))||(vl(this._platformId)?n||(r=getComputedStyle(e).getPropertyValue(t)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(e,t)))),r?r.trim():""}_applyMultiValueStyleToElement(e,t){Object.keys(e).sort().forEach(n=>{const r=e[n],i=Array.isArray(r)?r:[r];i.sort();for(let e of i)e=e?e+"":"",vl(this._platformId)||!this._serverModuleLoaded?vl(this._platformId)?t.style.setProperty(n,e):this._setServerStyle(t,n,e):this._serverStylesheet.addStyleToElement(t,n,e)})}_setServerStyle(e,t,n){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=this._readStyleAttribute(e);r[t]=n||"",this._writeStyleAttribute(e,r)}_getServerStyle(e,t){return this._readStyleAttribute(e)[t]||""}_readStyleAttribute(e){const t={},n=e.getAttribute("style");if(n){const e=n.split(/;+/g);for(let n=0;n<e.length;n++){const r=e[n].trim();if(r.length>0){const e=r.indexOf(":");if(-1===e)throw new Error(`Invalid CSS style: ${r}`);t[r.substr(0,e).trim()]=r.substr(e+1).trim()}}}return t}_writeStyleAttribute(e,t){let n="";for(const r in t)t[r]&&(n+=r+":"+t[r]+";");e.setAttribute("style",n)}}return e.ngInjectableDef=me({factory:function(){return new e(Be(Up,8),Be(Hp,8),Be(us),Be(Bp))},token:e,providedIn:"root"}),e})();class yf{constructor(){this.shouldCache=!0}sideEffect(e,t,n){}}function vf(e,t="1",n="1"){let r=[t,n,e],i=e.indexOf("calc");if(i>0){r[2]=bf(e.substring(i).trim());let t=e.substr(0,i).trim().split(" ");2==t.length&&(r[0]=t[0],r[1]=t[1])}else if(0==i)r[2]=bf(e.trim());else{let i=e.split(" ");r=3===i.length?i:[t,n,e]}return r}function bf(e){return e.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let wf=(()=>{class e{constructor(e,t,n){this.matchMedia=e,this.breakpoints=t,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new k,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(e){const t=this.findByQuery(e.mediaQuery);t&&((e=qp(e,t)).matches&&-1===this.activatedBreakpoints.indexOf(t)?(this.activatedBreakpoints.push(t),this.activatedBreakpoints.sort(of),this.updateStyles()):e.matches||-1===this.activatedBreakpoints.indexOf(t)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(t),1),this.activatedBreakpoints.sort(of),this.updateStyles()))}init(e,t,n,r,i=[]){_f(this.updateMap,e,t,n),_f(this.clearMap,e,t,r),this.buildElementKeyMap(e,t),this.watchExtraTriggers(e,t,i)}getValue(e,t,n){const r=this.elementMap.get(e);if(r){const e=void 0!==n?r.get(n):this.getActivatedValues(r,t);if(e)return e.get(t)}}hasValue(e,t){const n=this.elementMap.get(e);if(n){const e=this.getActivatedValues(n,t);if(e)return void 0!==e.get(t)||!1}return!1}setValue(e,t,n,r){let i=this.elementMap.get(e);if(i){const s=(i.get(r)||new Map).set(t,n);i.set(r,s),this.elementMap.set(e,i)}else i=(new Map).set(r,(new Map).set(t,n)),this.elementMap.set(e,i);const s=this.getValue(e,t);void 0!==s&&this.updateElement(e,t,s)}trackValue(e,t){return this.subject.asObservable().pipe(Rl(n=>n.element===e&&n.key===t))}updateStyles(){this.elementMap.forEach((e,t)=>{const n=new Set(this.elementKeyMap.get(t));let r=this.getActivatedValues(e);r&&r.forEach((e,r)=>{this.updateElement(t,r,e),n.delete(r)}),n.forEach(n=>{if(r=this.getActivatedValues(e,n)){const e=r.get(n);this.updateElement(t,n,e)}else this.clearElement(t,n)})})}clearElement(e,t){const n=this.clearMap.get(e);if(n){const r=n.get(t);r&&(r(),this.subject.next({element:e,key:t,value:""}))}}updateElement(e,t,n){const r=this.updateMap.get(e);if(r){const i=r.get(t);i&&(i(n),this.subject.next({element:e,key:t,value:n}))}}releaseElement(e){const t=this.watcherMap.get(e);t&&(t.forEach(e=>e.unsubscribe()),this.watcherMap.delete(e));const n=this.elementMap.get(e);n&&(n.forEach((e,t)=>n.delete(t)),this.elementMap.delete(e))}triggerUpdate(e,t){const n=this.elementMap.get(e);if(n){const r=this.getActivatedValues(n,t);r&&(t?this.updateElement(e,t,r.get(t)):r.forEach((t,n)=>this.updateElement(e,n,t)))}}buildElementKeyMap(e,t){let n=this.elementKeyMap.get(e);n||(n=new Set,this.elementKeyMap.set(e,n)),n.add(t)}watchExtraTriggers(e,t,n){if(n&&n.length){let r=this.watcherMap.get(e);if(r||(r=new Map,this.watcherMap.set(e,r)),!r.get(t)){const i=Q(...n).subscribe(()=>{const n=this.getValue(e,t);this.updateElement(e,t,n)});r.set(t,i)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,t){for(let r=0;r<this.activatedBreakpoints.length;r++){const n=e.get(this.activatedBreakpoints[r].alias);if(n&&(void 0===t||n.has(t)))return n}const n=e.get("");return void 0===t||n&&n.has(t)?n:void 0}observeActivations(){const e=this.breakpoints.items.map(e=>e.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(uc(this.hook.interceptEvents(this)),Rl(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return e.ngInjectableDef=me({factory:function(){return new e(Be(cf),Be(lf),Be(pf))},token:e,providedIn:"root"}),e})();function _f(e,t,n,r){if(void 0!==r){let i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)}}const xf="inline",Cf=["row","column","row-reverse","column-reverse"];function Ef(e){e=e?e.toLowerCase():"";let[t,n,r]=e.split(" ");return Cf.find(e=>e===t)||(t=Cf[0]),n===xf&&(n=r!==xf?r:"",r=xf),[t,Sf(n),!!r]}function kf(e){let[t]=Ef(e);return t.indexOf("row")>-1}function Sf(e){if(e)switch(e.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":e="wrap-reverse";break;case"no":case"none":case"nowrap":e="nowrap";break;default:e="wrap"}return e}let Tf=(()=>{class e extends yf{buildStyles(e){return function(e){let[t,n,r]=Ef(e);return function(e,t=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":e,"flex-wrap":t||null}}(t,n,r)}(e)}}return e.ngInjectableDef=me({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Of=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];class If extends Qp{constructor(e,t,n,r){super(e,n,t,r),this.elRef=e,this.styleUtils=t,this.styleBuilder=n,this.marshal=r,this.DIRECTIVE_KEY="layout",this.styleCache=Pf,this.init()}}class Af extends If{constructor(){super(...arguments),this.inputs=Of}}const Pf=new Map;function Rf(e,...t){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(let n of t)if(null!=n)for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}let Nf=(()=>{class e extends yf{constructor(e){super(),this.layoutConfig=e}buildStyles(e,t){let[n,r,...i]=e.split(" "),s=i.join(" ");const o=t.direction.indexOf("column")>-1?"column":"row",a=kf(o)?"max-width":"max-height",l=kf(o)?"min-width":"min-height",c=String(s).indexOf("calc")>-1,u=c||"auto"===s,h=String(s).indexOf("%")>-1&&!c,d=String(s).indexOf("px")>-1||String(s).indexOf("rem")>-1||String(s).indexOf("em")>-1||String(s).indexOf("vw")>-1||String(s).indexOf("vh")>-1;let p=c||d;r="0"==r?0:r;const f=!(n="0"==n?0:n)&&!r;let g={};const m={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(s||""){case"":const e=!1!==this.layoutConfig.useColumnBasisZero;s="row"===o?"0%":e?"0.000000001px":"auto";break;case"initial":case"nogrow":n=0,s="auto";break;case"grow":s="100%";break;case"noshrink":r=0,s="auto";break;case"auto":break;case"none":n=0,r=0,s="auto";break;default:p||h||isNaN(s)||(s+="%"),"0%"===s&&(p=!0),"0px"===s&&(s="0%"),g=Rf(m,c?{"flex-grow":n,"flex-shrink":r,"flex-basis":p?s:"100%"}:{flex:`${n} ${r} ${p?s:"100%"}`})}return g.flex||g["flex-grow"]||(g=Rf(m,c?{"flex-grow":n,"flex-shrink":r,"flex-basis":s}:{flex:`${n} ${r} ${s}`})),"0%"!==s&&"0px"!==s&&"0.000000001px"!==s&&"auto"!==s&&(g[l]=f||p&&n?s:null,g[a]=f||!u&&r?s:null),g[l]||g[a]?t.hasWrap&&(g[c?"flex-basis":"flex"]=g[a]?c?g[a]:`${n} ${r} ${g[a]}`:c?g[l]:`${n} ${r} ${g[l]}`):g=Rf(m,c?{"flex-grow":n,"flex-shrink":r,"flex-basis":s}:{flex:`${n} ${r} ${s}`}),Rf(g,{"box-sizing":"border-box"})}}return e.ngInjectableDef=me({factory:function(){return new e(Be(Bp))},token:e,providedIn:"root"}),e})();const Mf=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];class Df extends Qp{constructor(e,t,n,r,i){super(e,r,t,i),this.elRef=e,this.styleUtils=t,this.layoutConfig=n,this.styleBuilder=r,this.marshal=i,this.DIRECTIVE_KEY="flex",this.direction="",this.wrap=!1,this.flexGrow="1",this.flexShrink="1",this.init(),this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Mp(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Mp(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}onLayoutChange(e){const t=e.value.split(" ");this.direction=t[0],this.wrap=void 0!==t[1]&&"wrap"===t[1],this.triggerUpdate()}updateWithValue(e){this.direction||(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent));const t=this.direction,n=t.startsWith("row"),r=this.wrap;n&&r?this.styleCache=Uf:n&&!r?this.styleCache=jf:!n&&r?this.styleCache=Lf:n||r||(this.styleCache=Ff);const i=vf(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(i.join(" "),{direction:t,hasWrap:r})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const t=vf(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,t.join(" "))}}}class Vf extends Df{constructor(){super(...arguments),this.inputs=Mf}}const jf=new Map,Ff=new Map,Uf=new Map,Lf=new Map;class Bf{}class Hf extends Qp{constructor(e,t,n,r,i){super(e,null,t,n),this.elementRef=e,this.styler=t,this.marshal=n,this.delegate=r,this.ngClassInstance=i,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new al(this.delegate)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}const $f=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];class qf extends Hf{constructor(){super(...arguments),this.inputs=$f}}class zf{}function Wf(e,t){return new w(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=B(e[a]);let c=!1;n.add(l.subscribe({next:e=>{c||(c=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{++s!==r&&c||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}const Kf=new Oe("NgValueAccessor"),Qf=new Oe("CompositionEventMode");class Gf{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=mc()?mc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}class Zf{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Jf extends Zf{get formDirective(){return null}get path(){return null}}function Yf(){throw new Error("unimplemented")}class Xf extends Zf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Yf()}get asyncValidator(){return Yf()}}class eg{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class tg extends eg{constructor(e){super(e)}}class ng extends eg{constructor(e){super(e)}}function rg(e){return null==e||0===e.length}const ig=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sg{static min(e){return t=>{if(rg(t.value)||rg(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(rg(t.value)||rg(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return rg(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return rg(e.value)?null:ig.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(rg(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return sg.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(rg(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(og);return 0==t.length?null:function(e){return lg(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(og);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(l(t))return Wf(t,null);if(c(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Wf(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Wf(e=1===e.length&&l(e[0])?e[0]:e,null).pipe(j(e=>t(...e)))}return Wf(e,null)}(function(e,t){return t.map(t=>t(e))}(e,t).map(ag)).pipe(j(lg))}}}function og(e){return null!=e}function ag(e){const t=yn(e)?B(e):e;if(!vn(t))throw new Error("Expected validator to return Promise or Observable.");return t}function lg(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function cg(e){return e.validate?t=>e.validate(t):e}function ug(e){return e.validate?t=>e.validate(t):e}class hg{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}const dg={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};function pg(e,t){return[...t.path,e]}function fg(e,t){e||mg(t,"Cannot find control with"),t.valueAccessor||mg(t,"No value accessor for form control with"),e.validator=sg.compose([e.validator,t.validator]),e.asyncValidator=sg.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&gg(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&gg(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function gg(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function mg(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function yg(e){return null!=e?sg.compose(e.map(cg)):null}function vg(e){return null!=e?sg.composeAsync(e.map(ug)):null}const bg=[class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=dn}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=dn}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},class{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Xf),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}],wg="VALID",_g="INVALID",xg="PENDING",Cg="DISABLED";function Eg(e){const t=Sg(e)?e.validators:e;return Array.isArray(t)?yg(t):t||null}function kg(e,t){const n=Sg(t)?t.asyncValidators:e;return Array.isArray(n)?vg(n):n||null}function Sg(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Tg{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===wg}get invalid(){return this.status===_g}get pending(){return this.status==xg}get disabled(){return this.status===Cg}get enabled(){return this.status!==Cg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=Eg(e)}setAsyncValidators(e){this.asyncValidator=kg(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xg,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cg,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wg,this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==wg&&this.status!==xg||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cg:wg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xg;const t=ag(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof Ig?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof Ag&&e.at(t)||null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Xi,this.statusChanges=new Xi}_calculateStatus(){return this._allControlsDisabled()?Cg:this.errors?_g:this._anyControlsHaveStatus(xg)?xg:this._anyControlsHaveStatus(_g)?_g:wg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Og extends Tg{constructor(e=null,t,n){super(Eg(t),kg(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ig extends Tg{constructor(e,t,n){super(Eg(t),kg(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Og?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,r)=>{t=t||this.contains(r)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ag extends Tg{constructor(e,t,n){super(Eg(t),kg(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Og?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Pg=(()=>Promise.resolve(null))();class Rg extends Jf{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Xi,this.form=new Ig({},yg(e),vg(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Pg.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),fg(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Pg.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),function(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this._directives,e)})}addFormGroup(e){Pg.then(()=>{const t=this._findContainer(e.path),n=new Ig({});(function(e,t){null==e&&mg(t,"Cannot find control with"),e.validator=sg.compose([e.validator,t.validator]),e.asyncValidator=sg.composeAsync([e.asyncValidator,t.asyncValidator])})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Pg.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Pg.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}class Ng{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${dg.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${dg.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${dg.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${dg.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${dg.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${dg.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const Mg=new Oe("NgFormSelectorWarning");class Dg extends Jf{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return pg(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return yg(this._validators)}get asyncValidator(){return vg(this._asyncValidators)}_checkParentType(){}}class Vg extends Dg{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof Vg||this._parent instanceof Rg||Ng.modelGroupParentException()}}const jg=(()=>Promise.resolve(null))();class Fg extends Xf{constructor(e,t,n,r){super(),this.control=new Og,this._registered=!1,this.update=new Xi,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||mg(e,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return t.forEach(t=>{t.constructor===Gf?n=t:function(e){return bg.some(t=>e.constructor===t)}(t)?(r&&mg(e,"More than one built-in value accessor matches form control with"),r=t):(i&&mg(e,"More than one custom value accessor matches form control with"),i=t)}),i||r||n||(mg(e,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!dn(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?pg(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return yg(this._rawValidators)}get asyncValidator(){return vg(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Vg)&&this._parent instanceof Dg?Ng.formGroupNameException():this._parent instanceof Vg||this._parent instanceof Rg||Ng.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ng.missingNameException()}_updateValue(e){jg.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;jg.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class Ug{}class Lg{}class Bg{static withConfig(e){return{ngModule:Bg,providers:[{provide:Mg,useValue:e.warnOnDeprecatedNgFormSelector}]}}}function Hg(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,a)}l((r=r.apply(e,t||[])).next())}))}class $g{constructor(e,t){this.title=e,t&&(this.id=t)}}var qg=Object.keys,zg=Array.isArray,Wg="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function Kg(e,t){return"object"!=typeof t?e:(qg(t).forEach((function(n){e[n]=t[n]})),e)}var Qg=Object.getPrototypeOf,Gg={}.hasOwnProperty;function Zg(e,t){return Gg.call(e,t)}function Jg(e,t){"function"==typeof t&&(t=t(Qg(e))),qg(t).forEach((function(n){Xg(e,n,t[n])}))}var Yg=Object.defineProperty;function Xg(e,t,n,r){Yg(e,t,Kg(n&&Zg(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function em(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Xg(e.prototype,"constructor",e),{extend:Jg.bind(null,e.prototype)}}}}var tm=Object.getOwnPropertyDescriptor,nm=[].slice;function rm(e,t,n){return nm.call(e,t,n)}function im(e,t){return t(e)}function sm(e){if(!e)throw new Error("Assertion Failed")}function om(e){Wg.setImmediate?setImmediate(e):setTimeout(e,0)}function am(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function lm(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function cm(e,t){if(Zg(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var s=cm(e,t[r]);n.push(s)}return n}var o=t.indexOf(".");if(-1!==o){var a=e[t.substr(0,o)];return void 0===a?void 0:cm(a,t.substr(o+1))}}function um(e,t,n){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){sm("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)um(e,t[r],n[r])}else{var s=t.indexOf(".");if(-1!==s){var o=t.substr(0,s),a=t.substr(s+1);if(""===a)void 0===n?delete e[o]:e[o]=n;else{var l=e[o];l||(l=e[o]={}),um(l,a,n)}}else void 0===n?delete e[t]:e[t]=n}}function hm(e){var t={};for(var n in e)Zg(e,n)&&(t[n]=e[n]);return t}var dm=[].concat;function pm(e){return dm.apply([],e)}var fm="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(pm([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return Wg[e]})).map((function(e){return Wg[e]}));function gm(e){if(!e||"object"!=typeof e)return e;var t;if(zg(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(gm(e[n]))}else if(fm.indexOf(e.constructor)>=0)t=e;else for(var i in t=e.constructor?Object.create(e.constructor.prototype):{},e)Zg(e,i)&&(t[i]=gm(e[i]));return t}function mm(e,t,n,r){return n=n||{},r=r||"",qg(e).forEach((function(i){if(Zg(t,i)){var s=e[i],o=t[i];"object"==typeof s&&"object"==typeof o&&s&&o&&""+s.constructor==""+o.constructor?mm(s,o,n,r+i+"."):s!==o&&(n[r+i]=t[i])}else n[r+i]=void 0})),qg(t).forEach((function(i){Zg(e,i)||(n[r+i]=t[i])})),n}var ym="undefined"!=typeof Symbol&&Symbol.iterator,vm=ym?function(e){var t;return null!=e&&(t=e[ym])&&t.apply(e)}:function(){return null},bm={};function wm(e){var t,n,r,i;if(1===arguments.length){if(zg(e))return e.slice();if(this===bm&&"string"==typeof e)return[e];if(i=vm(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var _m="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xm(e,t){_m=e,Cm=t}var Cm=function(){return!0},Em=!new Error("").stack;function km(){if(Em)try{throw new Error}catch(e){return e}return new Error}function Sm(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Cm).map((function(e){return"\n"+e})).join("")):""}var Tm=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Om=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Tm),Im={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function Am(e,t){this._e=km(),this.name=e,this.message=t}function Pm(e,t,n,r){this._e=km(),this.failures=t,this.failedKeys=r,this.successCount=n}function Rm(e,t){this._e=km(),this.name="BulkError",this.failures=t,this.message=function(e,t){return e+". Errors: "+t.map((function(e){return e.toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}(e,t)}em(Am).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Sm(this._e,2))}},toString:function(){return this.name+": "+this.message}}),em(Pm).from(Am),em(Rm).from(Am);var Nm=Om.reduce((function(e,t){return e[t]=t+"Error",e}),{}),Mm=Am,Dm=Om.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=km(),this.name=n,e?"string"==typeof e?(this.message=e,this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=Im[t]||n,this.inner=null)}return em(r).from(Mm),e[t]=r,e}),{});Dm.Syntax=SyntaxError,Dm.Type=TypeError,Dm.Range=RangeError;var Vm=Tm.reduce((function(e,t){return e[t+"Error"]=Dm[t],e}),{}),jm=Om.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Dm[t]),e}),{});function Fm(){}function Um(e){return e}function Lm(e,t){return null==e||e===Um?t:function(n){return t(e(n))}}function Bm(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Hm(e,t){return e===Fm?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Bm(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Bm(i,this.onerror):i),void 0!==s?s:n}}function $m(e,t){return e===Fm?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Bm(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Bm(r,this.onerror):r)}}function qm(e,t){return e===Fm?t:function(n){var r=e.apply(this,arguments);Kg(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Bm(i,this.onsuccess):i),s&&(this.onerror=this.onerror?Bm(s,this.onerror):s),void 0===r?void 0===o?void 0:o:Kg(r,o)}}function zm(e,t){return e===Fm?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function Wm(e,t){return e===Fm?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then((function(){return t.apply(r,s)}))}return t.apply(this,arguments)}}jm.ModifyError=Pm,jm.DexieError=Am,jm.BulkError=Rm;var Km={},Qm=100,Gm=7,Zm=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var e=Wg.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),Jm=Zm[0],Ym=Zm[1],Xm=Zm[2],ey=Ym&&Ym.then,ty=Jm&&Jm.constructor,ny=Zm[3],ry=!!Xm,iy=!1,sy=Xm?function(){Xm.then(Sy)}:Wg.setImmediate?setImmediate.bind(null,Sy):Wg.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Sy(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Sy,0)},oy=function(e,t){gy.push([e,t]),ly&&(sy(),ly=!1)},ay=!0,ly=!0,cy=[],uy=[],hy=null,dy=Um,py={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Zy,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{Zy(e[0],e[1])}catch(t){}}))}},fy=py,gy=[],my=0,yy=[];function vy(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Fm,this._lib=!1;var t=this._PSD=fy;if(_m&&(this._stackHolder=km(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Km)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&_y(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n((function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Ty();n&&"function"==typeof n.then?e(t,(function(e,t){n instanceof vy?n._then(e,t):n.then(e,t)})):(t._state=!0,t._value=n,xy(t)),r&&Oy()}}),_y.bind(null,t))}catch(r){_y(t,r)}}(this,e)}var by={get:function(){var e=fy,t=Vy;function n(n,r){var i=this,s=!e.global&&(e!==fy||t!==Vy);s&&Ly();var o=new vy((function(t,o){Cy(i,new wy(Ky(n,e,s),Ky(r,e,s),t,o,e))}));return _m&&ky(o,this),o}return n.prototype=Km,n},set:function(e){Xg(this,"then",e&&e.prototype===Km?by:{get:function(){return e},set:by.set})}};function wy(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function _y(e,t){if(uy.push(t),null===e._state){var n=e._lib&&Ty();t=dy(t),e._state=!1,e._value=t,_m&&null!==t&&"object"==typeof t&&!t._promise&&lm((function(){var n=function e(t,n){var r;return tm(t,n)||(r=Qg(t))&&e(r,n)}(t,"stack");t._promise=e,Xg(t,"stack",{get:function(){return iy?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){cy.some((function(t){return t._value===e._value}))||cy.push(e)}(e),xy(e),n&&Oy()}}function xy(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Cy(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===my&&(++my,oy((function(){0==--my&&Iy()}),[]))}function Cy(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++my,oy(Ey,[n,e,t])}else e._listeners.push(t)}function Ey(e,t,n){try{hy=t;var r,i=t._value;t._state?r=e(i):(uy.length&&(uy=[]),r=e(i),-1===uy.indexOf(i)&&function(e){for(var t=cy.length;t;)if(cy[--t]._value===e._value)return void cy.splice(t,1)}(t)),n.resolve(r)}catch(s){n.reject(s)}finally{hy=null,0==--my&&Iy(),--n.psd.ref||n.psd.finalize()}}function ky(e,t){var n=t?t._numPrev+1:0;n<Qm&&(e._prev=t,e._numPrev=n)}function Sy(){Ty()&&Oy()}function Ty(){var e=ay;return ay=!1,ly=!1,e}function Oy(){var e,t,n;do{for(;gy.length>0;)for(e=gy,gy=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(gy.length>0);ay=!0,ly=!0}function Iy(){var e=cy;cy=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=yy.slice(0),n=t.length;n;)t[--n]()}function Ay(e){return new vy(Km,!1,e)}function Py(e,t){var n=fy;return function(){var r=Ty(),i=fy;try{return qy(n,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{qy(i,!1),r&&Oy()}}}Jg(vy.prototype,{then:by,_then:function(e,t){Cy(this,new wy(null,null,e,t,fy))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return this.then(null,"function"==typeof t?function(e){return e instanceof t?n(e):Ay(e)}:function(e){return e&&e.name===t?n(e):Ay(e)})},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),Ay(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{iy=!0;var e=function e(t,n,r){if(n.length===r)return n;var i="";if(!1===t._state){var s,o,a=t._value;null!=a?(s=a.name||"Error",o=a.message||a,i=Sm(a,0)):(s=a,o=""),n.push(s+(o?": "+o:"")+i)}return _m&&((i=Sm(t._stackHolder,2))&&-1===n.indexOf(i)&&n.push(i),t._prev&&e(t._prev,n,r)),n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{iy=!1}}},timeout:function(e,t){var n=this;return e<1/0?new vy((function(r,i){var s=setTimeout((function(){return i(new Dm.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,s))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Xg(vy.prototype,Symbol.toStringTag,"Promise"),py.env=zy(),Jg(vy,{all:function(){var e=wm.apply(null,arguments).map(By);return new vy((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,s){return vy.resolve(i).then((function(n){e[s]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof vy)return e;if(e&&"function"==typeof e.then)return new vy((function(t,n){e.then(t,n)}));var t=new vy(Km,!0,e);return ky(t,hy),t},reject:Ay,race:function(){var e=wm.apply(null,arguments).map(By);return new vy((function(t,n){e.map((function(e){return vy.resolve(e).then(t,n)}))}))},PSD:{get:function(){return fy},set:function(e){return fy=e}},newPSD:Fy,usePSD:Wy,scheduler:{get:function(){return oy},set:function(e){oy=e}},rejectionMapper:{get:function(){return dy},set:function(e){dy=e}},follow:function(e,t){return new vy((function(n,r){return Fy((function(t,n){var r=fy;r.unhandleds=[],r.onunhandled=n,r.finalize=Bm((function(){var e=this;yy.push((function r(){0===e.unhandleds.length?t():n(e.unhandleds[0]),yy.splice(yy.indexOf(r),1)})),++my,oy((function(){0==--my&&Iy()}),[])}),r.finalize),e()}),t,n,r)}))}});var Ry={awaits:0,echoes:0,id:0},Ny=0,My=[],Dy=0,Vy=0,jy=0;function Fy(e,t,n,r){var i=fy,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++jy;var o=py.env;s.env=ry?{Promise:vy,PromiseProp:{value:vy,configurable:!0,writable:!0},all:vy.all,race:vy.race,resolve:vy.resolve,reject:vy.reject,nthen:Qy(o.nthen,s),gthen:Qy(o.gthen,s)}:{},t&&Kg(s,t),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Wy(s,e,n,r);return 0===s.ref&&s.finalize(),a}function Uy(){return Ry.id||(Ry.id=++Ny),++Ry.awaits,Ry.echoes+=Gm,Ry.id}function Ly(e){!Ry.awaits||e&&e!==Ry.id||(0==--Ry.awaits&&(Ry.id=0),Ry.echoes=Ry.awaits*Gm)}function By(e){return Ry.echoes&&e&&e.constructor===ty?(Uy(),e.then((function(e){return Ly(),e}),(function(e){return Ly(),Jy(e)}))):e}function Hy(e){++Vy,Ry.echoes&&0!=--Ry.echoes||(Ry.echoes=Ry.id=0),My.push(fy),qy(e,!0)}function $y(){var e=My[My.length-1];My.pop(),qy(e,!1)}function qy(e,t){var n,r=fy;if((t?!Ry.echoes||Dy++&&e===fy:!Dy||--Dy&&e===fy)||(n=t?Hy.bind(null,e):$y,ey.call(Jm,n)),e!==fy&&(fy=e,r===py&&(py.env=zy()),ry)){var i=py.env.Promise,s=e.env;Ym.then=s.nthen,i.prototype.then=s.gthen,(r.global||e.global)&&(Object.defineProperty(Wg,"Promise",s.PromiseProp),i.all=s.all,i.race=s.race,i.resolve=s.resolve,i.reject=s.reject)}}function zy(){var e=Wg.Promise;return ry?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Wg,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:Ym.then,gthen:e.prototype.then}:{}}function Wy(e,t,n,r,i){var s=fy;try{return qy(e,!0),t(n,r,i)}finally{qy(s,!1)}}function Ky(e,t,n){return"function"!=typeof e?e:function(){var r=fy;n&&Uy(),qy(t,!0);try{return e.apply(this,arguments)}finally{qy(r,!1)}}}function Qy(e,t){return function(n,r){return e.call(this,Ky(n,t,!1),Ky(r,t,!1))}}var Gy="unhandledrejection";function Zy(e,t){var n;try{n=t.onuncatched(e)}catch(s){}if(!1!==n)try{var r,i={promise:t,reason:e};if(Wg.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(Gy,!0,!0),Kg(r,i)):Wg.CustomEvent&&Kg(r=new CustomEvent(Gy,{detail:i}),i),r&&Wg.dispatchEvent&&(dispatchEvent(r),!Wg.PromiseRejectionEvent&&Wg.onunhandledrejection))try{Wg.onunhandledrejection(r)}catch(o){}r.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(s){}}var Jy=vy.reject;function Yy(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,s=new Array(i-1);--i;)s[i-1]=arguments[i];return t[n].subscribe.apply(null,s),e}if("string"==typeof n)return t[n]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(e,r,i){if("object"!=typeof e){var o;r||(r=zm),i||(i=Fm);var a={subscribers:[],fire:i,subscribe:function(e){-1===a.subscribers.indexOf(e)&&(a.subscribers.push(e),a.fire=r(a.fire,e))},unsubscribe:function(e){a.subscribers=a.subscribers.filter((function(t){return t!==e})),a.fire=a.subscribers.reduce(r,i)}};return t[e]=n[e]=a,a}qg(o=e).forEach((function(e){var t=o[e];if(zg(t))s(e,o[e][0],o[e][1]);else{if("asap"!==t)throw new Dm.InvalidArgument("Invalid event config");var n=s(e,Um,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){om((function(){e.apply(null,t)}))}))}))}}))}}var Xy,ev=String.fromCharCode(65535),tv=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return ev}}(),nv=-1/0,rv="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",iv="String expected.",sv=[],ov="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),av=ov,lv=ov,cv=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function uv(e,t){var n,r,i,s,o,a=uv.dependencies,l=Kg({addons:uv.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},t),c=l.addons,u=l.autoOpen,h=l.indexedDB,d=l.IDBKeyRange,p=this._dbSchema={},f=[],g=[],m={},y=null,v=null,b=!1,w=null,_=!1,x="readwrite",C=this,E=new vy((function(e){n=e})),k=new vy((function(e,t){r=t})),S=!0,T=!!_v(h);function O(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function I(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){A(i,e)})),i}function A(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function P(e,t,n){var r=arguments.length;if(r<2)throw new Dm.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,pm(i),n]}function R(e,t,n){this.name=e,this.schema=t,this._tx=n,this.hook=m[e]?m[e].hook:Yy(null,{creating:[Hm,Fm],reading:[Lm,Um],updating:[qm,Fm],deleting:[$m,Fm]})}function N(e,t,n){return(n?gv:pv)((function(n){e.push(n),t&&t()}))}function M(e,t,n,r,i){return new vy((function(s,o){var a=n.length,l=a-1;if(0===a)return s();if(r){var c,u=gv(o),h=dv(null);lm((function(){for(var r=0;r<a;++r){var o=n[r];i.call(c={onsuccess:null,onerror:null},o[0],o[1],t);var d=e.delete(o[0]);d._hookCtx=c,d.onerror=u,d.onsuccess=r===l?dv(s):h}}),(function(e){throw c.onerror&&c.onerror(e),e}))}else for(var d=0;d<a;++d){var p=e.delete(n[d]);p.onerror=pv(o),d===l&&(p.onsuccess=Py((function(){return s()})))}}))}function D(e,t,n,r){var i=this;this.db=C,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=Yy(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new vy((function(e,t){i._resolve=e,i._reject=t})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),Jy(e)}))}function V(e,t,n){this._ctx={table:e,index:":id"===t?null:t,or:n}}function j(e,t){var n=null,r=null;if(t)try{n=t()}catch(o){r=o}var i=e._ctx,s=i.table;this._ctx={table:s,index:i.index,isPrimKey:!i.index||s.schema.primKey.keyPath&&i.index===s.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:s.hook.reading.fire}}function F(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function U(e,t){return e._cfg.version-t._cfg.version}function L(e,t,n){t.forEach((function(t){var r=n[t];e.forEach((function(e){t in e||(e===D.prototype||e instanceof D?Xg(e,t,{get:function(){return this.table(t)}}):e[t]=new R(t,r))}))}))}function B(e,t,n,r,i,s){var o=Py(s?function(e,t,r){return n(s(e),t,r)}:n,i);e.onerror||(e.onerror=pv(i)),e.onsuccess=function(e,t){return function(){try{e.apply(this,arguments)}catch(n){t(n)}}}(t?function(){var n=e.result;if(n){var s=function(){n.continue()};t(n,(function(e){s=e}),r,i)&&o(n.value,n,(function(e){s=e})),s()}else r()}:function(){var t=e.result;if(t){var n=function(){t.continue()};o(t.value,t,(function(e){n=e})),n()}else r()},i)}function H(e,t){return h.cmp(e,t)}function $(e,t){return H(e,t)>0?e:t}function q(e,t){return h.cmp(e,t)}function z(e,t){return h.cmp(t,e)}function W(e,t){return e<t?-1:e===t?0:1}function K(e,t){return e>t?-1:e===t?0:1}function Q(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function G(e,t){for(var n=t.db.objectStoreNames,r=0;r<n.length;++r){var s=n[r],o=t.objectStore(s);i="getAll"in o;for(var a=0;a<o.indexNames.length;++a){var l=o.indexNames[a],c=o.index(l).keyPath,u="string"==typeof c?c:"["+rm(c).join("+")+"]";if(e[s]){var h=e[s].idxByName[u];h&&(h.name=l)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Wg.WorkerGlobalScope&&Wg instanceof Wg.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i=!1)}function Z(e){C.on("blocked").fire(e),sv.filter((function(e){return e.name===C.name&&e!==C&&!e._vcFired})).map((function(t){return t.on("versionchange").fire(e)}))}this.version=function(e){if(y||b)throw new Dm.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=f.filter((function(t){return t._cfg.version===e}))[0];return t||(t=new O(e),f.push(t),f.sort(U),S=!1,t)},Kg(O.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?Kg(this._cfg.storesSource,e):e;var t={};f.forEach((function(e){Kg(t,e._cfg.storesSource)}));var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),p=C._dbSchema=n,[m,C,D.prototype].forEach((function(e){for(var t in e)e[t]instanceof R&&delete e[t]})),L([m,C,D.prototype,this._cfg.tables],qg(n),n),g=qg(n),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){qg(e).forEach((function(n){if(null!==e[n]){var r={},i=function(e){var t=[];return e.split(",").forEach((function(e){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;t.push(new vv(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),zg(r),/\./.test(e)))})),t}(e[n]),s=i.shift();if(s.multi)throw new Dm.Schema("Primary key cannot be multi-valued");s.keyPath&&um(r,s.keyPath,s.auto?0:s.keyPath),i.forEach((function(e){if(e.auto)throw new Dm.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Dm.Schema("Index must have a name and cannot be an empty string");um(r,e.keyPath,e.compound?e.keyPath.map((function(){return""})):"")})),t[n]=new bv(n,s,i,r)}}))}}),this._allTables=m,this._createTransaction=function(e,t,n,r){return new D(e,t,n,r)},this._whenReady=function(e){return _||fy.letThrough?e():new vy((function(e,t){if(!b){if(!u)return void t(new Dm.DatabaseClosed);C.open().catch(Fm)}E.then(e,t)})).then(e)},this.verno=0,this.open=function(){if(b||y)return E.then((function(){return v?Jy(v):C}));_m&&(k._stackHolder=km()),b=!0,v=null,_=!1;var t=n,r=null;return vy.race([k,new vy((function(t,n){if(!h)throw new Dm.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=S?h.open(e):h.open(e,Math.round(10*C.verno));if(!i)throw new Dm.MissingAPI("IndexedDB API not available");i.onerror=pv(n),i.onblocked=Py(Z),i.onupgradeneeded=Py((function(t){if(r=i.transaction,S&&!C._allowEmptyDB){i.onerror=mv,r.abort(),i.result.close();var s=h.deleteDatabase(e);s.onsuccess=s.onerror=Py((function(){n(new Dm.NoSuchDatabase("Database "+e+" doesnt exist"))}))}else r.onerror=pv(n),function(e,t,n){var r=C._createTransaction(x,g,p);r.create(t),r._completion.catch(n);var i=r._reject.bind(r);Fy((function(){fy.trans=r,0===e?(qg(p).forEach((function(e){I(t,e,p[e].primKey,p[e].indexes)})),vy.follow((function(){return C.on.populate.fire(r)})).catch(i)):function(e,t,n){var r=[],i=f.filter((function(t){return t._cfg.version===e}))[0];if(!i)throw new Dm.Upgrade("Dexie specification of currently installed DB version is missing");p=C._dbSchema=i._cfg.dbschema;var s=!1;return f.filter((function(t){return t._cfg.version>e})).forEach((function(e){r.push((function(){var r=p,i=e._cfg.dbschema;G(r,n),G(i,n),p=C._dbSchema=i;var o=function(e,t){var n={del:[],add:[],change:[]};for(var r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],s=t[r];if(i){var o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==s.primKey.src)o.recreate=!0,n.change.push(o);else{var a=i.idxByName,l=s.idxByName;for(var c in a)l[c]||o.del.push(c);for(c in l){var u=a[c],h=l[c];u?u.src!==h.src&&o.change.push(h):o.add.push(h)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}else n.add.push([r,s])}return n}(r,i);if(o.add.forEach((function(e){I(n,e[0],e[1].primKey,e[1].indexes)})),o.change.forEach((function(e){if(e.recreate)throw new Dm.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach((function(e){A(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),A(t,e)})),e.del.forEach((function(e){t.deleteIndex(e)}))})),e._cfg.contentUpgrade)return s=!0,vy.follow((function(){e._cfg.contentUpgrade(t)}))})),r.push((function(t){s&&av||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(e._cfg.dbschema,t)}))})),function e(){return r.length?vy.resolve(r.shift()(t.idbtrans)).then(e):vy.resolve()}().then((function(){!function(e,t){qg(e).forEach((function(n){t.db.objectStoreNames.contains(n)||I(t,n,e[n].primKey,e[n].indexes)}))}(p,n)}))}(e,r,t).catch(i)}))}((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,r,n)}),n),i.onsuccess=Py((function(){if(r=null,y=i.result,sv.push(C),S)!function(){if(C.verno=y.version/10,C._dbSchema=p={},0!==(g=rm(y.objectStoreNames,0)).length){var e=y.transaction(wv(g),"readonly");g.forEach((function(t){for(var n=e.objectStore(t),r=n.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf("."),s=new vv(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,i),o=[],a=0;a<n.indexNames.length;++a){var l=n.index(n.indexNames[a]);i=(r=l.keyPath)&&"string"==typeof r&&-1!==r.indexOf(".");var c=new vv(l.name,r,!!l.unique,!!l.multiEntry,!1,r&&"string"!=typeof r,i);o.push(c)}p[t]=new bv(t,s,o,{})})),L([m],qg(p),p)}}();else if(y.objectStoreNames.length>0)try{G(p,y.transaction(wv(y.objectStoreNames),"readonly"))}catch(n){}y.onversionchange=Py((function(e){C._vcFired=!0,C.on("versionchange").fire(e)})),T||"__dbnames"===e||Xy.dbnames.put({name:e}).catch(Fm),t()}),n)}))]).then((function(){return w=[],vy.resolve(uv.vip(C.on.ready.fire)).then((function e(){if(w.length>0){var t=w.reduce(Wm,Fm);return w=[],vy.resolve(uv.vip(t)).then(e)}}))})).finally((function(){w=null})).then((function(){return b=!1,C})).catch((function(e){try{r&&r.abort()}catch(t){}return b=!1,C.close(),Jy(v=e)})).finally((function(){_=!0,t()}))},this.close=function(){var e=sv.indexOf(C);if(e>=0&&sv.splice(e,1),y){try{y.close()}catch(t){}y=null}u=!1,v=new Dm.DatabaseClosed,b&&r(v),E=new vy((function(e){n=e})),k=new vy((function(e,t){r=t}))},this.delete=function(){var t=arguments.length>0;return new vy((function(n,r){if(t)throw new Dm.InvalidArgument("Arguments not allowed in db.delete()");function i(){C.close();var t=h.deleteDatabase(e);t.onsuccess=Py((function(){T||Xy.dbnames.delete(e).catch(Fm),n()})),t.onerror=pv(r),t.onblocked=Z}b?E.then(i):i()}))},this.backendDB=function(){return y},this.isOpen=function(){return null!==y},this.hasBeenClosed=function(){return v&&v instanceof Dm.DatabaseClosed},this.hasFailed=function(){return null!==v},this.dynamicallyOpened=function(){return S},this.name=e,Jg(this,{tables:{get:function(){return qg(m).map((function(e){return m[e]}))}}}),this.on=Yy(this,"populate","blocked","versionchange",{ready:[Wm,Fm]}),this.on.ready.subscribe=im(this.on.ready.subscribe,(function(e){return function(t,n){uv.vip((function(){_?(v||vy.resolve().then(t),n&&e(t)):w?(w.push(t),n&&e(t)):(e(t),n||e((function e(){C.on.ready.unsubscribe(t),C.on.ready.unsubscribe(e)})))}))}})),this.transaction=function(){var e=P.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,n){var r=fy.trans;r&&r.db===C&&-1===e.indexOf("!")||(r=null);var i=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var s=t.map((function(e){var t=e instanceof R?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}));if("r"==e||"readonly"==e)e="readonly";else{if("rw"!=e&&e!=x)throw new Dm.InvalidArgument("Invalid transaction mode: "+e);e=x}if(r){if("readonly"===r.mode&&e===x){if(!i)throw new Dm.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&s.forEach((function(e){if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new Dm.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(a){return r?r._promise(null,(function(e,t){t(a)})):Jy(a)}return r?r._promise(e,o,"lock"):fy.trans?Wy(fy.transless,(function(){return C._whenReady(o)})):C._whenReady(o);function o(){return vy.resolve().then((function(){var t,i=fy.transless||fy,o=C._createTransaction(e,s,p,r),a={trans:o,transless:i};r?o.idbtrans=r.idbtrans:o.create(),n.constructor===ny&&Uy();var l=vy.follow((function(){if(t=n.call(o,o))if(t.constructor===ty){var e=Ly.bind(null,null);t.then(e,e)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=yv(t))}),a);return(t&&"function"==typeof t.then?vy.resolve(t).then((function(e){return o.active?e:Jy(new Dm.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return t}))).then((function(e){return r&&o._resolve(),o._completion.then((function(){return e}))})).catch((function(e){return o._reject(e),Jy(e)}))}))}},this.table=function(e){if(!Zg(m,e))throw new Dm.InvalidTable("Table "+e+" does not exist");return m[e]},Jg(R.prototype,{_trans:function(e,t,n){var r=this._tx||fy.trans;return r&&r.db===C?r===fy.trans?r._promise(e,t,n):Fy((function(){return r._promise(e,t,n)}),{trans:r,transless:fy.transless||fy}):function e(t,n,r){if(_||fy.letThrough){var i=C._createTransaction(t,n,p);try{i.create()}catch(s){return Jy(s)}return i._promise(t,(function(e,t){return Fy((function(){return fy.trans=i,r(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(!b){if(!u)return Jy(new Dm.DatabaseClosed);C.open().catch(Fm)}return E.then((function(){return e(t,n,r)}))}(e,[this.name],t)},_idbstore:function(e,t,n){var r=this.name;return this._trans(e,(function(e,n,i){if(-1===i.storeNames.indexOf(r))throw new Dm.NotFound("Table"+r+" not part of transaction");return t(e,n,i.idbtrans.objectStore(r),i)}),n)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var n=this;return this._idbstore("readonly",(function(t,r,i){var s=i.get(e);s.onerror=pv(r),s.onsuccess=Py((function(){t(n.hook.reading.fire(s.result))}),r)})).then(t)},where:function(e){if("string"==typeof e)return new V(this,e);if(zg(e))return new V(this,"["+e.join("+")+"]");var t=qg(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&tv!==ev)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));n||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var r=this.schema.idxByName,i=t.reduce((function(t,n){return[t[0]||r[n],t[0]||!r[n]?Q(t[1],(function(t){return""+cm(t,n)==""+e[n]})):t[1]]}),[null,null]),s=i[0];return s?this.where(s.name).equals(e[s.keyPath]).filter(i[1]):n?this.filter(i[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new j(new V(this,zg(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new j(new V(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&hv(n,t),this.schema.instanceTemplate=n;var r=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(Zg(t,r))try{n[r]=t[r]}catch(i){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e},defineClass:function(e){return this.mapToClass(uv.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===Fm?this._idbstore(x,(function(t,n,r,i){t(M(r,i,e,!1,Fm))})):this.where(":id").anyOf(e).delete().then((function(){}))},bulkPut:function(e,t){var n=this;return this._idbstore(x,(function(r,i,s){if(!s.keyPath&&!n.schema.primKey.auto&&!t)throw new Dm.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(s.keyPath&&t)throw new Dm.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new Dm.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var o,a,l=function(e){0===c.length?r(e):i(new Rm(n.name+".bulkPut(): "+c.length+" of "+u+" operations failed",c))},c=[],u=e.length,h=n;if(n.hook.creating.fire===Fm&&n.hook.updating.fire===Fm){a=N(c);for(var d=0,p=e.length;d<p;++d)(o=t?s.put(e[d],t[d]):s.put(e[d])).onerror=a;o.onerror=N(c,l),o.onsuccess=fv(l)}else{var f=t||s.keyPath&&e.map((function(e){return cm(e,s.keyPath)})),g=f&&am(f,(function(t,n){return null!=t&&[t,e[n]]}));(f?h.where(":id").anyOf(f.filter((function(e){return null!=e}))).modify((function(){this.value=g[this.primKey],g[this.primKey]=null})).catch(Pm,(function(e){c=e.failures})).then((function(){for(var n=[],r=t&&[],i=f.length-1;i>=0;--i){var s=f[i];(null==s||g[s])&&(n.push(e[i]),t&&r.push(s),null!=s&&(g[s]=null))}return n.reverse(),t&&r.reverse(),h.bulkAdd(n,r)})).then((function(e){var t=f[f.length-1];return null!=t?t:e})):h.bulkAdd(e)).then(l).catch(Rm,(function(e){c=c.concat(e.failures),l()})).catch(i)}}),"locked")},bulkAdd:function(e,t){var n=this,r=this.hook.creating.fire;return this._idbstore(x,(function(i,s,o,a){if(!o.keyPath&&!n.schema.primKey.auto&&!t)throw new Dm.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new Dm.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new Dm.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return i();function l(e){0===d.length?i(e):s(new Rm(n.name+".bulkAdd(): "+d.length+" of "+p+" operations failed",d))}var c,u,h,d=[],p=e.length;if(r!==Fm){var f,g=o.keyPath;u=N(d,null,!0),h=dv(null),lm((function(){for(var n=0,i=e.length;n<i;++n){f={onerror:null,onsuccess:null};var s=t&&t[n],l=e[n],d=t?s:g?cm(l,g):void 0,p=r.call(f,d,l,a);null==d&&null!=p&&(g?um(l=gm(l),g,p):s=p),(c=null!=s?o.add(l,s):o.add(l))._hookCtx=f,n<i-1&&(c.onerror=u,f.onsuccess&&(c.onsuccess=h))}}),(function(e){throw f.onerror&&f.onerror(e),e})),c.onerror=N(d,l,!0),c.onsuccess=dv(l)}else{u=N(d);for(var m=0,y=e.length;m<y;++m)(c=t?o.add(e[m],t[m]):o.add(e[m])).onerror=u;c.onerror=N(d,l),c.onsuccess=fv(l)}}))},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore(x,(function(r,i,s,o){var a={onsuccess:null,onerror:null};if(n!==Fm){var l=null!=t?t:s.keyPath?cm(e,s.keyPath):void 0,c=n.call(a,l,e,o);null==l&&null!=c&&(s.keyPath?um(e,s.keyPath,c):t=c)}try{var u=null!=t?s.add(e,t):s.add(e);u._hookCtx=a,u.onerror=gv(i),u.onsuccess=dv((function(t){var n=s.keyPath;n&&um(e,n,t),r(t)}))}catch(h){throw a.onerror&&a.onerror(h),h}}))},put:function(e,t){var n=this;if(this.hook.creating.fire!==Fm||this.hook.updating.fire!==Fm){var r=this.schema.primKey.keyPath,i=void 0!==t?t:r&&cm(e,r);return null==i?this.add(e):(e=gm(e),this._trans(x,(function(){return n.where(":id").equals(i).modify((function(){this.value=e})).then((function(r){return 0===r?n.add(e,t):i}))}),"locked"))}return this._idbstore(x,(function(n,r,i){var s=void 0!==t?i.put(e,t):i.put(e);s.onerror=pv(r),s.onsuccess=Py((function(t){var r=i.keyPath;r&&um(e,r,t.target.result),n(s.result)}))}))},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(x,(function(t,n,r){var i=r.delete(e);i.onerror=pv(n),i.onsuccess=Py((function(){t(i.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(x,(function(e,t,n){var r=n.clear();r.onerror=pv(t),r.onsuccess=Py((function(){e(r.result)}))}))},update:function(e,t){if("object"!=typeof t||zg(t))throw new Dm.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||zg(e))return this.where(":id").equals(e).modify(t);qg(t).forEach((function(n){um(e,n,t[n])}));var n=cm(e,this.schema.primKey.keyPath);return void 0===n?Jy(new Dm.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)}}),Jg(D.prototype,{_lock:function(){return sm(!fy.global),++this._reculock,1!==this._reculock||fy.global||(fy.lockOwnerFor=this),this},_unlock:function(){if(sm(!fy.global),0==--this._reculock)for(fy.global||(fy.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Wy(e[1],e[0])}catch(t){}}return this},_locked:function(){return this._reculock&&fy.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(sm(!this.idbtrans),!e&&!y)switch(v&&v.name){case"DatabaseClosedError":throw new Dm.DatabaseClosed(v);case"MissingAPIError":throw new Dm.MissingAPI(v.message,v);default:throw new Dm.OpenFailed(v)}if(!this.active)throw new Dm.TransactionInactive;return sm(null===this._completion._state),(e=this.idbtrans=e||y.transaction(wv(this.storeNames),this.mode)).onerror=Py((function(n){mv(n),t._reject(e.error)})),e.onabort=Py((function(n){mv(n),t.active&&t._reject(new Dm.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=Py((function(){t.active=!1,t._resolve()})),this},_promise:function(e,t,n){var r=this;if(e===x&&this.mode!==x)return Jy(new Dm.ReadOnly("Transaction is readonly"));if(!this.active)return Jy(new Dm.TransactionInactive);if(this._locked())return new vy((function(i,s){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,s)},fy])}));if(n)return Fy((function(){var e=new vy((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new vy((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=vy.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return e}));else{t._waitingFor=e,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var r=t._waitingFor;return new vy((function(n,i){e.then((function(e){return t._waitingQueue.push(Py(n.bind(null,e)))}),(function(e){return t._waitingQueue.push(Py(i.bind(null,e)))})).finally((function(){t._waitingFor===r&&(t._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new Dm.Abort),this.active=!1},tables:{get:(s="Transaction.tables",o=function(){return m},function(){return console.warn(s+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+Sm(km(),1)),o.apply(this,arguments)})},table:function(e){return new R(e,C.table(e).schema,this)}}),Jg(V.prototype,(function(){function e(e,t,n){var r=e instanceof V?new j(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function t(e){return new j(e,(function(){return d.only("")})).limit(0)}function n(e,t,n,r,i,s){for(var o=Math.min(e.length,r.length),a=-1,l=0;l<o;++l){var c=t[l];if(c!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[l],c)<0&&(a=l)}return o<r.length&&"next"===s?e+n.substr(e.length):o<e.length&&"prev"===s?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function r(t,r,i,s){var o,a,l,c,u,h,p,f=i.length;if(!i.every((function(e){return"string"==typeof e})))return e(t,iv);function g(e){o=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),a=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),l="next"===e?W:K;var t=i.map((function(e){return{lower:a(e),upper:o(e)}})).sort((function(e,t){return l(e.lower,t.lower)}));c=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),h=e,p="next"===e?"":s}g("next");var m=new j(t,(function(){return d.bound(c[0],u[f-1]+s)}));m._ondirectionchange=function(e){g(e)};var y=0;return m._addAlgorithm((function(e,t,i){var s=e.key;if("string"!=typeof s)return!1;var o=a(s);if(r(o,u,y))return!0;for(var d=null,g=y;g<f;++g){var m=n(s,o,c[g],u[g],l,h);null===m&&null===d?y=g+1:(null===d||l(d,m)>0)&&(d=m)}return t(null!==d?function(){e.continue(d+p)}:i),!1})),m}return{between:function(n,r,i,s){i=!1!==i,s=!0===s;try{return H(n,r)>0||0===H(n,r)&&(i||s)&&(!i||!s)?t(this):new j(this,(function(){return d.bound(n,r,!i,!s)}))}catch(o){return e(this,rv)}},equals:function(e){return new j(this,(function(){return d.only(e)}))},above:function(e){return new j(this,(function(){return d.lowerBound(e,!0)}))},aboveOrEqual:function(e){return new j(this,(function(){return d.lowerBound(e)}))},below:function(e){return new j(this,(function(){return d.upperBound(e,!0)}))},belowOrEqual:function(e){return new j(this,(function(){return d.upperBound(e)}))},startsWith:function(t){return"string"!=typeof t?e(this,iv):this.between(t,t+ev,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):r(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],ev)},equalsIgnoreCase:function(e){return r(this,(function(e,t){return e===t[0]}),[e],"")},anyOfIgnoreCase:function(){var e=wm.apply(bm,arguments);return 0===e.length?t(this):r(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},startsWithAnyOfIgnoreCase:function(){var e=wm.apply(bm,arguments);return 0===e.length?t(this):r(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,ev)},anyOf:function(){var n=wm.apply(bm,arguments),r=q;try{n.sort(r)}catch(o){return e(this,rv)}if(0===n.length)return t(this);var i=new j(this,(function(){return d.bound(n[0],n[n.length-1])}));i._ondirectionchange=function(e){n.sort(r="next"===e?q:z)};var s=0;return i._addAlgorithm((function(e,t,i){for(var o=e.key;r(o,n[s])>0;)if(++s===n.length)return t(i),!1;return 0===r(o,n[s])||(t((function(){e.continue(n[s])})),!1)})),i},notEqual:function(e){return this.inAnyRange([[nv,e],[e,tv]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=wm.apply(bm,arguments);if(0===t.length)return new j(this);try{t.sort(q)}catch(r){return e(this,rv)}var n=t.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[nv,t]]}),null);return n.push([t[t.length-1],tv]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){if(0===n.length)return t(this);if(!n.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&q(e[0],e[1])<=0})))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Dm.InvalidArgument);var i,s=!r||!1!==r.includeLowers,o=r&&!0===r.includeUppers,a=q;function l(e,t){return a(e[0],t[0])}try{(i=n.reduce((function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(H(t[0],i[1])<0&&H(t[1],i[0])>0){i[0]=H(s=i[0],o=t[0])<0?s:o,i[1]=$(i[1],t[1]);break}}var s,o;return n===r&&e.push(t),e}),[])).sort(l)}catch(g){return e(this,rv)}var c=0,u=o?function(e){return q(e,i[c][1])>0}:function(e){return q(e,i[c][1])>=0},h=s?function(e){return z(e,i[c][0])>0}:function(e){return z(e,i[c][0])>=0},p=u,f=new j(this,(function(){return d.bound(i[0][0],i[i.length-1][1],!s,!o)}));return f._ondirectionchange=function(e){"next"===e?(p=u,a=q):(p=h,a=z),i.sort(l)},f._addAlgorithm((function(e,t,n){for(var r=e.key;p(r);)if(++c===i.length)return t(n),!1;return!!function(e){return!u(e)&&!h(e)}(r)||0!==H(r,i[c][1])&&0!==H(r,i[c][0])&&(t((function(){e.continue(a===q?i[c][0]:i[c][1])})),!1)})),f},startsWithAnyOf:function(){var n=wm.apply(bm,arguments);return n.every((function(e){return"string"==typeof e}))?0===n.length?t(this):this.inAnyRange(n.map((function(e){return[e,e+ev]}))):e(this,"startsWithAnyOf() only works with strings")}}})),Jg(j.prototype,(function(){function e(e,t){e.filter=Q(e.filter,t)}function t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Q(r(),t())}:t,e.justLimit=n&&!r}function n(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new Dm.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function r(e,t){var r=n(e,t);return e.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(e.range||null,e.dir+e.unique):r.openCursor(e.range||null,e.dir+e.unique)}function s(e,t,n,i,s){var o=e.replayFilter?Q(e.filter,e.replayFilter()):e.filter;e.or?function(){var a={},l=0;function c(){2==++l&&n()}function u(e,n,r){if(!o||o(n,r,c,i)){var s=n.primaryKey,l=""+s;"[object ArrayBuffer]"===l&&(l=""+new Uint8Array(s)),Zg(a,l)||(a[l]=!0,t(e,n,r))}}e.or._iterate(u,c,i,s),B(r(e,s),e.algorithm,u,c,i,!e.keysOnly&&e.valueMapper)}():B(r(e,s),Q(e.algorithm,o),t,n,i,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Jy.bind(null,n.error)):n.table._idbstore("readonly",e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,Jy.bind(null,t.error)):t.table._idbstore(x,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=Q(t.algorithm,e)},_iterate:function(e,t,n,r){return s(this._ctx,e,t,n,r)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&Kg(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read((function(n,r,i){s(t,e,n,r,i)}))},count:function(e){var t=this._ctx;if(F(t,!0))return this._read((function(e,r,i){var s=n(t,i),o=t.range?s.count(t.range):s.count();o.onerror=pv(r),o.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}}),e);var r=0;return this._read((function(e,n,i){s(t,(function(){return++r,!1}),(function(){e(r)}),n,i)}),e)},sortBy:function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function s(e,t){return t?s(e[n[t]],t-1):e[r]}var o="next"===this._ctx.dir?1:-1;function a(e,t){var n=s(e,i),r=s(t,i);return n<r?-o:n>r?o:0}return this.toArray((function(e){return e.sort(a)})).then(t)},toArray:function(e){var t=this._ctx;return this._read((function(e,r,o){if(i&&"next"===t.dir&&F(t,!0)&&t.limit>0){var a=t.table.hook.reading.fire,l=n(t,o),c=t.limit<1/0?l.getAll(t.range,t.limit):l.getAll(t.range);c.onerror=pv(r),c.onsuccess=fv(a===Um?e:function(t){try{e(t.map(a))}catch(n){r(n)}})}else{var u=[];s(t,(function(e){u.push(e)}),(function(){e(u)}),r,o)}}),e)},offset:function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,F(n)?t(n,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):t(n,(function(){var t=e;return function(){return--t<0}})),this)},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},until:function(t,n){return e(this._ctx,(function(e,r,i){return!t(e.value)||(r(i),n)})),this},first:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return e(this._ctx,(function(e){return t(e.value)})),function(e,t){e.isMatch=Q(e.isMatch,t)}(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new V(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},primaryKeys:function(e){var t=this._ctx;if(i&&"next"===t.dir&&F(t,!0)&&t.limit>0)return this._read((function(e,r,i){var s=n(t,i),o=t.limit<1/0?s.getAllKeys(t.range,t.limit):s.getAllKeys(t.range);o.onerror=pv(r),o.onsuccess=fv(e)})).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return e(this._ctx,(function(e){var t=e.primaryKey.toString(),n=Zg(r,t);return r[t]=!0,!n})),this},modify:function(e){var t=this,n=this._ctx.table.hook,r=n.updating.fire,i=n.deleting.fire;return this._write((function(n,s,o,a){var l;if("function"==typeof e)l=r===Fm&&i===Fm?e:function(t){var n=gm(t);if(!1===e.call(this,t,this))return!1;if(Zg(this,"value")){var s=mm(n,this.value),o=r.call(this,s,this.primKey,n,a);o&&(t=this.value,qg(o).forEach((function(e){um(t,e,o[e])})))}else i.call(this,this.primKey,t,a)};else if(r===Fm){var c=qg(e),u=c.length;l=function(t){for(var n=!1,r=0;r<u;++r){var i=c[r],s=e[i];cm(t,i)!==s&&(um(t,i,s),n=!0)}return n}}else{var h=e;e=hm(h),l=function(t){var n=!1,i=r.call(this,e,this.primKey,gm(t),a);return i&&Kg(e,i),qg(e).forEach((function(r){var i=e[r];cm(t,r)!==i&&(um(t,r,i),n=!0)})),i&&(e=hm(h)),n}}var d=0,p=0,f=!1,g=[],m=[],y=null;function v(e){return e&&(g.push(e),m.push(y)),s(new Pm("Error modifying one or more objects",g,p,m))}function b(){f&&p+g.length===d&&(g.length>0?v():n(p))}t.clone().raw()._iterate((function(e,t){y=t.primaryKey;var n={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function r(e){return g.push(e),m.push(n.primKey),b(),!0}if(!1!==l.call(n,e,n)){var i=!Zg(n,"value");++d,lm((function(){var e=i?t.delete():t.update(n.value);e._hookCtx=n,e.onerror=gv(r),e.onsuccess=dv((function(){++p,b()}))}),r)}else n.onsuccess&&n.onsuccess(n.value)}),(function(){f=!0,b()}),v,o)}))},delete:function(){var e=this,t=this._ctx,n=t.range,r=t.table.hook.deleting.fire,i=r!==Fm;if(!i&&F(t)&&(t.isPrimKey&&!lv||!n))return this._write((function(e,t,r){var i=pv(t),s=n?r.count(n):r.count();s.onerror=i,s.onsuccess=function(){var o=s.result;lm((function(){var t=n?r.delete(n):r.clear();t.onerror=i,t.onsuccess=function(){return e(o)}}),(function(e){return t(e)}))}}));var s=i?2e3:1e4;return this._write((function(n,o,a,l){var c=0,u=e.clone({keysOnly:!t.isMatch&&!i}).distinct().limit(s).raw(),h=[],d=function(){return u.each(i?function(e,t){h.push([t.primaryKey,t.value])}:function(e,t){h.push(t.primaryKey)}).then((function(){return h.sort(i?function(e,t){return q(e[0],t[0])}:q),M(a,l,h,i,r)})).then((function(){var e=h.length;return c+=e,h=[],e<s?c:d()}))};n(d())}))}}})),Kg(this,{Collection:j,Table:R,Transaction:D,Version:O,WhereClause:V}),C.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+C.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+C.name+"'. Closing db now to resume the delete request."),C.close()})),C.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+C.name+"') was blocked"):console.warn("Upgrade '"+C.name+"' blocked by other connection holding version "+e.oldVersion/10)})),c.forEach((function(e){e(C)}))}function hv(e,t){return qg(t).forEach((function(n){var r=function e(t){if("function"==typeof t)return new t;if(zg(t))return[e(t[0])];if(t&&"object"==typeof t){var n={};return hv(n,t),n}return t}(t[n]);e[n]=r})),e}function dv(e){return Py((function(t){var n=t.target,r=n._hookCtx,i=r.value||n.result,s=r&&r.onsuccess;s&&s(i),e&&e(i)}),e)}function pv(e){return Py((function(t){return mv(t),e(t.target.error),!1}))}function fv(e){return Py((function(t){e(t.target.result)}))}function gv(e){return Py((function(t){var n=t.target,r=n.error,i=n._hookCtx,s=i&&i.onerror;return s&&s(r),mv(t),e(r),!1}))}function mv(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function yv(e){var t=function(t){return e.next(t)},n=i(t),r=i((function(t){return e.throw(t)}));function i(e){return function(t){var i=e(t),s=i.value;return i.done?s:s&&"function"==typeof s.then?s.then(n,r):zg(s)?vy.all(s).then(n,r):n(s)}}return i(t)()}function vv(e,t,n,r,i,s,o){this.name=e,this.keyPath=t,this.unique=n,this.multi=r,this.auto=i,this.compound=s,this.dotted=o;var a="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(i?"++":"")+a}function bv(e,t,n,r){this.name=e,this.primKey=t||new vv,this.indexes=n||[new vv],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=am(n,(function(e){return[e.name,e]}))}function wv(e){return 1===e.length?e[0]:e}function _v(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}xm(_m,cv),Jg(uv,jm),Jg(uv,{delete:function(e){var t=new uv(e),n=t.delete();return n.onblocked=function(e){return t.on("blocked",e),this},n},exists:function(e){return new uv(e).open().then((function(e){return e.close(),!0})).catch(uv.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(e){var t=_v(uv.dependencies.indexedDB);return t?new vy((function(e,n){var r=t();r.onsuccess=function(t){e(rm(t.target.result,0))},r.onerror=pv(n)})).then(e):Xy.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&Kg(this,e)}},applyStructure:hv,ignoreTransaction:function(e){return fy.trans?Wy(fy.transless,e):e()},vip:function(e){return Fy((function(){return fy.letThrough=!0,e()}))},async:function(e){return function(){try{var t=yv(e.apply(this,arguments));return t&&"function"==typeof t.then?t:vy.resolve(t)}catch(n){return Jy(n)}}},spawn:function(e,t,n){try{var r=yv(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:vy.resolve(r)}catch(i){return Jy(i)}},currentTransaction:{get:function(){return fy.trans||null}},waitFor:function(e,t){var n=vy.resolve("function"==typeof e?uv.ignoreTransaction(e):e).timeout(t||6e4);return fy.trans?fy.trans.waitFor(n):n},Promise:vy,debug:{get:function(){return _m},set:function(e){xm(e,"dexie"===e?function(){return!0}:cv)}},derive:em,extend:Kg,props:Jg,override:im,Events:Yy,getByKeyPath:cm,setByKeyPath:um,delByKeyPath:function(e,t){"string"==typeof t?um(e,t,void 0):"length"in t&&[].map.call(t,(function(t){um(e,t,void 0)}))},shallowClone:hm,deepClone:gm,getObjectDiff:mm,asap:om,maxKey:tv,minKey:nv,addons:[],connections:sv,MultiModifyError:Dm.Modify,errnames:Nm,IndexSpec:vv,TableSchema:bv,dependencies:function(){try{return{indexedDB:Wg.indexedDB||Wg.mozIndexedDB||Wg.webkitIndexedDB||Wg.msIndexedDB,IDBKeyRange:Wg.IDBKeyRange||Wg.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:uv,Dexie:uv}),vy.rejectionMapper=function(e,t){if(!e||e instanceof Am||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Vm[e.name])return e;var n=new Vm[e.name](t||e.message,e);return"stack"in e&&Xg(n,"stack",{get:function(){return this.inner.stack}}),n},(Xy=new uv("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==Wg.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach((function(e){return Xy.dbnames.put({name:e}).catch(Fm)})),localStorage.removeItem("Dexie.DatabaseNames"))}catch(e){}}();var xv=uv;class Cv{constructor(e,t,n,r){this.title=e,this.text=n,r&&(this.id=r)}}let Ev=(()=>{class e extends xv{constructor(){super("NotesDBService");let e=this;console.log("note-db-service constructor running"),e.version(1).stores({topics:"id++, title",notes:"id++, topicId, title, text"}),e.open(),e.notes.add({id:1,topicId:1,title:"test note 1",text:"Testitest"}),e.notes.add({id:2,topicId:1,title:"test note 2",text:"Testitest"}),e.notes.add({id:3,topicId:1,title:"test note 3",text:"Testitest"}),e.topics.add({id:1,title:"Topic 1"}),e.topics.add({id:2,title:"Topic 2"}),this.topics=this.table("topics"),this.notes=this.table("notes"),e.topics.mapToClass($g),e.notes.mapToClass(Cv)}}return e.ngInjectableDef=me({factory:function(){return new e},token:e,providedIn:"root"}),e})();function kv(){}function Sv(e,t){return e===kv?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){var r=this,i=arguments;return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}function Tv(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:7&n|8).toString(16)}))}var Ov=1,Iv=2,Av=3,Pv=xv.Promise;function Rv(e){return function(t,n){t._changes="++rev",t._syncNodes="++id,myRevision,lastHeartBeat,&url,isMaster,type,status",t._intercomm="++id,destinationNode",t._uncommittedChanges="++id,node",e.call(this,t,n),Object.keys(n).forEach((function(e){var t=n[e];0===t.primKey.name.indexOf("$$")&&(t.primKey.uuid=!0,t.primKey.name=t.primKey.name.substr(2),t.primKey.keyPath=t.primKey.keyPath.substr(2))})),Object.keys(n).forEach((function(e){0!==e.indexOf("_")&&0!==e.indexOf("$")&&(n[e].observable=!0)}))}}var Nv,Mv=self,Dv=xv.defineClass({rev:Number,source:String,table:String,key:Object,type:Number,obj:Object,mods:Object,oldObj:Object}),Vv=xv.override,jv=xv.Promise,Fv=!1;function Uv(e){var t=2e4,n=2e4,r=500,i=t-5e3,s=Uv.localStorageImpl,o=xv.defineClass({myRevision:Number,type:String,lastHeartBeat:Number,deleteTimeStamp:Number,url:String,isMaster:Number,syncProtocol:String,syncContext:null,syncOptions:Object,connected:!1,status:Number,appliedRemoteRevision:null,remoteBaseRevisions:[{local:Number,remote:null}],dbUploadState:{tablesToUpload:[String],currentTable:String,currentKey:null,localBaseRevision:Number}});e.observable={},e.observable.SyncNode=o;var a=function(e,t,n){return function(r){t.latestRevision[e.name]<r&&(t.latestRevision[e.name]=r,xv.ignoreTransaction((function(){t.on("latestRevisionIncremented").fire(e.name,r)})),n&&n.setItem("Dexie.Observable/latestRevision/"+e.name,r))}}(e,Uv,s),l=function(e,t){return function(n){return function(r,i,s,o){if(e.dynamicallyOpened())return n.apply(this,arguments);var a=!1;"readwrite"===r&&i.some((function(e){return s[e]&&s[e].observable}))&&(a=!0,-1===(i=i.slice(0)).indexOf("_changes")&&i.push("_changes"));var l=n.call(this,r,i,s,o);return a&&(l._lastWrittenRevision=0,l.on("complete",(function(){if(l._lastWrittenRevision)if(o){var e=function e(t){return t.parent?e(t.parent):t}(o);e._lastWrittenRevision=Math.max(l._lastWrittenRevision,e.lastWrittenRevision||0)}else t.timeoutHandle&&clearTimeout(t.timeoutHandle),t.timeoutHandle=setTimeout((function(){delete t.timeoutHandle,t(l._lastWrittenRevision)}),25)})),l.parent&&l.parent.source&&(l.source=l.parent.source)),l}}}(e,a),c=function(e){return function(t){if(!t.hook._observing){t.hook._observing=!0;var n=t.name;t.hook("creating").subscribe(function(e,t){return function(n,r,i){var s=void 0;void 0===n&&t.schema.primKey.uuid&&(n=s=Tv(),t.schema.primKey.keyPath&&xv.setByKeyPath(r,t.schema.primKey.keyPath,n));var o={source:i.source||null,table:t.name,key:void 0===n?null:n,type:Ov,obj:r},a=e._changes.add(o).then((function(e){return i._lastWrittenRevision=Math.max(i._lastWrittenRevision,e),e}));return this.onsuccess=function(t){n!=t&&a._then((function(){o.key=t,e._changes.put(o)}))},this.onerror=function(){a._then((function(t){e._changes.delete(t)}))},s}}(e,t)),t.hook("updating").subscribe(function(e,t){return function(n,r,i,s){var o={},a=!1,l=xv.deepClone(i);for(var c in n){var u=n[c];if(void 0===u)xv.delByKeyPath(l,c),o[c]=null,a=!0;else{var h=xv.getByKeyPath(i,c);u!==h&&JSON.stringify(u)!==JSON.stringify(h)&&(xv.setByKeyPath(l,c,u),o[c]=u,a=!0)}}if(a){var d=e._changes.add({source:s.source||null,table:t,key:r,type:Iv,mods:o,oldObj:i,obj:l});this.onsuccess=function(){d._then((function(e){s._lastWrittenRevision=Math.max(s._lastWrittenRevision,e)}))},this.onerror=function(){d._then((function(t){e._changes.delete(t)}))}}}}(e,n)),t.hook("deleting").subscribe(function(e,t){return function(n,r,i){var s=e._changes.add({source:i.source||null,table:t,key:n,type:Av,oldObj:r}).then((function(e){return i._lastWrittenRevision=Math.max(i._lastWrittenRevision,e),e})).catch((function(e){console.log(r),console.log(e.stack)}));this.onerror=function(){s._then((function(t){e._changes.delete(t)}))}}}(e,n))}}}(e),u=function(e,t,n){return function(r){return function(){return Object.keys(e._allTables).forEach((function(r){var i=e._allTables[r];i.schema.observable&&n(i),"_syncNodes"===i.name&&i.mapToClass(t)})),r.apply(this,arguments)}}}(e,o,c),h={node:null},d=function(e,t,n,r,i){var s={};function o(){return r.node?xv.ignoreTransaction((function(){return e.transaction("rw","_intercomm",(function(){return e._intercomm.where({destinationNode:r.node.id}).toArray((function(t){return t.forEach((function(t){return function(t){if("response"===t.type){var n=s[t.requestId.toString()];n&&(t.isFailure?n.reject(t.message.error):n.resolve(t.message.result),delete s[t.requestId.toString()])}else t.resolve=function(n){e.observable.sendMessage("response",{result:n},t.sender,{requestId:t.id})},t.reject=function(n){e.observable.sendMessage("response",{error:n.toString()},t.sender,{isFailure:!0,requestId:t.id})},e.on.message.fire(t)}(t)})),e._intercomm.where("id").anyOf(t.map((function(e){return e.id}))).delete()}))}))})):Pv.reject(new xv.DatabaseClosedError)}return e.observable.sendMessage=function(n,o,a,l){if(l=l||{},!r.node)return l.wantReply?Pv.reject(new xv.DatabaseClosedError):Pv.resolve();var c={message:o,destinationNode:a,sender:r.node.id,type:n};return xv.extend(c,l),xv.ignoreTransaction((function(){var n=["_intercomm"];l.wantReply&&n.push("_syncNodes");var r=e.transaction("rw",n,(function(){return l.wantReply?e._syncNodes.where("id").equals(a).count((function(t){return t?e._intercomm.add(c):e._syncNodes.where("isMaster").above(0).first((function(t){return c.destinationNode=t.id,e._intercomm.add(c)}))})):e._intercomm.add(c)})).then((function(n){var r=null;return l.wantReply&&(r=new Pv((function(e,t){s[n.toString()]={resolve:e,reject:t}}))),i&&i.setItem("Dexie.Observable/intercomm/"+e.name,n.toString()),t.on.intercomm.fire(e.name),r}));return l.wantReply?r:void r.catch((function(){}))}))},e.observable.broadcastMessage=function(t,n,i){if(r.node){var s=r.node.id;xv.ignoreTransaction((function(){e._syncNodes.toArray((function(r){return Pv.all(r.filter((function(e){return"local"===e.type&&(i||e.id!==s)})).map((function(r){return e.observable.sendMessage(t,n,r.id)})))})).catch((function(){}))}))}},{onIntercomm:function(t){t===e.name&&o().catch("DatabaseClosedError",(function(){}))},consumeIntercommMessages:o}}(e,Uv,0,h,s),p=d.onIntercomm,f=d.consumeIntercommMessages;Object.defineProperty(e,"_localSyncNode",{get:function(){return h.node}});var g=null,m=null;xv.fake&&(e.version(1).stores({_syncNodes:"++id,myRevision,lastHeartBeat",_changes:"++rev",_intercomm:"++id,destinationNode",_uncommittedChanges:"++id,node"}),e._syncNodes.mapToClass(o),e._changes.mapToClass(Dv),h.node=new o({myRevision:0,type:"local",lastHeartBeat:Date.now(),deleteTimeStamp:null})),e.Version.prototype._parseStoresSpec=Vv(e.Version.prototype._parseStoresSpec,Rv),e.on.addEventType({changes:"asap",cleanup:[Sv,kv],message:"asap"}),e._createTransaction=Vv(e._createTransaction,l),Uv.latestRevision[e.name]=Uv.latestRevision[e.name]||0,e.open=Vv(e.open,u),e.close=Vv(e.close,(function(t){return function(){return e.dynamicallyOpened()?t.apply(this,arguments):(a.timeoutHandle&&(clearTimeout(a.timeoutHandle),delete a.timeoutHandle),Uv.on("latestRevisionIncremented").unsubscribe(v),Uv.on("suicideNurseCall").unsubscribe(E),Uv.on("intercomm").unsubscribe(p),Uv.on("beforeunload").unsubscribe(C),h.node&&h.node.id&&(Uv.on.suicideNurseCall.fire(e.name,h.node.id),s&&s.setItem("Dexie.Observable/deadnode:"+h.node.id.toString()+"/"+e.name,"dead"),h.node.deleteTimeStamp=1,h.node.lastHeartBeat=0,e._syncNodes.put(h.node),h.node=null),g&&clearTimeout(g),g=null,m&&clearTimeout(m),m=null,t.apply(this,arguments))}})),e.delete=Vv(e.delete,(function(t){return function(){return t.apply(this,arguments).then((function(t){return Uv.latestRevision[e.name]=0,t}))}})),e.on("ready",(function(){return e.dynamicallyOpened()?e:e.table("_changes").orderBy("rev").last((function(n){var s=n?n.rev:0;return h.node=new o({myRevision:s,type:"local",lastHeartBeat:Date.now(),deleteTimeStamp:null,isMaster:0}),Uv.latestRevision[e.name]<s&&(Uv.latestRevision[e.name]=s,xv.ignoreTransaction((function(){Uv.on.latestRevisionIncremented.fire(s)}))),e.transaction("rw","_syncNodes",(function(){return e._syncNodes.where("isMaster").equals(1).first((function(n){if(n){if(n.lastHeartBeat<Date.now()-t)return h.node.isMaster=1,n.isMaster=0,e._syncNodes.put(n)}else h.node.isMaster=1})).then((function(){return e._syncNodes.add(h.node).then((function(){Uv.on("latestRevisionIncremented",v),Uv.on("beforeunload",C),Uv.on("suicideNurseCall",E),Uv.on("intercomm",p),g=setTimeout(_,r),m=setTimeout(w,i)}))}))})).then((function(){x()}))}))}),!0);var y=0;function v(t,n){if(t===e.name){if(y>=n)return;y=n,xv.vip((function(){b().catch("DatabaseClosedError",(function(){}))}))}}function b(t,n,r){if(!n&&b.ongoingOperation)return b.ongoingOperation;var i=!1,s=h.node;if(!s)return jv.reject(new xv.DatabaseClosedError);var o=e._changes.where("rev").above(s.myRevision).limit(1e3).toArray((function(t){if(t.length>0){var n=t[t.length-1];i=1e3===t.length,e.on("changes").fire(t,i),s.myRevision=n.rev}else r&&e.on("changes").fire([],!1);var o=!1;return e._syncNodes.where(":id").equals(s.id).modify((function(e){o=!0,e.lastHeartBeat=Date.now(),e.deleteTimeStamp=null,e.myRevision=Math.max(e.myRevision,s.myRevision)})).then((function(){return o}))})).then((function(t){if(!t)throw Fv?new Error("Browser is shutting down"):(e.close(),console.error("Out of sync"),Mv.location&&Mv.location.reload(!0),new Error("Out of sync"));if(i||Uv.latestRevision[e.name]>s.myRevision)return b(0,(n||0)+1,i)})).finally((function(){delete b.ongoingOperation}));return n||(b.ongoingOperation=o),o}function w(){m=null;var t=h.node&&h.node.id;t&&e.transaction("rw!",e._syncNodes,(function(){e._syncNodes.where({id:t}).first((function(t){if(t)return t.lastHeartBeat=Date.now(),t.deleteTimeStamp=null,e._syncNodes.put(t);e.isOpen()&&e.close()}))})).catch("DatabaseClosedError",(function(){})).finally((function(){h.node&&h.node.id===t&&e.isOpen()&&(m=setTimeout(w,i))}))}function _(){g=null;var t=h.node&&h.node.id;t&&xv.vip((function(){b().then(x).then(f).catch("DatabaseClosedError",(function(){})).finally((function(){h.node&&h.node.id===t&&e.isOpen()&&(g=setTimeout(_,r))}))}))}function x(){var r=h.node;return r?e.transaction("rw","_syncNodes","_changes","_intercomm",(function(){var i=!1;e._syncNodes.where("lastHeartBeat").below(Date.now()-t).filter((function(e){return"local"===e.type})).modify((function(t){t.deleteTimeStamp&&t.deleteTimeStamp<Date.now()?(delete this.value,s&&s.removeItem("Dexie.Observable/deadnode:"+t.id+"/"+e.name),t.isMaster&&(e._syncNodes.update(r,{isMaster:1}),i=!0),e._intercomm.where({destinationNode:t.id}).modify((function(e){e.wantReply?e.destinationNode=r.id:delete this.value}))):t.deleteTimeStamp||(t.deleteTimeStamp=Date.now()+n)})).then((function(){return Uv.deleteOldChanges(e),e.on("cleanup").fire(i)}))})):jv.reject(new xv.DatabaseClosedError)}function C(){h.node&&(Fv=!0,h.node.deleteTimeStamp=1,h.node.lastHeartBeat=0,e._syncNodes.put(h.node),Uv.wereTheOneDying=!0,s&&s.setItem("Dexie.Observable/deadnode:"+h.node.id.toString()+"/"+e.name,"dead"))}function E(t,n){t!==e.name||Uv.wereTheOneDying||xv.vip((function(){e._syncNodes.update(n,{deleteTimeStamp:1,lastHeartBeat:0}).then(x)}))}}Uv.latestRevision={},Uv.on=xv.Events(null,"latestRevisionIncremented","suicideNurseCall","intercomm","beforeunload"),Uv.createUUID=Tv,Uv.deleteOldChanges=function e(t){xv.ignoreTransaction((function(){return t._syncNodes.orderBy("myRevision").first((function(e){return t._changes.where("rev").below(e.myRevision).limit(100).primaryKeys()})).then((function(n){if(0!==n.length)return t._changes.bulkDelete(n).then((function(){100===n.length&&setTimeout((function(){return t.isOpen()&&e(t)}),500)}))}))})).catch((function(){}))},Uv._onStorage=(Nv=Uv,function(e){if(e.key&&0===e.key.indexOf("Dexie.Observable/")){var t=e.key.split("/"),n=t[1],r=t[2];if("latestRevision"===n){var i=parseInt(e.newValue,10);!isNaN(i)&&i>Nv.latestRevision[r]&&(Nv.latestRevision[r]=i,xv.ignoreTransaction((function(){Nv.on("latestRevisionIncremented").fire(r,i)})))}else if(0===n.indexOf("deadnode:")){var s=parseInt(n.split(":")[1],10);e.newValue&&Nv.on.suicideNurseCall.fire(r,s)}else"intercomm"===n&&e.newValue&&Nv.on.intercomm.fire(r)}}),Uv._onBeforeUnload=function(){Uv.on.beforeunload.fire()};try{Uv.localStorageImpl=Mv.localStorage}catch(n_){}Mv.addEventListener&&(Mv.addEventListener("storage",Uv._onStorage),Mv.addEventListener("beforeunload",Uv._onBeforeUnload)),xv.Observable=Uv,xv.addons.push(Uv);class Lv{}class Bv{}class Hv{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Hv?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Hv;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Hv?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;0===(e=e.filter(e=>-1===i.indexOf(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class $v{encodeKey(e){return qv(e)}encodeValue(e){return qv(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function qv(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class zv{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new $v,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new zv({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function Wv(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Kv(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Qv(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Gv{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Hv),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new zv,this.urlWithParams=t}serializeBody(){return null===this.body?null:Wv(this.body)||Kv(this.body)||Qv(this.body)||"string"==typeof this.body?this.body:this.body instanceof zv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:Qv(this.body)?null:Kv(this.body)?this.body.type||null:Wv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new Gv(t,n,i,{params:l,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const Zv=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class Jv{constructor(e,t=200,n="OK"){this.headers=e.headers||new Hv,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Yv extends Jv{constructor(e={}){super(e),this.type=Zv.ResponseHeader}clone(e={}){return new Yv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Xv extends Jv{constructor(e={}){super(e),this.type=Zv.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Xv({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eb extends Jv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function tb(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class nb{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof Gv)r=e;else{let i=void 0;i=n.headers instanceof Hv?n.headers:new Hv(n.headers);let s=void 0;n.params&&(s=n.params instanceof zv?n.params:new zv({fromObject:n.params})),r=new Gv(e,t,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=xl(r).pipe(cc(e=>this.handler.handle(e)));if(e instanceof Gv||"events"===n.observe)return i;const s=i.pipe(Rl(e=>e instanceof Xv));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(j(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe(j(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe(j(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe(j(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new zv).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,tb(n,t))}post(e,t,n={}){return this.request("POST",e,tb(n,t))}put(e,t,n={}){return this.request("PUT",e,tb(n,t))}}class rb{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const ib=new Oe("HTTP_INTERCEPTORS");class sb{intercept(e,t){return t.handle(e)}}const ob=/^\)\]\}',?\n/;class ab{}class lb{constructor(){}build(){return new XMLHttpRequest}}class cb{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Hv(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new Yv({headers:s,status:t,statusText:r,url:o})},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(ob,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=e,c&&(c=!1,l={error:u,text:l})}}c?(t.next(new Xv({body:l,headers:r,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new eb({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),i=new eb({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let l=!1;const c=r=>{l||(t.next(s()),l=!0);let i={type:Zv.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},u=e=>{let n={type:Zv.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),t.next({type:Zv.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),e.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}const ub=new Oe("XSRF_COOKIE_NAME"),hb=new Oe("XSRF_HEADER_NAME");class db{}class pb{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=rl(e,this.cookieName),this.lastCookieString=e),this.lastToken}}class fb{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}class gb{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(ib,[]);this.chain=e.reduceRight((e,t)=>new rb(e,t),this.backend)}return this.chain.handle(e)}}class mb{static disable(){return{ngModule:mb,providers:[{provide:fb,useClass:sb}]}}static withOptions(e={}){return{ngModule:mb,providers:[e.cookieName?{provide:ub,useValue:e.cookieName}:[],e.headerName?{provide:hb,useValue:e.headerName}:[]]}}}class yb{}let vb=(()=>{class e{constructor(e,t,n,r){this.http=e,this.noteDBService=t,this.route=n,this.router=r,this.updatedNotes=new k,this.notesTable=this.noteDBService.table("notes"),this.topicsTable=this.noteDBService.table("topics")}getInitialNotes(e){return this.notesTable.where("topicId").equals(e).toArray()}getAllNotes(e){let t=B(this.notesTable.where("topicId").equals(e).toArray()).subscribe(e=>{this.updatedNotes.next(e),console.log("changes triggered")});return this.noteDBService.on("changes",n=>{console.log("changes triggered"),t.unsubscribe(),t=B(this.notesTable.where("topicId").equals(e).toArray()).subscribe(e=>{this.updatedNotes.next(e),console.log("changes triggered")})}),console.log("noteservice performing getAllNotes on topicId: "+e),this.updatedNotes}getNote(e){return console.log("noteservice performing getNote on noteId: "+e),B(this.notesTable.get(e))}getAllTopics(){return B(this.topicsTable.toArray())}addNote(e){return this.notesTable.add(e)}addTopic(e){console.log("addTopic triggered");const t=new $g(e);return this.topicsTable.add(t)}updateNote(e,t){return""===t.title&&(t.title="Unlabeled Note"),this.notesTable.update(e,t)}removeNote(e){return this.notesTable.delete(e)}removeTopic(e){return Hg(this,void 0,void 0,(function*(){return yield this.deleteNotesByTopicId(e),this.topicsTable.delete(e)}))}deleteNotesByTopicId(e){return Hg(this,void 0,void 0,(function*(){return yield this.notesTable.where("topicId").equals(e).delete()}))}subscribeToCurrentNoteId(){this.route.paramMap.subscribe(e=>{this.$noteId=xl(+e.get("noteId"))})}getCurrentNote(){let e;return this.$noteId.subscribe(t=>{e=B(this.notesTable.get(t))}),e}getCurrentTopic(e){return console.log("getCurrentTopic triggered"),this.$topicId.pipe(nc(e=>(console.log("switchmap output id is"+e),B(this.topicsTable.get(e)))))}handleError(e="operation",t){return n=>(console.error(n),this.log(`${e} failed: ${n.message}`),xl(t))}log(e){console.log(`noteService: ${e}`)}}return e.ngInjectableDef=me({factory:function(){return new e(Be(nb),Be(Ev),Be(Fh),Be(Gd))},token:e,providedIn:"root"}),e})();class bb{constructor(e){this.noteService=e,this.topicFormOpen=!1,this.topicTextEmpty=!0,this.newTopicName=""}ngOnInit(){this.getTopicList()}getTopicList(){this.noteService.getAllTopics().subscribe(e=>this.topicsArray=e)}openNewTopicForm(){this.topicFormOpen=!0}createNewTopic(){this.noteService.addTopic(this.newTopicName).then(e=>console.log("topic with this id was added: "+e)),this.getTopicList()}closeNewTopicForm(){this.topicFormOpen=!1}isTopicTextEmpty(){this.topicTextEmpty=""==this.newTopicName}}var wb=br({encapsulation:0,styles:[['[_nghost-%COMP%]{padding:0 1.4rem;z-index:0;background-color:#313131;box-shadow:-2px 10px 9px 0 #1b1b1b,2px 10px 9px 0 #1b1b1b}ul[_ngcontent-%COMP%]{display:-webkit-box;display:flex}li[_ngcontent-%COMP%]{text-align:center;margin-right:.6rem}.active[_ngcontent-%COMP%]{color:#eee;background:#222;padding:.8rem 1rem 1.2rem;margin-bottom:0;border-radius:.6rem .6rem 0 0;box-shadow:inset 0 4px 3px 1px #1b1b1b}button[_ngcontent-%COMP%]{outline:0}input[_ngcontent-%COMP%]{background-color:#222;outline:0}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{padding:.8rem 1rem;margin:.4rem 0;border:none;border-radius:.6rem;color:#eee}.new-topic-btn[_ngcontent-%COMP%], .topic-creation-wrapper[_ngcontent-%COMP%]{margin-left:auto}.new-topic-btn[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .topic-creation-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:.6rem;white-space:nowrap}.closeComponentLink[_ngcontent-%COMP%], .topic-creation-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-weight:500;font-size:2.5rem;letter-spacing:0;line-height:1.33rem}.closeComponentLink[_ngcontent-%COMP%]{position:absolute;right:0;top:0;color:#4d4d4d;display:inline-block;padding:.83rem .734rem .9rem .86rem;border-radius:.6rem;letter-spacing:0;line-height:1.33rem}.closeComponentLink[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 0 .2rem #4d4d4d;color:#eee}.closeComponentLink[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.closeComponentLink[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::after{content:"+"}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{display:inline-block;text-decoration:none;background:0 0;cursor:pointer;text-align:center;white-space:nowrap;-webkit-transition:background-color .3s ease-in-out,background .3s ease-in-out,padding .3s ease-out,margin .3s ease-out,box-shadow .45s,-webkit-transform .3s;transition:background-color .3s ease-in-out,background .3s ease-in-out,padding .3s ease-out,margin .3s ease-out,box-shadow .45s ease,-webkit-transform .3s ease;transition:background-color .3s ease-in-out,background .3s ease-in-out,transform .3s ease,padding .3s ease-out,margin .3s ease-out,box-shadow .45s ease;transition:background-color .3s ease-in-out,background .3s ease-in-out,transform .3s ease,padding .3s ease-out,margin .3s ease-out,box-shadow .45s ease,-webkit-transform .3s ease;-webkit-appearance:none;-moz-appearance:none;border-radius:.6rem}a[_ngcontent-%COMP%]:not(.active), button[_ngcontent-%COMP%]:not(.active){position:relative}a[_ngcontent-%COMP%]:not(.active):hover, button[_ngcontent-%COMP%]:not(.active):hover{color:#fbf7f2;background:#222;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,#222),to(#313131));background:linear-gradient(to bottom,#222 30%,#313131 100%);box-shadow:inset 0 8px 3px -3px #1b1b1b}a[_ngcontent-%COMP%]:not(.active):active, button[_ngcontent-%COMP%]:not(.active):active{background:0 0;box-shadow:inset 0 4px 3px 1px #1b1b1b;position:relative}a[_ngcontent-%COMP%]:not(.active):hover::before, button[_ngcontent-%COMP%]:not(.active):hover::before{position:absolute;content:"";top:0;right:0;bottom:0;left:0;background:-webkit-gradient(linear,left top,left bottom,from(#222),to(#222));background:linear-gradient(to bottom,#222 0,#222 100%);box-shadow:inset 0 4px 3px 1px #1b1b1b;z-index:-1;-webkit-transition:opacity .3s,box-shadow .3s,background-color .3s;transition:opacity .3s ease,box-shadow .3s ease,background-color .3s ease;opacity:0;border-radius:.6rem}a[_ngcontent-%COMP%]:not(.active):active::before, button[_ngcontent-%COMP%]:not(.active):active::before{opacity:1}a[_ngcontent-%COMP%]:not(.active):hover:after, button[_ngcontent-%COMP%]:not(.active):hover:after{position:absolute;content:"";top:0;right:0;bottom:0;left:0;background:#222;background:-webkit-gradient(linear,left top,left bottom,color-stop(30%,#222),to(#313131));background:linear-gradient(to bottom,#222 30%,#313131 100%);box-shadow:inset 0 8px 3px -3px #1b1b1b;z-index:-5;border-radius:.6rem}.active[_ngcontent-%COMP%]{-webkit-transition:padding-bottom .3s;transition:padding-bottom .3s ease}']],data:{}});function _b(e){return Do(0,[(e()(),wo(0,0,null,null,6,"li",[["class","topics-list"]],null,null,null,null,null)),(e()(),wo(1,0,null,null,5,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==mi(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Ii(2,671744,[[2,4]],0,Jd,[Gd,Fh,Wa],{routerLink:[0,"routerLink"]},null),Ii(3,1720320,null,2,Xd,[Gd,In,Mn,[2,Zd],[2,Jd]],{routerLinkActive:[0,"routerLinkActive"]},null),ko(603979776,1,{links:1}),ko(603979776,2,{linksWithHrefs:1}),(e()(),Ro(6,null,["",""]))],(function(e,t){e(t,2,0,Wr(1,"/notes-manager/",t.context.$implicit.id,"")),e(t,3,0,"active")}),(function(e,t){e(t,1,0,mi(t,2).target,mi(t,2).href),e(t,6,0,t.context.$implicit.title)}))}function xb(e){return Do(0,[(e()(),wo(0,0,null,null,7,"button",[["class","new-topic-btn"],["fxFlex","0 1 auto"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openNewTopicForm()&&r),r}),null,null)),Ai(512,null,il,sl,[Qn,Gn,In,Mn]),Ii(2,278528,null,0,al,[il],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Po(3,{"hidden-list":0}),Ii(4,671744,null,0,Vf,[In,mf,Bp,Nf,wf],{fxFlex:[0,"fxFlex"]},null),Ii(5,933888,null,0,qf,[In,mf,wf,il,[6,al]],{ngClass:[0,"ngClass"],klass:[1,"klass"]},null),Po(6,{"hidden-list":0}),(e()(),Ro(-1,null,["New Topic"]))],(function(e,t){var n=t.component,r=e(t,3,0,n.componentHidden);e(t,2,0,"new-topic-btn",r),e(t,4,0,"0 1 auto");var i=e(t,6,0,n.componentHidden);e(t,5,0,i,"new-topic-btn")}),null)}function Cb(e){return Do(0,[(e()(),wo(0,0,null,null,2,"button",[["fxFlex","0 1 auto"]],null,[[null,"click"]],(function(e,t,n){var r=!0,i=e.component;return"click"===t&&(i.createNewTopic(),r=!1!==i.closeNewTopicForm()&&r),r}),null,null)),Ii(1,671744,null,0,Vf,[In,mf,Bp,Nf,wf],{fxFlex:[0,"fxFlex"]},null),(e()(),Ro(-1,null,["+"]))],(function(e,t){e(t,1,0,"0 1 auto")}),null)}function Eb(e){return Do(0,[(e()(),wo(0,0,null,null,13,"div",[["class","topic-creation-wrapper"],["fxFlex","0 1 auto"]],null,null,null,null,null)),Ii(1,671744,null,0,Vf,[In,mf,Bp,Nf,wf],{fxFlex:[0,"fxFlex"]},null),(e()(),wo(2,0,null,null,6,"input",[["fxFlex","0 1 auto"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==mi(e,4)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==mi(e,4).onTouched()&&r),"compositionstart"===t&&(r=!1!==mi(e,4)._compositionStart()&&r),"compositionend"===t&&(r=!1!==mi(e,4)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.newTopicName=n)&&r),"keyup"===t&&(r=!1!==i.isTopicTextEmpty()&&r),r}),null,null)),Ii(3,671744,null,0,Vf,[In,mf,Bp,Nf,wf],{fxFlex:[0,"fxFlex"]},null),Ii(4,16384,null,0,Gf,[Mn,In,[2,Qf]],null,null),Ai(1024,null,Kf,(function(e){return[e]}),[Gf]),Ii(6,671744,null,0,Fg,[[8,null],[8,null],[8,null],[6,Kf]],{model:[0,"model"]},{update:"ngModelChange"}),Ai(2048,null,Xf,null,[Fg]),Ii(8,16384,null,0,tg,[[4,Xf]],null,null),(e()(),bo(16777216,null,null,1,null,Cb)),Ii(10,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null),(e()(),wo(11,0,null,null,2,"button",[["class","closeComponentLink"],["fxFlex","0 1 auto"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeNewTopicForm()&&r),r}),null,null)),Ii(12,671744,null,0,Vf,[In,mf,Bp,Nf,wf],{fxFlex:[0,"fxFlex"]},null),(e()(),wo(13,0,null,null,0,"div",[],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,1,0,"0 1 auto"),e(t,3,0,"0 1 auto"),e(t,6,0,n.newTopicName),e(t,10,0,!n.topicTextEmpty),e(t,12,0,"0 1 auto")}),(function(e,t){e(t,2,0,mi(t,8).ngClassUntouched,mi(t,8).ngClassTouched,mi(t,8).ngClassPristine,mi(t,8).ngClassDirty,mi(t,8).ngClassValid,mi(t,8).ngClassInvalid,mi(t,8).ngClassPending)}))}function kb(e){return Do(0,[(e()(),wo(0,0,null,null,9,"nav",[["fxLayout.xs","column"]],null,null,null,null,null)),Ii(1,671744,null,0,Af,[In,mf,[2,Tf],wf],{"fxLayout.xs":[0,"fxLayout.xs"]},null),(e()(),wo(2,0,null,null,3,"ul",[["class","notes-nav"],["flexLayoutAlign","start"],["fxLayout.xs","column"]],null,null,null,null,null)),Ii(3,671744,null,0,Af,[In,mf,[2,Tf],wf],{"fxLayout.xs":[0,"fxLayout.xs"]},null),(e()(),bo(16777216,null,null,1,null,_b)),Ii(5,278528,null,0,cl,[tr,Xn,Qn],{ngForOf:[0,"ngForOf"]},null),(e()(),bo(16777216,null,null,1,null,xb)),Ii(7,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null),(e()(),bo(16777216,null,null,1,null,Eb)),Ii(9,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,"column"),e(t,3,0,"column"),e(t,5,0,n.topicsArray),e(t,7,0,!n.topicFormOpen),e(t,9,0,n.topicFormOpen)}),null)}class Sb{constructor(){}ngOnInit(){}}var Tb=br({encapsulation:0,styles:[["[_nghost-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;box-sizing:border-box;-webkit-box-align:stretch;align-items:stretch;height:100%}"]],data:{}});function Ob(e){return Do(0,[(e()(),wo(0,0,null,null,1,"app-notes-nav",[],null,null,null,kb,wb)),Ii(1,114688,null,0,bb,[vb],null,null),(e()(),wo(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Ii(3,212992,null,0,np,[tp,tr,kn,[8,null],Dt],null,null)],(function(e,t){e(t,1,0),e(t,3,0)}),null)}function Ib(e){return Do(0,[(e()(),wo(0,0,null,null,1,"app-note-manager",[],null,null,null,Ob,Tb)),Ii(1,114688,null,0,Sb,[],null,null)],(function(e,t){e(t,1,0)}),null)}var Ab=si("app-note-manager",Sb,Ib,{},{},[]);class Pb{constructor(e,t,n){this.route=e,this.noteService=t,this.location=n,this.viewAsGrid=!1,this.gridViewBtnText="\u2637",this.listViewBtnText="\u2630",this.currentViewModeBtnText=this.gridViewBtnText,this.deleteTopicDialog=!1,this.componentHidden=!1,this.visibleStateBtnText="Hide",this.hiddenStateBtnText=this.currentViewModeBtnText,this.currentHideStateBtnText=this.visibleStateBtnText}ngOnInit(){this.getNotesOnNewTopic()}changeListLayout(){this.viewAsGrid=!this.viewAsGrid,this.viewAsGrid?(this.currentViewModeBtnText=this.listViewBtnText,this.hiddenStateBtnText=this.gridViewBtnText):(this.currentViewModeBtnText=this.gridViewBtnText,this.hiddenStateBtnText=this.listViewBtnText)}changeHideState(){this.componentHidden=!this.componentHidden,this.currentHideStateBtnText=this.componentHidden?this.hiddenStateBtnText:this.visibleStateBtnText}deleteTopic(){this.noteService.removeTopic(this.topicId)}getNotesOnNewTopic(){this.route.paramMap.pipe(uc(()=>console.log("tapping")),nc(e=>(this.topicId=+e.get("topicId"),console.log("this.topicId = "+this.topicId),this.noteService.getAllNotes(this.topicId)))).subscribe(e=>{this.notes=e,console.log("this.notes = "+this.notes)})}subscribeToNotes(){this.noteService.getAllNotes(this.topic.id).subscribe(e=>{this.notes=e,console.log("notes updated in notes-list component")})}ngOnChanges(e){}onSelect(e){this.selectedNote=e}createNote(){}}var Rb=br({encapsulation:0,styles:[["[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:.9rem}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{border-left:.2rem solid #191919;background-color:#222}[_nghost-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-left:.2rem solid #191919;background:#313131}[_nghost-%COMP%]   *[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:hover::-webkit-scrollbar-track{border-left:.2rem solid #191919}[_nghost-%COMP%]   *[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumb{border-left:.2rem solid #191919;background:#4d4d4d}[_nghost-%COMP%]{max-width:20%;position:relative;background-color:#313131;-webkit-box-flex:1;flex:1 1 1;display:-webkit-box;display:flex;padding:0;color:#fff;z-index:-1;border-radius:.6rem;box-shadow:-2px 10px 9px 0 #1b1b1b,2px 10px 9px 0 #1b1b1b;max-width:50%;-webkit-transition:margin .13s ease-out,width .13s ease-out;transition:margin .13s ease-out,width .13s ease-out}.hidden-state-host[_nghost-%COMP%]{z-index:200;margin-top:auto;margin-left:0!important;border-radius:0 .6rem .6rem 0}.hidden-state-host[_nghost-%COMP%]   [_ngcontent-%COMP%]:hover{border-radius:0 .6rem .6rem 0}.hidden-state-host[_nghost-%COMP%]   [_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%], .hidden-state-host[_nghost-%COMP%]   [_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]:focus, .hidden-state-host[_nghost-%COMP%]   [_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]:hover{border-radius:0 .6rem .6rem 0}.hidden-state-host[_nghost-%COMP%]   *[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1rem;border-radius:0 .6rem .6rem 0}.hidden-state-host[_nghost-%COMP%]   .notesListOptions[_ngcontent-%COMP%]{border:none}h2[_ngcontent-%COMP%]{text-align:center;font-size:1.8rem;padding:0 0 3rem;width:100%}ul[_ngcontent-%COMP%]{margin-left:0;-webkit-box-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;display:-webkit-box;display:flex;overflow-y:auto;direction:ltr;z-index:2}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;border-radius:.6rem;overflow:hidden}li[_ngcontent-%COMP%]{text-align:left;direction:ltr;max-width:100%}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;text-overflow:ellipsis;overflow:hidden;display:block;border:0 solid #222;padding:1.4rem 3.2rem;margin:0;text-decoration:none;color:#fff;background-color:#313131;cursor:pointer;text-align:center;-webkit-transition:background .13s ease-in,box-shadow .13s ease-in,border-bottom .13s ease-in,border-top .13s ease-in,border .13s ease-in,margin-bottom .13s ease-in,margin-top .13s ease-in,margin .13s ease-in,padding .13s ease-in,-webkit-transform .13s ease-in;transition:background .13s ease-in,box-shadow .13s ease-in,border-bottom .13s ease-in,border-top .13s ease-in,border .13s ease-in,margin-bottom .13s ease-in,margin-top .13s ease-in,margin .13s ease-in,padding .13s ease-in,-webkit-transform .13s ease-in;transition:background .13s ease-in,box-shadow .13s ease-in,border-bottom .13s ease-in,border-top .13s ease-in,border .13s ease-in,margin-bottom .13s ease-in,margin-top .13s ease-in,margin .13s ease-in,padding .13s ease-in,transform .13s ease-in;transition:background .13s ease-in,box-shadow .13s ease-in,border-bottom .13s ease-in,border-top .13s ease-in,border .13s ease-in,margin-bottom .13s ease-in,margin-top .13s ease-in,margin .13s ease-in,padding .13s ease-in,transform .13s ease-in,-webkit-transform .13s ease-in;-webkit-appearance:none;-moz-appearance:none}a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:hover{color:#fff;background:#4d4d4d;box-shadow:0 4px 3px 0 #191919;z-index:100}a[_ngcontent-%COMP%]:active, a[_ngcontent-%COMP%]:hover:active, button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:hover:active{-webkit-transform:scale(.99) translate(0,0);transform:scale(.99) translate(0,0);background-color:transparent;border-bottom:0 solid #222;box-shadow:none;margin:0}.gridView[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;flex-direction:row!important;flex-wrap:wrap!important;-webkit-box-flex:1!important;flex-grow:1!important;align-content:flex-start;-webkit-box-pack:start!important;justify-content:flex-start!important;-webkit-box-align:start!important;align-items:flex-start!important}.gridView[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 0 calc(100% / 3)}.new-note-btn[_ngcontent-%COMP%]{border-bottom:2px solid #191919;z-index:1}.notesListOptions[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:space-evenly;justify-content:space-evenly;border-top:2px solid #191919}.notesListOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1.5rem 1rem}.notesListOptions[_ngcontent-%COMP%]   .symbol[_ngcontent-%COMP%]{font-size:2rem}button[_ngcontent-%COMP%]:focus{outline:0}.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#eee;background:#222;box-shadow:inset 0 10px 8px -8px #191919;-webkit-transform:translate(0,0);transform:translate(0,0);margin:0 0 -.5rem;border-bottom:0 solid #222;border-top:.5rem solid #222;padding:list-1-button-padding-top-bottom 3.2rem calc(list-1-button-padding-top-bottom - .5rem)}"]],data:{}});function Nb(e){return Do(0,[(e()(),wo(0,0,null,null,2,"a",[["class","new-note-btn"],["routerLink","notes/new"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==mi(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Ii(1,671744,null,0,Jd,[Gd,Fh,Wa],{routerLink:[0,"routerLink"]},null),(e()(),Ro(-1,null,["New Note"]))],(function(e,t){e(t,1,0,"notes/new")}),(function(e,t){e(t,0,0,mi(t,1).target,mi(t,1).href)}))}function Mb(e){return Do(0,[(e()(),wo(0,0,null,null,12,"li",[],[[2,"selected",null]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onSelect(e.context.$implicit)&&r),r}),null,null)),Ai(512,null,il,sl,[Qn,Gn,In,Mn]),Ii(2,278528,null,0,al,[il],{ngClass:[0,"ngClass"]},null),Po(3,{first:0}),Ii(4,933888,null,0,qf,[In,mf,wf,il,[6,al]],{ngClass:[0,"ngClass"]},null),Po(5,{first:0}),(e()(),wo(6,0,null,null,6,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==mi(e,7).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Ii(7,671744,[[2,4]],0,Jd,[Gd,Fh,Wa],{routerLink:[0,"routerLink"]},null),Ii(8,1720320,null,2,Xd,[Gd,In,Mn,[2,Zd],[2,Jd]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),ko(603979776,1,{links:1}),ko(603979776,2,{linksWithHrefs:1}),Po(11,{exact:0}),(e()(),Ro(12,null,["",""]))],(function(e,t){var n=e(t,3,0,t.context.first);e(t,2,0,n);var r=e(t,5,0,t.context.first);e(t,4,0,r),e(t,7,0,Wr(1,"notes/",t.context.$implicit.id,""));var i=e(t,11,0,!1);e(t,8,0,i,"active")}),(function(e,t){e(t,0,0,t.context.$implicit===t.component.selectedNote),e(t,6,0,mi(t,7).target,mi(t,7).href),e(t,12,0,t.context.$implicit.title)}))}function Db(e){return Do(0,[(e()(),wo(0,0,null,null,2,"ul",[["id","notesList-ul"]],null,null,null,null,null)),(e()(),bo(16777216,null,null,1,null,Mb)),Ii(2,278528,null,0,cl,[tr,Xn,Qn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.notes)}),null)}function Vb(e){return Do(0,[(e()(),wo(0,0,null,null,1,"button",[],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=0!=(e.component.deleteTopicDialog=!0)&&r),r}),null,null)),(e()(),Ro(-1,null,["Delete Topic"]))],null,null)}function jb(e){return Do(0,[(e()(),wo(0,0,null,null,1,"button",[["class","symbol"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.changeListLayout()&&r),r}),null,null)),(e()(),Ro(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.currentViewModeBtnText)}))}function Fb(e){return Do(0,[(e()(),wo(0,0,null,null,16,"div",[],null,null,null,null,null)),Ai(512,null,il,sl,[Qn,Gn,In,Mn]),Ii(2,278528,null,0,al,[il],{ngClass:[0,"ngClass"]},null),Po(3,{gridView:0,"hidden-list":1}),Ii(4,933888,null,0,qf,[In,mf,wf,il,[6,al]],{ngClass:[0,"ngClass"]},null),Po(5,{gridView:0,"hidden-list":1}),(e()(),bo(16777216,null,null,1,null,Nb)),Ii(7,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null),(e()(),bo(16777216,null,null,1,null,Db)),Ii(9,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null),(e()(),wo(10,0,null,null,6,"div",[["class","notesListOptions"]],null,null,null,null,null)),(e()(),bo(16777216,null,null,1,null,Vb)),Ii(12,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null),(e()(),bo(16777216,null,null,1,null,jb)),Ii(14,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null),(e()(),wo(15,0,null,null,1,"button",[],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.changeHideState()&&r),r}),null,null)),(e()(),Ro(16,null,["",""]))],(function(e,t){var n=t.component,r=e(t,3,0,n.viewAsGrid,n.componentHidden);e(t,2,0,r);var i=e(t,5,0,n.viewAsGrid,n.componentHidden);e(t,4,0,i),e(t,7,0,!n.componentHidden),e(t,9,0,!n.componentHidden),e(t,12,0,!n.componentHidden),e(t,14,0,!n.componentHidden)}),(function(e,t){e(t,16,0,t.component.currentHideStateBtnText)}))}function Ub(e){return Do(0,[(e()(),wo(0,0,null,null,8,"div",[["class","dialog-overlay"]],null,null,null,null,null)),(e()(),wo(1,0,null,null,7,"div",[["class",""]],null,null,null,null,null)),(e()(),wo(2,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ro(-1,null,["Do you really want to delete this topic with all its notes?"])),(e()(),wo(4,0,null,null,2,"a",[["routerLink","/notes-manager"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0,i=e.component;return"click"===t&&(r=!1!==mi(e,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===t&&(i.deleteTopic(),r=0!=(i.deleteTopicDialog=!1)&&r),r}),null,null)),Ii(5,671744,null,0,Jd,[Gd,Fh,Wa],{routerLink:[0,"routerLink"]},null),(e()(),Ro(-1,null,["Yes"])),(e()(),wo(7,0,null,null,1,"a",[],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=0!=(e.component.deleteTopicDialog=!1)&&r),r}),null,null)),(e()(),Ro(-1,null,["No"]))],(function(e,t){e(t,5,0,"/notes-manager")}),(function(e,t){e(t,4,0,mi(t,5).target,mi(t,5).href)}))}function Lb(e){return Do(0,[(e()(),bo(16777216,null,null,1,null,Fb)),Ii(1,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null),(e()(),bo(16777216,null,null,1,null,Ub)),Ii(3,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.topicId),e(t,3,0,n.deleteTopicDialog)}),null)}class Bb{constructor(e,t,n){this.route=e,this.noteService=t,this.location=n}getTopicId(){this.route.paramMap.subscribe(e=>{this.topicId=+e.get("topicId"),console.log("note-level topic id is now: "+this.topicId)})}ngOnInit(){this.getTopicId()}}var Hb=br({encapsulation:0,styles:[["[_nghost-%COMP%]{-webkit-box-flex:1;flex:1 1 100px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;display:-webkit-box;display:flex;box-sizing:border-box;-webkit-box-align:stretch;align-items:stretch;flex:1 1 auto;z-index:0;padding-top:1.4rem;padding-bottom:1.4rem;min-height:0}[_nghost-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-left:1.4rem;margin-right:1.4rem;z-index:3}.notes-list[_ngcontent-%COMP%]{max-width:20%}@media only screen and (max-width:599px){[_nghost-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}}"]],data:{}});function $b(e){return Do(0,[(e()(),wo(0,0,null,null,1,"app-notes-list",[["class","notes-list"]],[[2,"hidden-state-host",null]],null,null,Lb,Rb)),Ii(1,638976,null,0,Pb,[Fh,vb,Qa],null,null),(e()(),wo(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Ii(3,212992,null,0,np,[tp,tr,kn,[8,null],Dt],null,null)],(function(e,t){e(t,1,0),e(t,3,0)}),(function(e,t){e(t,0,0,mi(t,1).componentHidden)}))}function qb(e){return Do(0,[(e()(),wo(0,0,null,null,1,"app-notes-level",[],null,null,null,$b,Hb)),Ii(1,114688,null,0,Bb,[Fh,vb,Qa],null,null)],(function(e,t){e(t,1,0)}),null)}var zb=si("app-notes-level",Bb,qb,{topicId:"topicId"},{},[]);function Wb(e,t){return new w(t?n=>t.schedule(Kb,0,{error:e,subscriber:n}):t=>t.error(e))}function Kb({error:e,subscriber:t}){t.error(e)}class Qb{constructor(e,t,n,r){this.route=e,this.router=t,this.noteService=n,this.location=r,this.note=null,this.noteTextEmpty=!1,this.noteTitleEmpty=!1,this.deleteDialog=!1}ngOnInit(){console.log("this.note is "+this.note),console.log("init-----------------------------------------------------------------"),this.getNotesOnNewTopic()}ngAfterViewInit(){this.manageFocusOnInputs()}ngOnDestroy(){console.log("destroy-----------------------------------------------------------------"),this.notesSubscription.unsubscribe(),this.titleInputChangesSubscription.unsubscribe()}caseParamsHasNoNew(e){return this.noteId=+e.get("noteId"),console.log("Params Has No New"),console.log("fetching note with id "+this.noteId),this.noteService.getNote(this.noteId)}caseParamsHasNew(e){return console.log("caseParamsHasNew"),xl(e)}getNotesOnNewTopic(){this.notesSubscription=this.route.paramMap.pipe(uc(e=>this.topicId=+e.get("topicId")),nc(e=>(function(e,t=Ol,n=Ol){return Al(()=>e()?t:n)})(()=>"new"==this.getCurrentRouteEnd(),xl(e),this.caseParamsHasNoNew(e)))).subscribe(e=>{console.log("route ending is = "+this.route.snapshot.url[this.route.snapshot.url.length-1]),e instanceof Cv?this.noteId&&(this.note=e):this.instanceOfParamMap(e)&&this.createNewNote()})}instanceOfParamMap(e){return"keys"in e}getCurrentRouteEnd(){return this.route.snapshot.url[this.route.snapshot.url.length-1].path}createNewNote(){console.log("create new note"),this.note=new Cv(""),this.newNoteState=!0,console.log("this.note.title is : "+this.note.title),this.checkIfInputsEmpty()}deleteNote(){let e;return e=this.noteService.removeNote(this.noteId),console.log(e),e}subscribeToCurrentNote(){this.noteService.getCurrentNote().subscribe(e=>this.note=e)}checkIfInputsEmpty(){this.isNoteTitleEmpty(),this.isNoteTextEmpty()}isNoteTextEmpty(){this.note.text?(this.noteTextEmpty=!1,console.log(this.note),console.log("this.noteTextEmpty = false")):(this.noteTextEmpty=!0,console.log(this.note),console.log("this.noteTextEmpty = true"))}isNoteTitleEmpty(){this.note.title?(this.noteTitleEmpty=!1,console.log("this.noteTitleEmpty = false")):(this.noteTitleEmpty=!0,console.log("this.noteTitleEmpty = true"))}addNoteToDBOnFirstInput(){if(this.newNoteState){let e;this.noteService.addNote({title:this.note.title,topicId:this.topicId}).then(t=>{e=t,this.newNoteState=!1,console.log("creating note, now routing"),this.router.navigate(["notes-manager",this.topicId,"notes",e])})}else this.noteService.updateNote(this.noteId,{title:this.note.title})}updateNoteByTextField(){this.noteService.updateNote(this.noteId,{text:this.note.text})}manageFocusOnInputs(){"new"==this.getCurrentRouteEnd()&&this.titleInput.first.nativeElement.focus(),this.titleInputChangesSubscription=this.titleInput.changes.subscribe(e=>{e.length>0&&e.first.nativeElement.focus()})}}var Gb=br({encapsulation:0,styles:[['@charset "UTF-8";[_nghost-%COMP%]{position:relative;padding:3.9rem 0 5rem;margin-right:1.4rem;-webkit-box-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;display:-webkit-box;display:flex;box-shadow:-2px 10px 9px 0 #1b1b1b,2px 10px 9px 0 #1b1b1b;background-color:#252525;background-clip:padding-box;border-radius:.6rem;z-index:3}[_nghost-%COMP%]::after{content:"";z-index:-1;position:absolute;border-radius:inherit;top:0;right:0;left:0;bottom:0}.closeComponentLink[_ngcontent-%COMP%]{position:absolute;top:calc(1.4rem * .5);right:calc(1.4rem * .5)}.closeComponentLink[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]::after{content:"+"}.deleteNoteLink[_ngcontent-%COMP%]{position:absolute;bottom:calc(1.4rem * .5);right:calc(1.4rem * .5);cursor:pointer}.functionalBtn[_ngcontent-%COMP%]{display:block;color:#4d4d4d;padding:.83rem .734rem .9rem .86rem;border-radius:.6rem}.symbolBtn[_ngcontent-%COMP%]{letter-spacing:0;line-height:1.33rem;font-weight:500;font-size:2.5rem}.functionalBtn[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 0 .2rem #4d4d4d;color:#eee}.closeComponentLink[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-transform:rotate(45deg);transform:rotate(45deg)}form[_ngcontent-%COMP%]{width:100%;height:100%;display:-webkit-box;display:flex}form[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#eee;padding:0 3.9rem}.note-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:1.8rem}input[_ngcontent-%COMP%]{font-family:"Open Sans",Helvetica,Arial,sans-serif;font-weight:600;background-color:transparent;border:none;font-size:1.8rem;min-height:1.8rem}.text-label[_ngcontent-%COMP%]{pointer-events:none;margin-bottom:-1.5rem;font-size:1.5rem;color:#878787!important}.title-label[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:3.9rem;font-weight:600;color:#878787!important;font-size:1.8rem}textarea[_ngcontent-%COMP%]{background-color:transparent;border:none;width:100%;-webkit-box-flex:1;flex:1 1 auto;box-sizing:border-box;font-family:"Open Sans",Helvetica,Arial,sans-serif;font-size:1.5rem;resize:none}textarea[_ngcontent-%COMP%]:visited   .notes-label[_ngcontent-%COMP%]{display:none}input[_ngcontent-%COMP%]:active, input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:active, textarea[_ngcontent-%COMP%]:focus{outline:0}']],data:{}});function Zb(e){return Do(0,[(e()(),wo(0,0,null,null,1,"label",[["class","title-label"]],null,null,null,null,null)),(e()(),Ro(-1,null,["Add your title here"]))],null,null)}function Jb(e){return Do(0,[(e()(),wo(0,0,null,null,1,"label",[["class","text-label"]],null,null,null,null,null)),(e()(),Ro(-1,null,["Add your notes here"]))],null,null)}function Yb(e){return Do(0,[(e()(),wo(0,0,null,null,21,"form",[["fxLayout","column"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==mi(e,3).onSubmit(n)&&r),"reset"===t&&(r=!1!==mi(e,3).onReset()&&r),r}),null,null)),Ii(1,671744,null,0,Af,[In,mf,[2,Tf],wf],{fxLayout:[0,"fxLayout"]},null),Ii(2,16384,null,0,Ug,[],null,null),Ii(3,4210688,null,0,Rg,[[8,null],[8,null]],null,null),Ai(2048,null,Jf,null,[Rg]),Ii(5,16384,null,0,ng,[[4,Jf]],null,null),(e()(),bo(16777216,null,null,1,null,Zb)),Ii(7,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null),(e()(),wo(8,0,[[1,0],["titleInput",1]],null,5,"input",[["autocomplete","off"],["class","note-title"],["name","noteTitle"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==mi(e,9)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==mi(e,9).onTouched()&&r),"compositionstart"===t&&(r=!1!==mi(e,9)._compositionStart()&&r),"compositionend"===t&&(r=!1!==mi(e,9)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.note.title=n)&&r),"ngModelChange"===t&&(i.isNoteTitleEmpty(),r=!1!==i.addNoteToDBOnFirstInput()&&r),r}),null,null)),Ii(9,16384,null,0,Gf,[Mn,In,[2,Qf]],null,null),Ai(1024,null,Kf,(function(e){return[e]}),[Gf]),Ii(11,671744,null,0,Fg,[[2,Jf],[8,null],[8,null],[6,Kf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ai(2048,null,Xf,null,[Fg]),Ii(13,16384,null,0,tg,[[4,Xf]],null,null),(e()(),bo(16777216,null,null,1,null,Jb)),Ii(15,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null),(e()(),wo(16,0,[[2,0],["textInput",1]],null,5,"textarea",[["name","noteText"],["spellcheck","false"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==mi(e,17)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==mi(e,17).onTouched()&&r),"compositionstart"===t&&(r=!1!==mi(e,17)._compositionStart()&&r),"compositionend"===t&&(r=!1!==mi(e,17)._compositionEnd(n.target.value)&&r),"ngModelChange"===t&&(r=!1!==(i.note.text=n)&&r),"ngModelChange"===t&&(i.isNoteTextEmpty(),r=!1!==i.updateNoteByTextField()&&r),r}),null,null)),Ii(17,16384,null,0,Gf,[Mn,In,[2,Qf]],null,null),Ai(1024,null,Kf,(function(e){return[e]}),[Gf]),Ii(19,671744,null,0,Fg,[[2,Jf],[8,null],[8,null],[6,Kf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ai(2048,null,Xf,null,[Fg]),Ii(21,16384,null,0,tg,[[4,Xf]],null,null)],(function(e,t){var n=t.component;e(t,1,0,"column"),e(t,7,0,n.noteTitleEmpty),e(t,11,0,"noteTitle",n.note.title),e(t,15,0,n.noteTextEmpty),e(t,19,0,"noteText",n.note.text)}),(function(e,t){e(t,0,0,mi(t,5).ngClassUntouched,mi(t,5).ngClassTouched,mi(t,5).ngClassPristine,mi(t,5).ngClassDirty,mi(t,5).ngClassValid,mi(t,5).ngClassInvalid,mi(t,5).ngClassPending),e(t,8,0,mi(t,13).ngClassUntouched,mi(t,13).ngClassTouched,mi(t,13).ngClassPristine,mi(t,13).ngClassDirty,mi(t,13).ngClassValid,mi(t,13).ngClassInvalid,mi(t,13).ngClassPending),e(t,16,0,mi(t,21).ngClassUntouched,mi(t,21).ngClassTouched,mi(t,21).ngClassPristine,mi(t,21).ngClassDirty,mi(t,21).ngClassValid,mi(t,21).ngClassInvalid,mi(t,21).ngClassPending)}))}function Xb(e){return Do(0,[(e()(),wo(0,0,null,null,2,"a",[["class","closeComponentLink functionalBtn symbolBtn"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==mi(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Ii(1,671744,null,0,Jd,[Gd,Fh,Wa],{routerLink:[0,"routerLink"]},null),(e()(),wo(2,0,null,null,0,"div",[],null,null,null,null,null))],(function(e,t){e(t,1,0,Wr(1,"/notes-manager/",t.component.topicId,""))}),(function(e,t){e(t,0,0,mi(t,1).target,mi(t,1).href)}))}function ew(e){return Do(0,[(e()(),wo(0,0,null,null,8,"div",[["class","dialog-overlay"]],null,null,null,null,null)),(e()(),wo(1,0,null,null,1,"p",[["class",""]],null,null,null,null,null)),(e()(),Ro(-1,null,["Do you really want to delete this note?"])),(e()(),wo(3,0,null,null,5,"div",[["class","dialog-answers"]],null,null,null,null,null)),(e()(),wo(4,0,null,null,2,"a",[["class","pushable-with-border"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0,i=e.component;return"click"===t&&(r=!1!==mi(e,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===t&&(i.deleteNote(),r=0!=(i.deleteDialog=!1)&&r),r}),null,null)),Ii(5,671744,null,0,Jd,[Gd,Fh,Wa],{routerLink:[0,"routerLink"]},null),(e()(),Ro(-1,null,["Yes"])),(e()(),wo(7,0,null,null,1,"a",[["class","pushable-with-border"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=0!=(e.component.deleteDialog=!1)&&r),r}),null,null)),(e()(),Ro(-1,null,["No"]))],(function(e,t){e(t,5,0,Wr(1,"/notes-manager/",t.component.topicId,""))}),(function(e,t){e(t,4,0,mi(t,5).target,mi(t,5).href)}))}function tw(e){return Do(0,[ko(671088640,1,{titleInput:1}),ko(671088640,2,{textInput:1}),(e()(),bo(16777216,null,null,1,null,Yb)),Ii(3,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null),(e()(),bo(16777216,null,null,1,null,Xb)),Ii(5,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null),(e()(),wo(6,0,null,null,1,"a",[["class","deleteNoteLink functionalBtn"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=0!=(e.component.deleteDialog=!0)&&r),r}),null,null)),(e()(),Ro(-1,null,["delete"])),(e()(),bo(16777216,null,null,1,null,ew)),Ii(9,16384,null,0,hl,[tr,Xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.note),e(t,5,0,n.topicId),e(t,9,0,n.deleteDialog)}),null)}function nw(e){return Do(0,[(e()(),wo(0,0,null,null,1,"app-note-viewer",[],null,null,null,tw,Gb)),Ii(1,4440064,null,0,Qb,[Fh,Gd,vb,Qa],null,null)],(function(e,t){e(t,1,0)}),null)}var rw=si("app-note-viewer",Qb,nw,{},{},[]);class iw{constructor(){}ngOnInit(){}}var sw=br({encapsulation:0,styles:[["[_nghost-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}form[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;background-color:#313131;padding:1.2rem 2.4rem;width:70ch;box-shadow:-2px 10px 9px 0 #1b1b1b,2px 10px 9px 0 #1b1b1b}fieldset[_ngcontent-%COMP%]{width:auto}label[_ngcontent-%COMP%]{display:inline-block;text-align:center;padding-top:.6rem}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:1.2rem;margin-bottom:1.2rem}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{padding:.8rem 1rem;border:none;border-radius:.6rem}input[_ngcontent-%COMP%]{background-color:#222;outline:0;width:66%;margin-left:.4rem;float:right}.log-in-btn[_ngcontent-%COMP%]{align-self:stretch;text-align:center}"]],data:{}});function ow(e){return Do(0,[(e()(),wo(0,0,null,null,14,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==mi(e,2).onSubmit(n)&&r),"reset"===t&&(r=!1!==mi(e,2).onReset()&&r),r}),null,null)),Ii(1,16384,null,0,Ug,[],null,null),Ii(2,4210688,null,0,Rg,[[8,null],[8,null]],null,null),Ai(2048,null,Jf,null,[Rg]),Ii(4,16384,null,0,ng,[[4,Jf]],null,null),(e()(),wo(5,0,null,null,3,"fieldset",[],null,null,null,null,null)),(e()(),wo(6,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),Ro(-1,null,["username"])),(e()(),wo(8,0,null,null,0,"input",[],null,null,null,null,null)),(e()(),wo(9,0,null,null,3,"fieldset",[],null,null,null,null,null)),(e()(),wo(10,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),Ro(-1,null,["password"])),(e()(),wo(12,0,null,null,0,"input",[],null,null,null,null,null)),(e()(),wo(13,0,null,null,1,"a",[["class","log-in-btn pushable-with-border"],["hreF",""]],null,null,null,null,null)),(e()(),Ro(-1,null,["log in"]))],null,(function(e,t){e(t,0,0,mi(t,4).ngClassUntouched,mi(t,4).ngClassTouched,mi(t,4).ngClassPristine,mi(t,4).ngClassDirty,mi(t,4).ngClassValid,mi(t,4).ngClassInvalid,mi(t,4).ngClassPending)}))}function aw(e){return Do(0,[(e()(),wo(0,0,null,null,1,"app-log-in",[],null,null,null,ow,sw)),Ii(1,114688,null,0,iw,[],null,null)],(function(e,t){e(t,1,0)}),null)}var lw=si("app-log-in",iw,aw,{},{},[]);class cw{constructor(){}ngOnInit(){}}var uw=br({encapsulation:0,styles:[["[_nghost-%COMP%]{z-index:10}header[_ngcontent-%COMP%]{height:auto;width:100%;z-index:1;padding:.6rem 2rem .2rem;border-bottom:.2rem solid #191919;background-color:#313131;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}h1[_ngcontent-%COMP%]{font-weight:600;font-size:1.6rem;letter-spacing:.02rem;display:inline-block}a[_ngcontent-%COMP%]{margin-top:.4rem;margin-bottom:.4rem;border-radius:.6rem}.right-aligned[_ngcontent-%COMP%]{margin-left:auto}"]],data:{}});function hw(e){return Do(0,[(e()(),wo(0,0,null,null,5,"header",[],null,null,null,null,null)),(e()(),wo(1,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),Ro(2,null,["",""])),(e()(),wo(3,0,null,null,2,"a",[["class","right-aligned pushable-with-border"],["routerLink","log-in"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==mi(e,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Ii(4,671744,null,0,Jd,[Gd,Fh,Wa],{routerLink:[0,"routerLink"]},null),(e()(),Ro(-1,null,["log in"]))],(function(e,t){e(t,4,0,"log-in")}),(function(e,t){e(t,2,0,t.component.title),e(t,3,0,mi(t,4).target,mi(t,4).href)}))}var dw=br({encapsulation:0,styles:[["[_nghost-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;overflow:hidden}main[_ngcontent-%COMP%]{display:-webkit-box;display:flex}"]],data:{}});function pw(e){return Do(0,[(e()(),wo(0,0,null,null,1,"app-header",[],null,null,null,hw,uw)),Ii(1,114688,null,0,cw,[],{title:[0,"title"]},null),(e()(),wo(2,0,null,null,3,"main",[["fxFlex",""],["role","main"]],null,null,null,null,null)),Ii(3,671744,null,0,Vf,[In,mf,Bp,Nf,wf],{fxFlex:[0,"fxFlex"]},null),(e()(),wo(4,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Ii(5,212992,null,0,np,[tp,tr,kn,[8,null],Dt],null,null)],(function(e,t){e(t,1,0,t.component.title),e(t,3,0,""),e(t,5,0)}),null)}function fw(e){return Do(0,[(e()(),wo(0,0,null,null,1,"app-root",[],null,null,null,pw,dw)),Ii(1,49152,null,0,$a,[],null,null)],null,null)}var gw=si("app-root",$a,fw,{},{},[]),mw=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},yw=function(){},vw=function(){},bw=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}([Gt(),mw("design:paramtypes",[vw])],(function(e){void 0===e&&(e={}),Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},e)}));let ww=(()=>{class e{createDb(){return{topics:[{id:"To Dos",notesList:[{id:11,title:"To Do 21.01.19",text:"This is example Text 1"},{id:12,title:"To Do 20.01.19",text:"This is example Text 2"},{id:13,title:"To Do 19.01.19",text:"This is example Text 3"},{id:14,title:"To Do 18.01.19",text:"This is example Text 4"},{id:15,title:"To Do 17.01.19",text:"This is example Text 5"},{id:16,title:"To Do 16.01.19",text:"This is example Text 6"},{id:17,title:"To Do 15.01.19",text:"This is example Text 7"},{id:18,title:"To Do 14.01.19",text:"This is example Text 8"},{id:19,title:"To Do 13.01.19",text:"This is example Text 9"},{id:21,title:"To Do 12.01.19",text:"This is example Text 0"},{id:22,title:"To Do 12.01.19",text:"This is example Text 0"},{id:23,title:"To Do 12.01.19",text:"This is example Text 0"},{id:24,title:"To Do 12.01.19",text:"This is example Text 0"},{id:25,title:"To Do 12.01.19",text:"This is example Text 0"},{id:26,title:"To Do 12.01.19",text:"This is example Text 0"}]},{id:"Ideas",notesList:[{id:11,title:"Topic 2, note 1",text:"This is an example Text for Topic 2..."},{id:12,title:"Topic 2, note 2",text:"This is an example Text for Topic 2..."},{id:13,title:"Topic 2, note 3",text:"This is an example Text for Topic 2..."},{id:14,title:"Topic 2, note 4",text:"This is an example Text for Topic 2..."},{id:15,title:"Topic 2, note 5",text:"This is an example Text for Topic 2..."},{id:16,title:"Topic 2, note 6",text:"This is an example Text for Topic 2..."},{id:17,title:"Topic 2, note 7",text:"This is an example Text for Topic 2..."}]},{id:"Present ideas",notesList:[{id:11,title:"Topic 3, note 1",text:"Some note of topic three"},{id:12,title:"Topic 3, note 2",text:"Some note of topic three"},{id:13,title:"Topic 3, note 3",text:"Some note of topic three"}]}]}}}return e.ngInjectableDef=me({factory:function(){return new e},token:e,providedIn:"root"}),e})();var _w,xw={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:'"The server understands and is willing to comply with the client\'s request, via the Upgrade header field, for a change in the application protocol being used on this connection."',spec_title:"RFC7231#6.2.2",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:'"The request was successful but the enclosed payload has been modified from that of the origin server\'s 200 (OK) response by a transforming proxy."',spec_title:"RFC7231#6.3.4",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:'"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests\'s Range header field."',spec_title:"RFC7233#4.1",spec_href:"http://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"http://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"http://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"http://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:'"None of the ranges in the request\'s Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."',spec_title:"RFC7233#4.4",spec_href:"http://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:'"The expectation given in the request\'s Expect header field could not be met by at least one of the inbound servers."',spec_title:"RFC7231#6.5.14",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"http://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"http://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"http://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"http://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"http://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"http://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"http://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"http://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"http://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"http://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"http://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"http://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"http://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"http://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"http://tools.ietf.org/html/rfc6585#section-6"}},Cw=function(){function e(e,t){void 0===t&&(t={}),this.inMemDbService=e,this.config=new bw,this.requestInfoUtils=this.getRequestInfoUtils();var n=this.getLocation("/");this.config.host=n.host,this.config.rootPath=n.path,Object.assign(this.config,t)}return Object.defineProperty(e.prototype,"dbReady",{get:function(){return this.dbReadySubject||(this.dbReadySubject=new Cl(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(Xl((function(e){return e})))},enumerable:!0,configurable:!0}),e.prototype.handleRequest=function(e){var t=this;return this.dbReady.pipe(cc((function(){return t.handleRequest_(e)})))},e.prototype.handleRequest_=function(e){var t,n=this,r=e.urlWithParams?e.urlWithParams:e.url,i=this.bind("parseRequestUrl"),s=i&&i(r,this.requestInfoUtils)||this.parseRequestUrl(r),o=s.collectionName,a=this.db[o],l={req:e,apiBase:s.apiBase,collection:a,collectionName:o,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(a,o,s.id),method:this.getRequestMethod(e),query:s.query,resourceUrl:s.resourceUrl,url:r,utils:this.requestInfoUtils};if(/commands\/?$/i.test(l.apiBase))return this.commands(l);var c=this.bind(l.method);if(c){var u=c(l);if(u)return u}return this.db[o]?this.createResponse$((function(){return n.collectionHandler(l)})):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(e):(t=this.createErrorResponseOptions(r,404,"Collection '"+o+"' not found"),this.createResponse$((function(){return t})))},e.prototype.addDelay=function(e){var t,n,r=this.config.delay;return 0===r?e:(t=e,n=r||500,new w((function(e){var r=!1,i=!1,s=t.subscribe((function(t){i=!0,setTimeout((function(){e.next(t),r&&e.complete()}),n)}),(function(t){return setTimeout((function(){return e.error(t)}),n)}),(function(){r=!0,i||e.complete()}));return function(){return s.unsubscribe()}})))},e.prototype.applyQuery=function(e,t){var n=[],r=this.config.caseSensitiveSearch?void 0:"i";t.forEach((function(e,t){e.forEach((function(e){return n.push({name:t,rx:new RegExp(decodeURI(e),r)})}))}));var i=n.length;return i?e.filter((function(e){for(var t=!0,r=i;t&&r;){var s=n[r-=1];t=s.rx.test(e[s.name])}return t})):e},e.prototype.bind=function(e){var t=this.inMemDbService[e];return t?t.bind(this.inMemDbService):void 0},e.prototype.bodify=function(e){return this.config.dataEncapsulation?{data:e}:e},e.prototype.clone=function(e){return JSON.parse(JSON.stringify(e))},e.prototype.collectionHandler=function(e){var t;switch(e.method){case"get":t=this.get(e);break;case"post":t=this.post(e);break;case"put":t=this.put(e);break;case"delete":t=this.delete(e);break;default:t=this.createErrorResponseOptions(e.url,405,"Method not allowed")}var n=this.bind("responseInterceptor");return n?n(t,e):t},e.prototype.commands=function(e){var t=this,n=e.collectionName.toLowerCase(),r=e.method,i={url:e.url};switch(n){case"resetdb":return i.status=204,this.resetDb(e).pipe(cc((function(){return t.createResponse$((function(){return i}),!1)})));case"config":if("get"===r)i.status=200,i.body=this.clone(this.config);else{var s=this.getJsonBody(e.req);Object.assign(this.config,s),this.passThruBackend=void 0,i.status=204}break;default:i=this.createErrorResponseOptions(e.url,500,'Unknown command "'+n+'"')}return this.createResponse$((function(){return i}),!1)},e.prototype.createErrorResponseOptions=function(e,t,n){return{body:{error:""+n},url:e,headers:this.createHeaders({"Content-Type":"application/json"}),status:t}},e.prototype.createResponse$=function(e,t){void 0===t&&(t=!0);var n=this.createResponseOptions$(e),r=this.createResponse$fromResponseOptions$(n);return t?this.addDelay(r):r},e.prototype.createResponseOptions$=function(e){var t=this;return new w((function(n){var r;try{r=e()}catch(s){r=t.createErrorResponseOptions("",500,""+(s.message||s))}var i=r.status;try{r.statusText=function(e){return xw[e].text||"Unknown Status"}(i)}catch(o){}return function(e){return e>=200&&e<300}(i)?(n.next(r),n.complete()):n.error(r),function(){}}))},e.prototype.delete=function(e){var t=e.collection,n=e.headers,r=e.id;return null==r?this.createErrorResponseOptions(e.url,404,'Missing "'+e.collectionName+'" id'):{headers:n,status:this.removeById(t,r)||!this.config.delete404?204:404}},e.prototype.findById=function(e,t){return e.find((function(e){return e.id===t}))},e.prototype.genId=function(e,t){var n=this.bind("genId");if(n){var r=n(e,t);if(null!=r)return r}return this.genIdDefault(e,t)},e.prototype.genIdDefault=function(e,t){if(!this.isCollectionIdNumeric(e,t))throw new Error("Collection '"+t+"' id type is non-numeric or unknown. Can only generate numeric ids.");var n=0;return e.reduce((function(e,t){n=Math.max(n,"number"==typeof t.id?t.id:n)}),void 0),n+1},e.prototype.get=function(e){var t=e.collection,n=e.collectionName,r=e.headers,i=e.id,s=e.query,o=e.url,a=t;return null!=i&&""!==i?a=this.findById(t,i):s&&(a=this.applyQuery(t,s)),a?{body:this.bodify(this.clone(a)),headers:r,status:200}:this.createErrorResponseOptions(o,404,"'"+n+"' with id='"+i+"' not found")},e.prototype.getLocation=function(e){if(!e.startsWith("http")){var t="undefined"==typeof document?void 0:document,n=t?t.location.protocol+"//"+t.location.host:"http://fake";e=e.startsWith("/")?n+e:n+"/"+e}return function(e){for(var t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},r=Object.keys(n),i=r.length;i--;)n[r[i]]=t[i]||"";return n}(e)},e.prototype.getPassThruBackend=function(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()},e.prototype.getRequestInfoUtils=function(){var e=this;return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:function(){return e.config},getDb:function(){return e.db},getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}},e.prototype.indexOf=function(e,t){return e.findIndex((function(e){return e.id===t}))},e.prototype.parseId=function(e,t,n){if(!this.isCollectionIdNumeric(e,t))return n;var r=parseFloat(n);return isNaN(r)?n:r},e.prototype.isCollectionIdNumeric=function(e,t){return!(!e||!e[0])&&"number"==typeof e[0].id},e.prototype.parseRequestUrl=function(e){try{var t=this.getLocation(e),n=this.config.rootPath.length,r="";t.host!==this.config.host&&(n=1,r=t.protocol+"//"+t.host+"/");var i=t.path.substring(n).split("/"),s=0,o=void 0;null==this.config.apiBase?o=i[s++]:s=(o=this.config.apiBase.trim().replace(/\/$/,""))?o.split("/").length:0;var a=i[s++];return{apiBase:o+="/",collectionName:a=a&&a.split(".")[0],id:i[s++],query:this.createQueryMap(t.query),resourceUrl:r+o+a+"/"}}catch(l){throw new Error("unable to parse url '"+e+"'; original error: "+l.message)}},e.prototype.post=function(e){var t=e.collection,n=e.collectionName,r=e.headers,i=e.id,s=e.resourceUrl,o=e.url,a=this.clone(this.getJsonBody(e.req));if(null==a.id)try{a.id=i||this.genId(t,n)}catch(h){var l=h.message||"";return/id type is non-numeric/.test(l)?this.createErrorResponseOptions(o,422,l):(console.error(h),this.createErrorResponseOptions(o,500,"Failed to generate new id for '"+n+"'"))}if(i&&i!==a.id)return this.createErrorResponseOptions(o,400,"Request id does not match item.id");var c=this.indexOf(t,i=a.id),u=this.bodify(a);return-1===c?(t.push(a),r.set("Location",s+"/"+i),{headers:r,body:u,status:201}):this.config.post409?this.createErrorResponseOptions(o,409,"'"+n+"' item with id='"+i+" exists and may not be updated with POST; use PUT instead."):(t[c]=a,this.config.post204?{headers:r,status:204}:{headers:r,body:u,status:200})},e.prototype.put=function(e){var t=e.collection,n=e.collectionName,r=e.headers,i=e.id,s=e.url,o=this.clone(this.getJsonBody(e.req));if(null==o.id)return this.createErrorResponseOptions(s,404,"Missing '"+n+"' id");if(i&&i!==o.id)return this.createErrorResponseOptions(s,400,"Request for '"+n+"' id does not match item.id");var a=this.indexOf(t,i=o.id),l=this.bodify(o);return a>-1?(t[a]=o,this.config.put204?{headers:r,status:204}:{headers:r,body:l,status:200}):this.config.put404?this.createErrorResponseOptions(s,404,"'"+n+"' item with id='"+i+" not found and may not be created with PUT; use POST instead."):(t.push(o),{headers:r,body:l,status:201})},e.prototype.removeById=function(e,t){var n=this.indexOf(e,t);return n>-1&&(e.splice(n,1),!0)},e.prototype.resetDb=function(e){var t=this;this.dbReadySubject.next(!1);var n=this.inMemDbService.createDb(e);return(n instanceof w?n:"function"==typeof n.then?B(n):xl(n)).pipe(Xl()).subscribe((function(e){t.db=e,t.dbReadySubject.next(!0)})),this.dbReady},e}(),Ew=(_w=function(e,t){return(_w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}_w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),kw=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Sw=function(e,t){return function(n,r){t(n,r,e)}},Tw=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.xhrFactory=r,i}return Ew(t,e),t.prototype.handle=function(e){try{return this.handleRequest(e)}catch(n){var t=this.createErrorResponseOptions(e.url,500,""+(n.message||n));return this.createResponse$((function(){return t}))}},t.prototype.getJsonBody=function(e){return e.body},t.prototype.getRequestMethod=function(e){return(e.method||"get").toLowerCase()},t.prototype.createHeaders=function(e){return new Hv(e)},t.prototype.createQueryMap=function(e){var t=new Map;if(e){var n=new zv({fromString:e});n.keys().forEach((function(e){return t.set(e,n.getAll(e))}))}return t},t.prototype.createResponse$fromResponseOptions$=function(e){return e.pipe(j((function(e){return new Xv(e)})))},t.prototype.createPassThruBackend=function(){try{return new cb(this.xhrFactory)}catch(n_){throw n_.message="Cannot create passThru404 backend; "+(n_.message||""),n_}},function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}([Gt(),Sw(1,ue(bw)),Sw(1,he()),kw("design:paramtypes",[yw,vw,ab])],t)}(Cw);function Ow(e,t,n){return new Tw(e,t,n)}var Iw=function(){function e(){}var t;return t=e,e.forRoot=function(e,n){return{ngModule:t,providers:[{provide:yw,useClass:e},{provide:bw,useValue:n},{provide:Bv,useFactory:Ow,deps:[yw,bw,ab]}]}},e.forFeature=function(e,n){return t.forRoot(e,n)},t=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}([ns({})],e)}();const Aw=new w(y);let Pw=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return xl(this.value);case"E":return Wb(this.error);case"C":return Il()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function Rw(e,t=Np){var n;const r=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return e=>e.lift(new Nw(r,t))}class Nw{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new Mw(e,this.delay,this.scheduler))}}class Mw extends f{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,r=e.scheduler,i=e.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const t=Math.max(0,n[0].time-r.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(Mw.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new Dw(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(Pw.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(Pw.createComplete()),this.unsubscribe()}}class Dw{constructor(e,t){this.time=e,this.notification=t}}const Vw="Service workers are disabled or not supported by this browser";class jw{constructor(e){if(this.serviceWorker=e,e){const t=Rp(e,"controllerchange").pipe(j(()=>e.controller)),n=sc(Al(()=>xl(e.controller)),t);this.worker=n.pipe(Rl(e=>!!e)),this.registration=this.worker.pipe(nc(()=>e.getRegistration()));const r=Rp(e,"message").pipe(j(e=>e.data)).pipe(Rl(e=>e&&e.type)).pipe(te(new k));r.connect(),this.events=r}else this.worker=this.events=this.registration=(t=Vw,Al(()=>Wb(new Error(t))));var t}postMessage(e,t){return this.worker.pipe(Zl(1),uc(n=>{n.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>void 0)}postMessageWithStatus(e,t,n){const r=this.waitForStatus(n),i=this.postMessage(e,t);return Promise.all([r,i]).then(()=>void 0)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){return this.events.pipe(Rl(t=>t.type===e))}nextEventOfType(e){return this.eventsOfType(e).pipe(Zl(1))}waitForStatus(e){return this.eventsOfType("STATUS").pipe(Rl(t=>t.nonce===e),Zl(1),j(e=>{if(!e.status)throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}class Fw{constructor(e){if(this.sw=e,this.subscriptionChanges=new k,!e.isEnabled)return this.messages=Aw,this.notificationClicks=Aw,void(this.subscription=Aw);this.messages=this.sw.eventsOfType("PUSH").pipe(j(e=>e.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(j(e=>e.data)),this.pushManager=this.sw.registration.pipe(j(e=>e.pushManager));const t=this.pushManager.pipe(nc(e=>e.getSubscription()));this.subscription=Q(t,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(Vw));const t={userVisibleOnly:!0};let n=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return t.applicationServerKey=r,this.pushManager.pipe(nc(e=>e.subscribe(t)),Zl(1)).toPromise().then(e=>(this.subscriptionChanges.next(e),e))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Zl(1),nc(e=>{if(null===e)throw new Error("Not subscribed to push notifications.");return e.unsubscribe().then(e=>{if(!e)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Vw))}decodeBase64(e){return atob(e)}}class Uw{constructor(e){if(this.sw=e,!e.isEnabled)return this.available=Aw,void(this.activated=Aw);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Vw));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Vw));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)}}class Lw{}const Bw=new Oe("NGSW_REGISTER_SCRIPT");function Hw(e,t,n,r){return()=>{if(!(vl(r)&&"serviceWorker"in navigator&&!1!==n.enabled))return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)i=n.registrationStrategy();else{const[t,...r]=(n.registrationStrategy||"registerWhenStable").split(":");switch(t){case"registerImmediately":i=xl(null);break;case"registerWithDelay":i=xl(null).pipe(Rw(+r[0]||0));break;case"registerWhenStable":i=e.get(Js).isStable.pipe(Rl(e=>e));break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}i.pipe(Zl(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:n.scope}).catch(e=>console.error("Service worker registration failed with:",e)))}}function $w(e,t){return new jw(vl(t)&&!1!==e.enabled?navigator.serviceWorker:void 0)}class qw{static register(e,t={}){return{ngModule:qw,providers:[{provide:Bw,useValue:e},{provide:Lw,useValue:t},{provide:jw,useFactory:$w,deps:[Lw,us]},{provide:is,useFactory:Hw,deps:[Xt,Bw,Lw,us],multi:!0}]}}}class zw{call(e,t){return t.subscribe(new Ww(e))}}class Ww extends f{constructor(e){super(e)}_next(e){this.destination.next(Pw.createNext(e))}_error(e){const t=this.destination;t.next(Pw.createError(e)),t.complete()}_complete(){const e=this.destination;e.next(Pw.createComplete()),e.complete()}}class Kw{call(e,t){return t.subscribe(new Qw(e))}}class Qw extends f{constructor(e){super(e)}_next(e){e.observe(this.destination)}}let Gw=JSON.parse(localStorage.getItem("users"))||[];class Zw{intercept(e,t){const{url:n,method:r,headers:i,body:s}=e;return xl(null).pipe(H((function(){switch(!0){case n.endsWith("/users/authenticate")&&"POST"===r:return function(){const{username:e,password:t}=s,n=Gw.find(n=>n.username===e&&n.password===t);return n?o({id:n.id,username:n.username,firstName:n.firstName,lastName:n.lastName,token:"fake-jwt-token"}):a("Username or password is incorrect")}();case n.endsWith("/users/register")&&"POST"===r:return function(){const e=s;return Gw.find(t=>t.username===e.username)?a('Username "'+e.username+'" is already taken'):(e.id=Gw.length?Math.max(...Gw.map(e=>e.id))+1:1,Gw.push(e),localStorage.setItem("users",JSON.stringify(Gw)),o())}();case n.endsWith("/users")&&"GET"===r:return c()?o(Gw):l();case n.match(/\/users\/\d+$/)&&"DELETE"===r:return c()?(Gw=Gw.filter(e=>e.id!==function(){const e=n.split("/");return parseInt(e[e.length-1])}()),localStorage.setItem("users",JSON.stringify(Gw)),o()):l();default:return t.handle(e)}}))).pipe((function(e){return e.lift(new zw)})).pipe(Rw(500)).pipe((function(e){return e.lift(new Kw)}));function o(e){return xl(new Xv({status:200,body:e}))}function a(e){return Wb({error:{message:e}})}function l(){return Wb({status:401,error:{message:"Unauthorised"}})}function c(){return"Bearer fake-jwt-token"===i.get("Authorization")}}}class Jw{}class Yw{}class Xw{constructor(e,t){bl(t)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,t=[]){return{ngModule:Xw,providers:e.serverLoaded?[{provide:Bp,useValue:Object.assign({},Lp,e)},{provide:$p,useValue:t,multi:!0},{provide:Hp,useValue:!0}]:[{provide:Bp,useValue:Object.assign({},Lp,e)},{provide:$p,useValue:t,multi:!0}]}}}class e_{}var t_=La(Ha,[$a],(function(e){return function(e){const t={},n=[];let r=!1;for(let i=0;i<e.length;i++){const s=e[i];s.token===Jt&&!0===s.value&&(r=!0),1073741824&s.flags&&n.push(s.token),s.index=i,t[mr(s.token)]=s}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([Yr(512,kn,Sn,[[8,[Tp,Ab,zb,rw,lw,gw]],[3,kn],We]),Yr(5120,ps,mo,[[3,ps]]),Yr(4608,tl,nl,[ps,[2,el]]),Yr(5120,zi,yo,[Ps]),Yr(5120,os,as,[]),Yr(5120,Qn,fo,[]),Yr(5120,Gn,go,[]),Yr(4608,bu,wu,[gl]),Yr(6144,At,null,[bu]),Yr(4608,du,fu,[]),Yr(5120,Mc,(function(e,t,n,r,i,s,o,a){return[new uu(e,t,n),new vu(r),new gu(i,s,o,a)]}),[gl,Ps,us,gl,gl,du,ds,[2,pu]]),Yr(4608,Dc,Dc,[Mc,Ps]),Yr(135680,Fc,Fc,[gl]),Yr(4608,zc,zc,[Dc,Fc,os]),Yr(6144,Rn,null,[zc]),Yr(6144,jc,null,[Fc]),Yr(4608,Fs,Fs,[Ps]),Yr(5120,Cp,xp,[wp]),Yr(5120,hs,(function(e,t,n){return[(r=e,i=t,()=>{if(vl(i)){const e=Array.from(r.querySelectorAll("[class*=flex-layout-]")),t=/\bflex-layout-.+?\b/g;e.forEach(e=>{e.classList.contains("flex-layout-ssr")&&e.parentNode?e.parentNode.removeChild(e):e.className.replace(t,"")})}}),n];var r,i}),[gl,us,Cp]),Yr(4608,hg,hg,[]),Yr(4608,db,pb,[gl,us,ub]),Yr(4608,fb,fb,[db,hb]),Yr(5120,ib,(function(e){return[e]}),[fb]),Yr(4608,yw,ww,[]),Yr(4608,lb,lb,[]),Yr(6144,ab,null,[lb]),Yr(5120,Bv,Ow,[yw,bw,ab]),Yr(4608,Lv,gb,[Bv,Xt]),Yr(4608,nb,nb,[Lv]),Yr(4608,cb,cb,[ab]),Yr(5120,Fh,bp,[Gd]),Yr(4608,op,op,[]),Yr(6144,ip,null,[op]),Yr(135680,ap,ap,[Gd,Xs,ws,Xt,ip]),Yr(4608,sp,sp,[]),Yr(5120,lp,fp,[Gd,wl,cp]),Yr(5120,jw,$w,[Lw,us]),Yr(4608,Fw,Fw,[jw]),Yr(4608,Uw,Uw,[jw]),Yr(4608,Zw,Zw,[]),Yr(1073742336,fl,fl,[]),Yr(1024,it,Ou,[]),Yr(1024,Ws,(function(){return[dp()]}),[]),Yr(512,wp,wp,[Xt]),Yr(256,Bw,"ngsw-worker.js",[]),Yr(256,Lw,{enabled:!0},[]),Yr(1024,is,(function(e,t,n,r,i,s){return[(o=e,Pc("probe",Nc),Pc("coreTokens",Object.assign({},Rc,(o||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>Nc),_p(t),Hw(n,r,i,s)];var o}),[[2,Ws],wp,Xt,Bw,Lw,us]),Yr(512,ss,ss,[[2,is]]),Yr(131584,Js,Js,[Ps,ds,Xt,it,kn,ss]),Yr(1073742336,vo,vo,[Js]),Yr(1073742336,Iu,Iu,[[3,Iu]]),Yr(1024,up,mp,[[3,Gd]]),Yr(512,mh,yh,[]),Yr(512,tp,tp,[]),Yr(256,cp,{paramsInheritanceStrategy:"always"},[]),Yr(1024,Wa,gp,[qa,[2,Ka],cp]),Yr(512,Qa,Qa,[Wa,qa]),Yr(512,ws,ws,[]),Yr(512,Xs,io,[ws,[2,no]]),Yr(1024,Hd,(function(){return[[{path:"",redirectTo:"/notes-manager",pathMatch:"full"},{path:"notes-manager",component:Sb,children:[{path:":topicId",component:Bb,children:[{path:"notes/new",component:Qb,pathMatch:"full"},{path:"notes/:noteId",component:Qb}]}]},{path:"log-in",component:iw}]]}),[]),Yr(1024,Gd,vp,[Js,mh,tp,Qa,Xt,Xs,ws,Hd,cp,[2,qd],[2,Ld]]),Yr(1073742336,pp,pp,[[2,up],[2,Gd]]),Yr(1073742336,jp,jp,[]),Yr(1073742336,Jw,Jw,[]),Yr(1073742336,Bf,Bf,[]),Yr(1073742336,zf,zf,[]),Yr(1073742336,Yw,Yw,[]),Yr(1073742336,Xw,Xw,[[2,Hp],us]),Yr(1073742336,Lg,Lg,[]),Yr(1073742336,Bg,Bg,[]),Yr(1073742336,mb,mb,[]),Yr(1073742336,yb,yb,[]),Yr(1073742336,Iw,Iw,[]),Yr(1073742336,e_,e_,[]),Yr(1073742336,qw,qw,[]),Yr(1073742336,Ha,Ha,[]),Yr(256,Jt,!0,[]),Yr(256,ub,"XSRF-TOKEN",[]),Yr(256,hb,"X-XSRF-TOKEN",[]),Yr(256,bw,{dataEncapsulation:!1},[])])}));(function(){if(ot)throw new Error("Cannot enable prod mode after platform setup.");st=!1})(),Tu().bootstrapModuleFactory(t_).catch(e=>console.error(e))}},[[0,0]]]);